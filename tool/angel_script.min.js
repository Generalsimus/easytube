(function () {
    var k, aa = "function" == typeof Object.defineProperties ? Object.defineProperty : function (a, b, c) {
            a != Array.prototype && a != Object.prototype && (a[b] = c.value)
        },
        ba = "undefined" != typeof window && window === this ? this : "undefined" != typeof global && null != global ? global : this;

    function ca() {
        ca = function () {};
        ba.Symbol || (ba.Symbol = ea)
    }
    var ea = function () {
        var a = 0;
        return function (b) {
            return "jscomp_symbol_" + (b || "") + a++
        }
    }();

    function fa() {
        ca();
        var a = ba.Symbol.iterator;
        a || (a = ba.Symbol.iterator = ba.Symbol("iterator"));
        "function" != typeof Array.prototype[a] && aa(Array.prototype, a, {
            configurable: !0,
            writable: !0,
            value: function () {
                return ha(this)
            }
        });
        fa = function () {}
    }

    function ha(a) {
        var b = 0;
        return ia(function () {
            return b < a.length ? {
                done: !1,
                value: a[b++]
            } : {
                done: !0
            }
        })
    }

    function ia(a) {
        fa();
        a = {
            next: a
        };
        a[ba.Symbol.iterator] = function () {
            return this
        };
        return a
    }

    function l(a) {
        fa();
        ca();
        fa();
        var b = a[Symbol.iterator];
        return b ? b.call(a) : ha(a)
    }
    var ja = "function" == typeof Object.create ? Object.create : function (a) {
            function b() {}
            b.prototype = a;
            return new b
        },
        ka;
    if ("function" == typeof Object.setPrototypeOf) ka = Object.setPrototypeOf;
    else {
        var la;
        a: {
            var ma = {
                    Aa: !0
                },
                na = {};
            try {
                na.__proto__ = ma;
                la = na.Aa;
                break a
            } catch (a) {}
            la = !1
        }
        ka = la ? function (a, b) {
            a.__proto__ = b;
            if (a.__proto__ !== b) throw new TypeError(a + " is not extensible");
            return a
        } : null
    }
    var oa = ka;

    function m(a, b) {
        a.prototype = ja(b.prototype);
        a.prototype.constructor = a;
        if (oa) oa(a, b);
        else
            for (var c in b)
                if ("prototype" != c)
                    if (Object.defineProperties) {
                        var d = Object.getOwnPropertyDescriptor(b, c);
                        d && Object.defineProperty(a, c, d)
                    } else a[c] = b[c];
        a.ks = b.prototype
    }

    function pa(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b)
    }

    function qa(a, b) {
        if (b) {
            for (var c = ba, d = a.split("."), e = 0; e < d.length - 1; e++) {
                var f = d[e];
                f in c || (c[f] = {});
                c = c[f]
            }
            d = d[d.length - 1];
            e = c[d];
            f = b(e);
            f != e && null != f && aa(c, d, {
                configurable: !0,
                writable: !0,
                value: f
            })
        }
    }
    qa("Object.assign", function (a) {
        return a ? a : function (a, c) {
            for (var b = 1; b < arguments.length; b++) {
                var e = arguments[b];
                if (e)
                    for (var f in e) pa(e, f) && (a[f] = e[f])
            }
            return a
        }
    });
    qa("Number.isNaN", function (a) {
        return a ? a : function (a) {
            return "number" === typeof a && isNaN(a)
        }
    });

    function ra(a, b) {
        fa();
        a instanceof String && (a += "");
        var c = 0,
            d = {
                next: function () {
                    if (c < a.length) {
                        var e = c++;
                        return {
                            value: b(e, a[e]),
                            done: !1
                        }
                    }
                    d.next = function () {
                        return {
                            done: !0,
                            value: void 0
                        }
                    };
                    return d.next()
                }
            };
        d[Symbol.iterator] = function () {
            return d
        };
        return d
    }
    qa("Array.prototype.keys", function (a) {
        return a ? a : function () {
            return ra(this, function (a) {
                return a
            })
        }
    });
    qa("Object.is", function (a) {
        return a ? a : function (a, c) {
            return a === c ? 0 !== a || 1 / a === 1 / c : a !== a && c !== c
        }
    });
    qa("Array.prototype.includes", function (a) {
        return a ? a : function (a, c) {
            var b = this;
            b instanceof String && (b = String(b));
            for (var e = b.length, f = c || 0; f < e; f++)
                if (b[f] == a || Object.is(b[f], a)) return !0;
            return !1
        }
    });

    function sa(a, b, c) {
        if (null == a) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
        if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
        return a + ""
    }
    qa("String.prototype.includes", function (a) {
        return a ? a : function (a, c) {
            return -1 !== sa(this, a, "includes").indexOf(a, c || 0)
        }
    });
    qa("Promise", function (a) {
        function b(a) {
            this.fi = 0;
            this.Pl = void 0;
            this.Rh = [];
            var b = this.Jk();
            try {
                a(b.resolve, b.reject)
            } catch (p) {
                b.reject(p)
            }
        }

        function c() {
            this.Ae = null
        }

        function d(a) {
            return a instanceof b ? a : new b(function (b) {
                b(a)
            })
        }
        if (a) return a;
        c.prototype.Jm = function (a) {
            null == this.Ae && (this.Ae = [], this.Ep());
            this.Ae.push(a)
        };
        c.prototype.Ep = function () {
            var a = this;
            this.Km(function () {
                a.$p()
            })
        };
        var e = ba.setTimeout;
        c.prototype.Km = function (a) {
            e(a, 0)
        };
        c.prototype.$p = function () {
            for (; this.Ae && this.Ae.length;) {
                var a = this.Ae;
                this.Ae = [];
                for (var b = 0; b < a.length; ++b) {
                    var c = a[b];
                    delete a[b];
                    try {
                        c()
                    } catch (u) {
                        this.Fp(u)
                    }
                }
            }
            this.Ae = null
        };
        c.prototype.Fp = function (a) {
            this.Km(function () {
                throw a;
            })
        };
        b.prototype.Jk = function () {
            function a(a) {
                return function (d) {
                    c || (c = !0, a.call(b, d))
                }
            }
            var b = this,
                c = !1;
            return {
                resolve: a(this.Vq),
                reject: a(this.Ll)
            }
        };
        b.prototype.Vq = function (a) {
            if (a === this) this.Ll(new TypeError("A Promise cannot resolve to itself"));
            else if (a instanceof b) this.hr(a);
            else {
                a: switch (typeof a) {
                    case "object":
                        var c = null != a;
                        break a;
                    case "function":
                        c = !0;
                        break a;
                    default:
                        c = !1
                }
                c ? this.Uq(a) : this.nn(a)
            }
        };
        b.prototype.Uq = function (a) {
            var b = void 0;
            try {
                b = a.then
            } catch (p) {
                this.Ll(p);
                return
            }
            "function" == typeof b ? this.ir(b, a) : this.nn(a)
        };
        b.prototype.Ll = function (a) {
            this.Qo(2, a)
        };
        b.prototype.nn = function (a) {
            this.Qo(1, a)
        };
        b.prototype.Qo = function (a, b) {
            if (0 != this.fi) throw Error("Cannot settle(" + a + ", " + b | "): Promise already settled in state" + this.fi);
            this.fi = a;
            this.Pl = b;
            this.aq()
        };
        b.prototype.aq = function () {
            if (null != this.Rh) {
                for (var a = this.Rh, b = 0; b < a.length; ++b) a[b].call(), a[b] = null;
                this.Rh = null
            }
        };
        var f = new c;
        b.prototype.hr = function (a) {
            var b = this.Jk();
            a.Ei(b.resolve, b.reject)
        };
        b.prototype.ir = function (a, b) {
            var c = this.Jk();
            try {
                a.call(b, c.resolve, c.reject)
            } catch (u) {
                c.reject(u)
            }
        };
        b.prototype.then = function (a, c) {
            function d(a, b) {
                return "function" == typeof a ? function (b) {
                    try {
                        e(a(b))
                    } catch (da) {
                        f(da)
                    }
                } : b
            }
            var e, f, g = new b(function (a, b) {
                e = a;
                f = b
            });
            this.Ei(d(a, e), d(c, f));
            return g
        };
        b.prototype["catch"] = function (a) {
            return this.then(void 0, a)
        };
        b.prototype.Ei = function (a, b) {
            function c() {
                switch (d.fi) {
                    case 1:
                        a(d.Pl);
                        break;
                    case 2:
                        b(d.Pl);
                        break;
                    default:
                        throw Error("Unexpected state: " + d.fi);
                }
            }
            var d = this;
            null == this.Rh ? f.Jm(c) : this.Rh.push(function () {
                f.Jm(c)
            })
        };
        b.resolve = d;
        b.reject = function (a) {
            return new b(function (b, c) {
                c(a)
            })
        };
        b.race = function (a) {
            return new b(function (b, c) {
                for (var e = l(a), f = e.next(); !f.done; f = e.next()) d(f.value).Ei(b, c)
            })
        };
        b.all = function (a) {
            var c = l(a),
                e = c.next();
            return e.done ? d([]) : new b(function (a, b) {
                function f(b) {
                    return function (c) {
                        g[b] = c;
                        h--;
                        0 == h && a(g)
                    }
                }
                var g = [],
                    h = 0;
                do g.push(void 0), h++, d(e.value).Ei(f(g.length - 1), b), e = c.next(); while (!e.done)
            })
        };
        return b
    });
    qa("WeakMap", function (a) {
        function b(a) {
            this.Dh = (f += Math.random() + 1).toString();
            if (a) {
                ca();
                fa();
                a = l(a);
                for (var b; !(b = a.next()).done;) b = b.value, this.set(b[0], b[1])
            }
        }

        function c(a) {
            pa(a, e) || aa(a, e, {
                value: {}
            })
        }

        function d(a) {
            var b = Object[a];
            b && (Object[a] = function (a) {
                c(a);
                return b(a)
            })
        }
        if (function () {
                if (!a || !Object.seal) return !1;
                try {
                    var b = Object.seal({}),
                        c = Object.seal({}),
                        d = new a([
                            [b, 2],
                            [c, 3]
                        ]);
                    if (2 != d.get(b) || 3 != d.get(c)) return !1;
                    d["delete"](b);
                    d.set(c, 4);
                    return !d.has(b) && 4 == d.get(c)
                } catch (u) {
                    return !1
                }
            }()) return a;
        var e = "$jscomp_hidden_" + Math.random().toString().substring(2);
        d("freeze");
        d("preventExtensions");
        d("seal");
        var f = 0;
        b.prototype.set = function (a, b) {
            c(a);
            if (!pa(a, e)) throw Error("WeakMap key fail: " + a);
            a[e][this.Dh] = b;
            return this
        };
        b.prototype.get = function (a) {
            return pa(a, e) ? a[e][this.Dh] : void 0
        };
        b.prototype.has = function (a) {
            return pa(a, e) && pa(a[e], this.Dh)
        };
        b.prototype["delete"] = function (a) {
            return pa(a, e) && pa(a[e], this.Dh) ? delete a[e][this.Dh] : !1
        };
        return b
    });
    qa("Map", function (a) {
        function b() {
            var a = {};
            return a.qe = a.next = a.head = a
        }

        function c(a, b) {
            var c = a.he;
            return ia(function () {
                if (c) {
                    for (; c.head != a.he;) c = c.qe;
                    for (; c.next != c.head;) return c = c.next, {
                        done: !1,
                        value: b(c)
                    };
                    c = null
                }
                return {
                    done: !0,
                    value: void 0
                }
            })
        }

        function d(a, b) {
            var c = b && typeof b;
            "object" == c || "function" == c ? f.has(b) ? c = f.get(b) : (c = "" + ++h, f.set(b, c)) : c = "p_" + b;
            var d = a.sh[c];
            if (d && pa(a.sh, c))
                for (var e = 0; e < d.length; e++) {
                    var g = d[e];
                    if (b !== b && g.key !== g.key || b === g.key) return {
                        id: c,
                        list: d,
                        index: e,
                        Vb: g
                    }
                }
            return {
                id: c,
                list: d,
                index: -1,
                Vb: void 0
            }
        }

        function e(a) {
            this.sh = {};
            this.he = b();
            this.size = 0;
            if (a) {
                a = l(a);
                for (var c; !(c = a.next()).done;) c = c.value, this.set(c[0], c[1])
            }
        }
        if (function () {
                if (!a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
                try {
                    var b = Object.seal({
                            x: 4
                        }),
                        c = new a(l([
                            [b, "s"]
                        ]));
                    if ("s" != c.get(b) || 1 != c.size || c.get({
                            x: 4
                        }) || c.set({
                            x: 4
                        }, "t") != c || 2 != c.size) return !1;
                    var d = c.entries(),
                        e = d.next();
                    if (e.done || e.value[0] != b || "s" != e.value[1]) return !1;
                    e = d.next();
                    return e.done || 4 != e.value[0].x || "t" != e.value[1] || !d.next().done ? !1 : !0
                } catch (C) {
                    return !1
                }
            }()) return a;
        ca();
        fa();
        var f = new WeakMap;
        e.prototype.set = function (a, b) {
            var c = d(this, a);
            c.list || (c.list = this.sh[c.id] = []);
            c.Vb ? c.Vb.value = b : (c.Vb = {
                next: this.he,
                qe: this.he.qe,
                head: this.he,
                key: a,
                value: b
            }, c.list.push(c.Vb), this.he.qe.next = c.Vb, this.he.qe = c.Vb, this.size++);
            return this
        };
        e.prototype["delete"] = function (a) {
            a = d(this, a);
            return a.Vb && a.list ? (a.list.splice(a.index, 1), a.list.length || delete this.sh[a.id], a.Vb.qe.next = a.Vb.next, a.Vb.next.qe = a.Vb.qe, a.Vb.head = null, this.size--, !0) : !1
        };
        e.prototype.clear = function () {
            this.sh = {};
            this.he = this.he.qe = b();
            this.size = 0
        };
        e.prototype.has = function (a) {
            return !!d(this, a).Vb
        };
        e.prototype.get = function (a) {
            return (a = d(this, a).Vb) && a.value
        };
        e.prototype.entries = function () {
            return c(this, function (a) {
                return [a.key, a.value]
            })
        };
        e.prototype.keys = function () {
            return c(this, function (a) {
                return a.key
            })
        };
        e.prototype.values = function () {
            return c(this, function (a) {
                return a.value
            })
        };
        e.prototype.forEach = function (a, b) {
            for (var c = this.entries(), d; !(d = c.next()).done;) d = d.value, a.call(b, d[1], d[0], this)
        };
        e.prototype[Symbol.iterator] = e.prototype.entries;
        var h = 0;
        return e
    });
    qa("Set", function (a) {
        function b(a) {
            this.Pd = new Map;
            if (a) {
                a = l(a);
                for (var b; !(b = a.next()).done;) this.add(b.value)
            }
            this.size = this.Pd.size
        }
        if (function () {
                if (!a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
                try {
                    var b = Object.seal({
                            x: 4
                        }),
                        d = new a(l([b]));
                    if (!d.has(b) || 1 != d.size || d.add(b) != d || 1 != d.size || d.add({
                            x: 4
                        }) != d || 2 != d.size) return !1;
                    var e = d.entries(),
                        f = e.next();
                    if (f.done || f.value[0] != b || f.value[1] != b) return !1;
                    f = e.next();
                    return f.done || f.value[0] == b || 4 != f.value[0].x || f.value[1] != f.value[0] ? !1 : e.next().done
                } catch (h) {
                    return !1
                }
            }()) return a;
        ca();
        fa();
        b.prototype.add = function (a) {
            this.Pd.set(a, a);
            this.size = this.Pd.size;
            return this
        };
        b.prototype["delete"] = function (a) {
            a = this.Pd["delete"](a);
            this.size = this.Pd.size;
            return a
        };
        b.prototype.clear = function () {
            this.Pd.clear();
            this.size = 0
        };
        b.prototype.has = function (a) {
            return this.Pd.has(a)
        };
        b.prototype.entries = function () {
            return this.Pd.entries()
        };
        b.prototype.values = function () {
            return this.Pd.values()
        };
        b.prototype.keys = b.prototype.values;
        b.prototype[Symbol.iterator] = b.prototype.values;
        b.prototype.forEach = function (a, b) {
            var c = this;
            this.Pd.forEach(function (d) {
                return a.call(b, d, d, c)
            })
        };
        return b
    });
    qa("String.prototype.startsWith", function (a) {
        return a ? a : function (a, c) {
            var b = sa(this, a, "startsWith");
            a += "";
            for (var e = b.length, f = a.length, h = Math.max(0, Math.min(c | 0, b.length)), g = 0; g < f && h < e;)
                if (b[h++] != a[g++]) return !1;
            return g >= f
        }
    });
    qa("Array.prototype.values", function (a) {
        return a ? a : function () {
            return ra(this, function (a, c) {
                return c
            })
        }
    });
    qa("Array.from", function (a) {
        return a ? a : function (a, c, d) {
            fa();
            c = null != c ? c : function (a) {
                return a
            };
            var b = [],
                f = a[Symbol.iterator];
            if ("function" == typeof f)
                for (a = f.call(a); !(f = a.next()).done;) b.push(c.call(d, f.value));
            else {
                f = a.length;
                for (var h = 0; h < f; h++) b.push(c.call(d, a[h]))
            }
            return b
        }
    });

    function ta() {
        this.Rd = !0;
        this.nd = this.tj = 10
    }

    function ua(a, b) {
        this.Xq = a;
        this.listener = b
    }
    ua.prototype.removeListener = function () {
        this.Xq.removeListener(this.listener)
    };

    function va(a, b) {
        b.add(a)
    }

    function n(a, b) {
        this.cn = a;
        this.Mf = [];
        this.history = [];
        this.options = Object.assign(new ta, b)
    }

    function q(a, b, c) {
        c = void 0 === c ? !0 : c;
        a.Mf.push(b);
        if (c) {
            c = l(a.history);
            for (var d = c.next(); !d.done; d = c.next()) b(d.value)
        }
        a.Mf.length > a.options.nd && r('EventRouter "' + a.cn + '" has too many listeners', {
            listeners: a.Mf.length,
            "max-listeners": a.options.nd
        });
        return new ua(a, b)
    }
    n.prototype.once = function (a, b) {
        function c(b) {
            a(b);
            d.removeListener(c)
        }
        var d = this;
        return q(this, c, void 0 === b ? !0 : b)
    };

    function t(a, b) {
        a.history.push(b) > a.options.tj && a.history.shift();
        for (var c = l(a.Mf), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            try {
                d(b)
            } catch (e) {
                v("Event listener error: " + e, {
                    event_name: a.cn,
                    event_listeners: a.Mf.length
                })
            }
        }
    }
    n.prototype.removeListener = function (a) {
        a = this.Mf.indexOf(a);
        0 <= a && this.Mf.splice(a, 1)
    };

    function wa() {
        this.xk = []
    }
    wa.prototype.add = function (a) {
        this.xk.push(a)
    };

    function xa(a) {
        for (var b = l(a.xk), c = b.next(); !c.done; c = b.next()) c.value.removeListener();
        a.xk = []
    };

    function w() {
        this.og = [];
        this.Pi = new n("didReposition", {
            Rd: !1
        });
        this.a = document.createElement("div");
        this.a.style.height = "100%";
        this.a.style.width = "100%";
        this.a.style.position = "absolute";
        this.a.style.overflow = "hidden";
        this.a.style.webkitTapHighlightColor = "transparent";
        this.a.id = this.constructor.name
    }
    k = w.prototype;
    k.C = function () {};

    function x(a) {
        a.C();
        for (var b = l(a.children()), c = b.next(); !c.done; c = b.next()) x(c.value);
        t(a.Pi, {})
    }
    k.Gm = function () {};
    k.mh = function () {
        this.Gm();
        for (var a = l(this.children()), b = a.next(); !b.done; b = a.next()) b.value.mh()
    };
    k.N = function (a, b) {
        void 0 === b && (b = this.a);
        b.appendChild(a.a);
        this.og.push(a);
        a.parent = this;
        return a
    };

    function ya(a, b) {
        if (void 0 === c) var c = a.a;
        c.insertBefore(b.a, a.a.firstChild);
        a.og.unshift(b);
        b.parent = a;
        return b
    }
    k.removeChild = function (a) {
        var b = this.og.indexOf(a);
        if (isNaN(b)) v("tried removing component that doesn't exist");
        else {
            this.og.splice(b, 1);
            a.parent === this && (a.parent = void 0);
            Aa(a);
            b = l(a.children());
            for (var c = b.next(); !c.done; c = b.next()) c.value.$d();
            a.$d()
        }
    };

    function Aa(a) {
        var b = a.a.parentNode;
        null !== b ? b.removeChild(a.a) : v("couldn't find parent element to use for node removal")
    }

    function Da(a) {
        for (var b = l(a.children()), c = b.next(); !c.done; c = b.next()) c = c.value, c.parent === a && (c.parent = void 0), Aa(c), c.$d();
        a.og = []
    }
    k.children = function () {
        return this.og
    };
    k.$d = function () {};
    var Fa = window.Hls,
        Ga;

    function y() {
        if (void 0 === Ga) {
            var a = !0;
            try {
                window.localStorage.setItem("cbModernizr", "cbModernizr"), window.localStorage.removeItem("cbModernizr")
            } catch (b) {
                a = !1
            }
            Ga = a
        }
        return Ga
    }

    function Ha() {
        var a = document.createElement("a").style;
        a.cssText = "background-color:rgba(150,255,150,.5)";
        return -1 < ("" + a.backgroundColor).indexOf("rgba")
    }

    function Ia() {
        for (var a = "", b = l(["-webkit-", "-moz-", "-o-", "-ms-"]), c = b.next(); !c.done; c = b.next()) a += "background-image:" + c.value + "linear-gradient(left top, #9f9, white);\n";
        b = document.createElement("a").style;
        b.cssText = a;
        return -1 < ("" + b.backgroundImage).indexOf("gradient")
    }

    function Ja() {
        try {
            return !!document.createElement("audio").canPlayType
        } catch (a) {
            return !1
        }
    }
    var Ka;

    function La() {
        if (void 0 !== Ka) return Ka;
        Ka = !1;
        try {
            if ("webkitAudioContext" in window) var a = new webkitAudioContext;
            else if ("AudioContext" in window) a = new AudioContext;
            else return Ka;
            if (null === a) return Ka;
            Ka = "function" === typeof a.createGain && "function" === typeof a.decodeAudioData && "function" === typeof a.createBufferSource && "function" === typeof a.createBufferSource().start;
            "function" === typeof a.close && a.close()
        } catch (b) {
            v("Error checking for audio context: " + b)
        }
        return Ka
    }
    var Ma;

    function Na() {
        if (void 0 !== Ma) return Ma;
        var a = document.createElement("audio");
        return Ma = "function" === typeof a.canPlayType && "" !== a.canPlayType("audio/mpeg;codecs=mp3")
    }
    Object.prototype.hasOwnProperty.call(window, "onorientationchange");

    function Oa() {
        var a = document.createElement("video").canPlayType("application/vnd.apple.mpegurl");
        return "probably" === a || "maybe" === a
    }

    function Pa() {
        return window.hasOwnProperty("requestAnimationFrame") ? window.requestAnimationFrame : window.hasOwnProperty("webkitRequestAnimationFrame") ? window.webkitRequestAnimationFrame : window.hasOwnProperty("mozRequestAnimationFrame") ? window.mozRequestAnimationFrame : function (a) {
            setTimeout(function () {
                a(0)
            }, 1E3 / 7);
            return Date.now()
        }
    }
    var Qa;

    function Ta() {
        if (void 0 !== Qa) return Qa;
        try {
            var a = Object.defineProperty({}, "passive", {
                get: function () {
                    Qa = !0
                }
            });
            window.addEventListener("testPassive", function () {}, a);
            window.removeEventListener("testPassive", function () {}, a);
            void 0 === Qa && (Qa = !1)
        } catch (b) {
            Qa = !1
        }
        return Qa
    }
    var Ua;

    function Va() {
        if (void 0 !== Ua) return Ua;
        var a = document.documentElement.scrollTop;
        document.documentElement.style.height = window.innerHeight + 1 + "px";
        document.documentElement.scrollTop = a + 1;
        Ua = document.documentElement.scrollTop !== a ? document.documentElement : document.body;
        document.documentElement.style.height = "";
        document.documentElement.scrollTop = a;
        return Ua
    }

    function Wa() {
        return void 0 !== window.performance && void 0 !== window.performance.now
    };
    var Xa = {},
        Ya = {};

    function Za(a) {
        return Number.isNaN(Number(a)) ? 0 : Number(a)
    }

    function z(a, b, c, d, e) {
        d = void 0 === d ? !1 : d;
        e = void 0 === e ? !1 : e;
        if (b === window) var f = Xa[a] = Za(Xa[a]) + 1;
        else if (b === document) f = Ya[a] = Za(Ya[a]) + 1;
        else {
            var h = "data-listener-count-" + a;
            f = Za(b.getAttribute(h)) + 1;
            b.setAttribute(h, "" + f)
        }
        42 < f && r('event listener "' + a + '" has too many listeners. Element: ' + (b === document ? "document" : b === window ? "window" : b.outerHTML.split(">")[0] + ">"), {
            listeners: f,
            "max-listeners": 42
        });
        void 0 !== window.addEventListener ? (d = Ta() ? {
            capture: d,
            passive: e
        } : d, b.addEventListener(a, c, d)) : void 0 !== window.attachEvent ? b.attachEvent("on" + a, c) : v("Could not resolve addEventListenerPoly( " + a + " ) to " + b)
    }

    function $a(a, b, c, d) {
        d = void 0 === d ? !1 : d;
        var e = void 0 === e ? !1 : e;
        if (b === window) var f = Xa[a] = Za(Xa[a]) - 1;
        else if (b === document) f = Ya[a] = Za(Ya[a]) - 1;
        else {
            var h = "data-listener-count-" + a;
            f = Za(b.getAttribute(h)) - 1;
            b.setAttribute(h, "" + f)
        }
        0 > f && v('event listener "' + a + '" removed without being added', {
            listeners: f
        });
        void 0 !== window.removeEventListener ? (d = Ta() ? {
            capture: d,
            passive: e
        } : d, b.removeEventListener(a, c, d)) : void 0 !== window.detachEvent ? b.detachEvent("on" + a, c) : v("Could not resolve removeEventListenerPoly( " + a + " ) from " +
            b)
    };

    function ab(a) {
        for (var b = "", c = l(Object.keys(a)), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            "" !== b && (b += "&");
            var e = a[d];
            void 0 === e && (e = "");
            b += encodeURIComponent(d) + "=" + encodeURIComponent(e)
        }
        return b
    }

    function bb() {
        var a = window.location.search;
        0 < a.length && "?" === a[0] && (a = a.slice(1));
        var b = {};
        a = l(a.split("&"));
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, c.includes("=") && (c = c.split("="), 0 < c[0].length && (b[decodeURIComponent(c[0])] = 0 < c[1].length ? decodeURIComponent(c[1]) : void 0));
        return b
    };

    function cb() {
        return document.cookie.split(";").map(function (a) {
            return a.trim()
        }).filter(function (a) {
            return "csrftoken=" === a.substring(0, 10)
        }).map(function (a) {
            return decodeURIComponent(a.substring(10))
        })[0]
    }

    function db(a) {
        var b = a.length + 1;
        return document.cookie.split(";").map(function (a) {
            return a.trim()
        }).filter(function (c) {
            return c.substring(0, b) === a + "="
        }).map(function (a) {
            return decodeURIComponent(a.substring(b))
        })[0]
    }

    function eb(a, b, c) {
        var d = new Date;
        d.setTime(d.getTime() + 864E5 * c);
        document.cookie = a + "=" + b + "; expires=" + d.toUTCString() + "; path=/"
    };

    function fb(a) {
        switch (a.readyState) {
            case 0:
                return "request not sent";
            case 4:
                switch (a.status) {
                    case 0:
                        return "network error";
                    case 400:
                        return "bad request";
                    case 401:
                        return "unauthorized";
                    case 403:
                        return "access denied";
                    case 404:
                        return "not found";
                    case 429:
                        return "request throttled";
                    case 500:
                        return "server error";
                    default:
                        return "unknown status " + a.status
                }
                default:
                    return "unknown ready state " + a.readyState
        }
    }

    function gb(a) {
        var b = Error.call(this, fb(a));
        this.message = b.message;
        "stack" in b && (this.stack = b.stack);
        var c = this;
        this.ad = a;
        this.toString = function () {
            return "XhrError: " + c.message
        }
    }
    m(gb, Error);

    function hb() {
        new Promise(function (a) {
            a()
        })
    }

    function ib(a) {
        return 200 <= a && 299 >= a || 1223 === a
    }

    function A(a) {
        return jb(a, 6E4)[1]
    }

    function jb(a, b) {
        b = void 0 === b ? 6E4 : b;
        var c = new XMLHttpRequest;
        return [c, new Promise(function (d, e) {
            c.onload = function () {
                ib(c.status) ? d(c) : e(new gb(c))
            };
            c.onerror = function () {
                e(new gb(c))
            };
            c.open("GET", "/" + a);
            c.withCredentials = !0;
            c.timeout = b;
            c.send()
        })]
    }

    function B(a, b) {
        return new Promise(function (c, d) {
            var e = new XMLHttpRequest;
            e.open("POST", "/" + a, !0);
            e.withCredentials = !0;
            e.onerror = function () {
                d(new gb(e))
            };
            e.onload = function () {
                ib(e.status) ? c(e) : d(new gb(e))
            };
            e.setRequestHeader("content-type", "application/x-www-form-urlencoded");
            e.setRequestHeader("X-Requested-With", "XMLHttpRequest");
            var f = Object.assign({}, b),
                h = b.csrfmiddlewaretoken,
                g = cb();
            void 0 === g ? void 0 !== h ? f.csrfmiddlewaretoken = h : v("CSRF token is undefined", {
                cookies: document.cookie
            }) : f.csrfmiddlewaretoken = g;
            e.send(ab(f))
        })
    };

    function D(a) {
        this.Bd = a;
        this.rp = {};
        try {
            this.parsed = JSON.parse(a)
        } catch (b) {
            v("Cannot JSON parse", {
                message: a
            }), this.parsed = {}
        }
    }
    D.prototype.tc = function (a) {
        this.rp[a] = !0
    };

    function G(a, b) {
        a.tc(b);
        if (null !== a.parsed[b]) return a.parsed[b]
    }

    function kb(a) {
        a.tc("items");
        if (null !== a.parsed.items) return a.parsed.items.map(function (a) {
            var b = new D("{}");
            b.parsed = a;
            return b
        })
    }
    D.prototype.getAsString = function (a) {
        return "" + G(this, a)
    };

    function H(a, b, c) {
        c = void 0 === c ? !0 : c;
        var d = G(a, b);
        if ("string" !== typeof d) c && void 0 !== d && r("getStringOrUndefined(" + b + "): " + d + " is wrong type", {
            message: a.Bd
        });
        else return d
    }

    function I(a, b, c) {
        c = void 0 === c ? !0 : c;
        var d = G(a, b);
        return "string" !== typeof d ? (c && r("getString(" + b + "): " + d + " is wrong type", {
            message: a.Bd
        }), "") : d
    }

    function J(a, b, c) {
        c = void 0 === c ? !0 : c;
        var d = G(a, b);
        return "string" !== typeof d && "number" !== typeof d ? (c && r("getStringWithNumbers(" + b + "): " + d + " is wrong type", {
            message: a.Bd
        }), "") : "" + d
    }

    function lb(a) {
        for (var b = new Map, c = l(["from_username", "user", "username"]), d = c.next(); !d.done; d = c.next()) d = d.value, void 0 !== H(a, d, !1) && b.set(d, H(a, d, !1));
        return b
    }

    function K(a, b, c, d) {
        c = void 0 === c ? !1 : c;
        d = void 0 === d ? !0 : d;
        var e = G(a, b);
        return "boolean" !== typeof e ? (d && r("getBoolean(" + b + "): " + e + " is wrong type", {
            message: a.Bd
        }), c) : e
    }

    function L(a, b, c) {
        c = void 0 === c ? !0 : c;
        var d = G(a, b);
        return "number" !== typeof d ? (c && r("getNumber(" + b + "): " + d + " is wrong type", {
            message: a.Bd
        }), NaN) : d
    }

    function mb(a, b) {
        var c = nb(a, b);
        return "" === c ? new D("{}") : new D(c)
    }

    function nb(a, b, c) {
        c = void 0 === c ? !0 : c;
        var d = G(a, b);
        return "object" !== typeof d ? (c && r("getObjectString(" + b + "): " + d + " is wrong type", {
            message: a.Bd
        }), "") : JSON.stringify(d)
    }

    function ob(a, b) {
        var c = void 0 === c ? !0 : c;
        var d = G(a, b);
        return "object" !== typeof d ? (c && r("getObject(" + b + "): " + d + " is wrong type", {
            message: a.Bd
        }), {}) : d
    }

    function M(a) {
        var b = [],
            c;
        for (c in a.parsed) !0 !== a.rp[c] && b.push(c);
        b = l(b);
        for (c = b.next(); !c.done; c = b.next()) c = c.value, "object" === typeof a.parsed[c] && JSON.stringify(a.parsed[c])
    };
    var pb = window.newrelic;

    function O(a, b, c) {
        b = void 0 === b ? {} : b;
        try {
            var d = {},
                e;
            for (e in b) d["attributes." + e] = b[e];
            if (void 0 !== c && c && Wa()) {
                var f = window.performance.now();
                d["attributes.timeSinceLoad"] = f / 1E3;
                d["attributes.timeSinceLoadMS"] = f
            }
            bb();
            void 0 !== pb && (d === {} ? pb.addPageAction(a) : pb.addPageAction(a, d))
        } catch (h) {
            v("New Relic Error in addPageAction: " + h)
        }
    }

    function qb() {
        $a("load", window, qb);
        for (var a = l(document.getElementsByTagName("script")), b = a.next(); !b.done; b = a.next()) b = b.value, null !== b.src.match(/https:\/\/js-agent\.newrelic\.com\/.*/) && z("error", b, function () {
            v("Ad blocker stopped analytics collection");
            B("api/adblocker/", {}).then(function () {})
        })
    }
    z("load", window, qb);

    function rb(a) {
        a = a.toLowerCase().split(" ");
        for (var b = 0; b < a.length; b += 1) a[b] = a[b].charAt(0).toUpperCase() + a[b].slice(1);
        return a.join(" ")
    }

    function sb(a) {
        a = a.toLowerCase().split("_");
        for (var b = 0; b < a.length; b += 1) a[b] = a[b].charAt(0).toUpperCase() + a[b].slice(1);
        return a.join("_")
    };
    var Q = window.gettext;
    void 0 === Q && (r("gettext is undefined."), Q = function (a) {
        return a
    });
    var tb = window.ngettext;
    void 0 === tb && (r("ngettext is undefined."), tb = function (a, b, c) {
        return 1 < c ? b : a
    });
    var R = window.interpolate;
    void 0 === R && (r("interpolate is undefined."), R = function (a) {
        return a
    });

    function ub(a) {
        return R(Q("Chat with %(username)s in a Live Adult Video Chat Room Now"), {
            username: sb(a)
        }, !0)
    }

    function vb(a) {
        return tb("token", "tokens", a)
    }

    function zb(a) {
        return R(Q("Confirm tip of %(tokens)s tokens"), {
            tokens: a
        }, !0)
    }

    function Ab(a) {
        return R(Q('room subject changed to "%(subject)s"'), {
            subject: a
        }, !0)
    }

    function Bb(a) {
        return R(Q("%(username_title)s's Cam"), {
            username_title: sb(a)
        }, !0)
    }

    function Cb(a) {
        return R(Q("Join %(modelname)s's Fan Club"), {
            modelname: rb(a)
        }, !0)
    }

    function Db(a) {
        return R(Q("You are a member of %(modelname)s's Fan Club"), {
            modelname: rb(a)
        }, !0)
    }

    function Eb(a, b) {
        return R(Q("%(users_waiting)s of %(users_required)s users are ready to start a group show"), {
            users_waiting: a,
            users_required: b
        }, !0)
    }

    function Fb(a, b) {
        return R(Q("%(username)s changed Group Show price to %(price)s tokens per minute"), {
            username: a,
            price: b
        }, !0)
    }

    function Gb(a, b) {
        return R(Q("%(username)s changed Private Show price to %(price)s tokens per minute"), {
            username: a,
            price: b
        }, !0)
    }

    function Hb(a, b) {
        return R(Q("%(username)s changed Spy on Private Show price to %(price)s tokens per minute"), {
            username: a,
            price: b
        }, !0)
    }

    function Ib(a) {
        return R(Q("%(price)s tokens per minute"), {
            price: a
        }, !0)
    }

    function Jb(a, b, c, d) {
        a = R(Q("Enter private chat with %(username)s?\n%(price)s tokens per minute, minimum %(minMinutes)s minute(s)\n\n"), {
            username: a,
            price: b,
            minMinutes: c
        }, !0);
        return a = d ? a + Q("This broadcaster allows private show recordings, so you will receive a recorded video of this show in your collection.") : a + Q("This broadcaster does not allow private show recordings, so you will not receive a recorded video of this show in your collection.")
    }

    function Kb(a, b) {
        return R(Q("Enter group show with %(room)s? (%(price)s tokens per minute)"), {
            room: a,
            price: b
        }, !0)
    }

    function Lb(a) {
        return R(Q("Broadcaster %(username)s is running these apps: "), {
            username: a
        }, !0)
    }

    function Mb(a) {
        return R(Q("PM conversation with %(username)s &lt;ctrl-l to close&gt;"), {
            username: a
        }, !0)
    }

    function Nb(a) {
        return R(Q("After tipping %(min_tokens_to_vote)s tokens in a day, you'll be able to vote regarding your satisfaction with %(room)s."), {
            min_tokens_to_vote: 25,
            room: rb(a)
        }, !0)
    }

    function Ob(a) {
        return R(Q("Your confidential vote regarding %(room)s has been recorded. You may change your vote at any time today. Thank you for your feedback."), {
            room: rb(a)
        }, !0)
    }

    function Pb() {
        var a = S.So;
        return R(Q("Caution: %(siteName)s staff will NEVER contact you via chat or ask for your password."), {
            siteName: a
        }, !0)
    }

    function Qb(a) {
        return R(Q("Are you sure you want to rate %(room)s thumbs down?"), {
            room: rb(a)
        }, !0)
    }
    var Rb = Q("Chat Color"),
        Sb = Q("Font Family"),
        Xb = Q("Font Size"),
        Yb = Q("Show Emoticons"),
        Zb = Q("Emoticon Autocomplete Delay"),
        $b = Q("Highest Token Color"),
        ac = Q("Tip Volume"),
        bc = Q("View/Edit Ignored Users"),
        cc = Q("THE ACT OF MASTURBATING WHILE CHATTING ONLINE");
    Q("CHAT ROOMS");
    Q("BETA");
    Q("TAGS");
    Q("EARN FREE TOKENS");
    Q("MY COLLECTION");
    var dc = Q("My Collection"),
        ec = Q("Login");
    Q("login");
    Q("LOGIN");
    Q("SIGN UP");
    var fc = Q("Sign Up"),
        gc = Q("Include an optional message:"),
        hc = Q("Send Tip"),
        ic = Q("SEND TIP"),
        jc = Q("Send a tip"),
        kc = Q("Send tip to broadcaster");
    Q("Include optional message");
    Q("Tip note...");
    Q("Tap to chat...");
    var lc = Q("This broadcaster doesn't accept tips."),
        mc = Q("Purchase Tokens");
    Q("Upgrade");
    Q("Supporter");
    Q("Basic Member");
    Q("MY PROFILE");
    Q("LOG OUT");
    var nc = Q("My Profile"),
        oc = Q("Log Out");
    Q("Status");
    Q("You have:");
    Q("Get More");
    var pc = Q("Get more tokens"),
        qc = Q("Get More Tokens"),
        rc = Q("connection established"),
        sc = Q("Chat disconnected. The broadcaster has set a new password on this room."),
        tc = Q("Private & Groups"),
        uc = Q("Start Private Show"),
        vc = Q("Spy on Private Show"),
        wc = Q("Private show has started."),
        xc = Q("Private show has finished."),
        yc = Q("Private show has been declined."),
        zc = Q("Cancel Private Request"),
        Ac = Q("Cannot cancel private show. Please try again in a few seconds."),
        Bc = Q("Leave Private Show"),
        Cc = Q("Private show request has been sent. Waiting on broadcaster to approve."),
        Dc = Q("In group show"),
        Ec = Q("Cancel Group Request"),
        Fc = Q("Waiting for group"),
        Gc = Q("Join Group Show"),
        Hc = Q("join group show"),
        Ic = Q("Leave Group Show"),
        Jc = Q("You are already requesting to join this group show.");
    Q("Group Shows");
    var Kc = Q("You left the group show."),
        Lc = Q("Group show has started."),
        Mc = Q("Group show has finished."),
        Nc = Q("Group show has been declined."),
        Oc = Q("Broadcaster has returned from away mode."),
        Pc = Q("You were kicked because you have joined this room again."),
        Qc = Q("The broadcaster has kicked you from the room."),
        Rc = Q("You were kicked from the room."),
        Sc = Q("signup to chat"),
        Tc = Q("About Me"),
        Uc = Q("Wish List");
    Q("PURCHASED");
    Q("TOKENS");
    var Vc = Q("Photos and Videos"),
        Wc = Q("Real Name"),
        Xc = Q("Followers"),
        Yc = Q("Sex"),
        Zc = Q("Birthday"),
        $c = Q("Birth Date"),
        ad = Q("Age"),
        bd = Q("Body Type"),
        cd = Q("Body Decorations"),
        dd = Q("Interested In"),
        ed = Q("Location"),
        fd = Q("Language(s)"),
        gd = Q("Last Broadcast"),
        hd = Q("Languages"),
        id = Q("Smoke Drink"),
        jd = Q("Smoke / Drink"),
        kd = Q("User has no available BIO"),
        ld = Q("Bio and Free Webcam"),
        md = Q("Loading"),
        nd = Q("loading"),
        od = Q("Chat settings saved"),
        pd = Q("CHAT"),
        qd = Q("SEND"),
        rd = Q("TIP"),
        sd = Q("Users"),
        td = Q("USERS"),
        ud = Q("Report Abuse"),
        vd = Q("REPORT ABUSE"),
        wd = Q("More Rooms"),
        xd = Q("spy private show"),
        yd = Q("Private Message with:");
    Q("Unfollow");
    Q("Follow");
    var zd = Q("Refresh Rooms"),
        Ad = Q("Female"),
        Bd = Q("FEMALE"),
        Cd = Q("Male"),
        Dd = Q("MALE"),
        Ed = Q("Trans"),
        Fd = Q("TRANS"),
        Gd = Q("Couple"),
        Hd = Q("COUPLE");
    Q("Followed");
    var Id = Q("FOLLOWED"),
        Jd = Q("SPY SHOWS"),
        Kd = Q("SAVE"),
        Ld = Q("Standard Emoticons"),
        Md = Q("Upload Emoticons"),
        Nd = Q("Your current balance:");
    Q("Balance:");
    var Od = Q("You currently have: "),
        Pd = Q("WARNING: This room has a low satisfaction rating."),
        Qd = Q("TIP AT YOUR OWN RISK!"),
        Rd = Q("Enter tip amount:"),
        Sd = Q("Invalid tip amount!");
    Q("Amount:");
    var Td = Q("Toggle this window with CTRL-S"),
        Ud = Q("Leave open after tipping"),
        Vd = Q("Select One"),
        Wd = Q("Loading user list"),
        Xd = Q("refresh userlist"),
        Yd = Q("View Profile"),
        Zd = Q("Send private message"),
        ae = Q("HIDE ALL ADS NOW"),
        be = Q("Powered by ExoticAds<br>Buy/Sell Traffic"),
        ce = Q("Show More"),
        de = Q("Pics & Videos"),
        ee = Q("Unique Registered Viewers Watching"),
        fe = Q("Points"),
        ge = Q("Current Hour's Top Cams"),
        he = Q("Every hour, the cam with the most points wins a $10 prize. The cam in 2nd place wins a $5 prize.");
    Q("Free Cams");
    Q("Featured Cams");
    Q("Female Cams");
    Q("Male Cams");
    Q("Couple Cams");
    Q("Trans Cams");
    Q("Free Cams by Age");
    Q("Teen Cams (18+)");
    Q("18 to 21 Cams");
    Q("20 to 30 Cams");
    Q("30 to 50 Cams");
    Q("Mature Cams (50+)");
    Q("Free Cams by Region");
    Q("North American Cams");
    Q("Other Region Cams");
    Q("Euro Russian Cams");
    Q("Asian Cams");
    Q("South American Cams");
    Q("Free Cams by Status");
    Q("Exhibitionist Cams");
    Q("HD Cams");
    Q("Private Shows");
    Q("New Cams");
    Q("6 Tokens per Minute");
    Q("12 Tokens per Minute");
    Q("18 Tokens per Minute");
    Q("30 Tokens per Minute");
    Q("60 Tokens per Minute");
    Q("90 Tokens per Minute");
    Q("Terms & Conditions");
    Q("Privacy Policy");
    Q("Support");
    Q("Feedback");
    Q("Security Center");
    Q("Law Enforcement");
    Q("Billing");
    Q("Disable Account");
    Q("Apps");
    Q("Contest");
    Q("Affiliates");
    Q("Affiliate Program");
    Q("Buy Traffic");
    Q("Jobs");
    Q("Sitemap");
    var ie = Q("dismiss this message"),
        je = Q("dismiss"),
        ke = Q("Register later"),
        le = Q("Already have an account?"),
        me = Q("Login here");
    Q("Please sign in using the form below");
    Q("Username");
    var ne = Q("Password");
    Q("Keep me logged in");
    Q("Forgot password?");
    Q("Create Free Account");
    var oe = Q("We've improved Chaturbate's mobile site by adding these feature(s):"),
        pe = Q("Satisfaction Voting"),
        qe = Q("Visit the "),
        re = Q("mobile site"),
        se = Q("survey"),
        te = Q(" again, or tell us why you're not satisfied in this ");
    Q("Or ");
    var ue = Q("or");
    Q("tell us why you left");
    Q("the mobile site");
    var ve = Q("FOLLOWER BROWSER NOTIFICATIONS"),
        we = Q("Would you like to receive browser notifications when a broadcaster you follow comes online?"),
        xe = Q("Subscription failure. Please try again from the Settings & Privacy page on your profile."),
        ye = Q("Yes"),
        ze = Q("Not now"),
        Ae = Q("This room requires a password."),
        Be = Q("Login to room"),
        Ce = Q("Private conversation with"),
        De = Q("Remove Ignored Users"),
        Ee = Q("Unignore this user"),
        Fe = Q("Unignored Users"),
        Ge = Q("Ignore this user"),
        He = Q("Ignored Users"),
        Ie = Q("Click on a user to unignore them."),
        Je = Q("Room is currently offline"),
        Ke = Q("Help us make the new Chaturbate player page better, "),
        Le = Q("Help us make the new player page better, "),
        Me = Q("share your thoughts"),
        Ne = Q("Switch to the legacy page"),
        Oe = Q("Follow broadcasters to receive instant notification of when they come online.<br><br>Note: Your email address must be verified in order to receive notifications."),
        Pe = Q("- UNFOLLOW"),
        Qe = Q("+ FOLLOW"),
        Re = Q("Share"),
        Se = Q("Bio"),
        Te = Q("Contest Stats"),
        Ue = Q("Submit feedback to broadcaster"),
        Ve = Q("Optional comment for broadcaster:"),
        We = Q("Submitted"),
        Xe = Q("SATISFIED?");
    Q("Satisfied?");
    var Ye = Q("SCAN CAMS"),
        Ze = Q("NEXT CAM"),
        $e = Q("SKIP CAM"),
        af = Q("EXIT SCANNING"),
        bf = Q("Token Linkcodes"),
        cf = Q("Earn up to 10 tokens for every registered user and 500 tokens for users who broadcast (broadcasters must earn $20.00 before they qualify)."),
        df = Q("Please send to chaturbate using one of the link codes below."),
        ef = Q("Embed Chaturbate's Top Cam on Your Webpage"),
        ff = Q("the affiliate program stats"),
        gf = Q("See details about tokens earned in "),
        hf = Q('Add an extra layer of protection to your account by setting up 2-Step Verification at the <a href="/security/">Security Center</a>'),
        jf = Q("Silence for 6 hours"),
        kf = Q("Theater Mode"),
        lf = Q("Full Screen"),
        mf = Q("Exit Full Screen"),
        nf = Q("Default View"),
        of = Q("unknown"),
        pf = Q("Show All"),
        qf = Q(" to follow your favorite broadcasters and see when they are live."),
        rf = Q("Follow your favorite broadcasters to see when they are live.");
    Q("Cancel");
    Q("SUBMIT");
    Q("You have unsaved changes, are you sure you want to leave this page?");
    Q("Choose a category");
    var sf = Q("Abuse Report");
    Q("Broadcaster is underage");
    Q("Broadcaster is advertising");
    Q("Broadcaster is abusive");
    Q("Broadcaster is intoxicated");
    Q("Using a toy that is too large");
    Q("Asking for offline payments");
    Q("Broadcasting in public");
    Q("Broadcasting in service uniform");
    Q("Broadcaster is sleeping");
    Q("Broadcaster is wrong gender");
    Q("Other");
    Q("Please choose a category");
    Q("Additional comments:");
    Q("Please add a description");
    Q("REPORT");
    Q("Your abuse report has been submitted.");
    var tf = Q("There was an error requesting your private show. Please try again."),
        uf = Q("There was an error requesting your spy show. Please try again."),
        vf = Q("There was an error requesting your group show. Please try again."),
        wf = Q("Private & Group Shows"),
        xf = Q("Are you sure?"),
        yf = Q("This broadcaster allows private show recordings, so you will receive a recorded video of this show in your collection.");
    Q("This broadcaster does not allow private or group shows");
    Q("You may continue chatting while you wait for the broadcaster to return.");
    Q("Performer Is Away");
    var zf = Q("Group Show"),
        Af = Q("LEAVE GROUP SHOW"),
        Bf = Q("JOIN GROUP SHOW"),
        Cf = Q("CANCEL GROUP REQUEST"),
        Df = Q("LEAVE PRIVATE SHOW"),
        Ef = Q("CANCEL PRIVATE REQUEST"),
        Ff = Q("START PRIVATE SHOW");
    Q("SPY PRIVATE SHOW");
    var Gf = Q("LEAVE SPY SHOW"),
        Hf = Q("Private Show");
    Q("Private Show in Progress");
    var If = Q("This feature is not currently enabled on your device."),
        Jf = Q('You must be logged in to enter a private show. Click "OK" to login.'),
        Kf = Q('You must be logged in to spy on a private show. Click "OK" to login.'),
        Lf = Q('You must be logged in to enter a group show. Click "OK" to login.'),
        Mf = Q("Spy has been disabled by the broadcaster"),
        Nf = Q("More Rooms Like This"),
        Of = Q("Here are some trending rooms instead:"),
        Pf = Q("RECOMMENDED"),
        Qf = Q("OFFLINE"),
        Rf = Q("EXHIBITIONIST"),
        Sf = Q("NEW"),
        Tf = Q("HD"),
        Uf = Q("HD+"),
        Vf = Q("IN PRIVATE"),
        Wf = Q("GROUP SHOW"),
        Xf = Q("CHATURBATING"),
        Yf = Q("HIDDEN - STAFF ONLY"),
        Zf = Q("View on Twitter"),
        $f = Q("How Can We Improve?"),
        ag = Q("Updates");
    var bg = new n("bioClicked"),
        cg = new n("userListRequest"),
        dg = new n("openTipCalloutRequest"),
        eg = new n("loadRoomRequest"),
        fg = new n("reportAbuseRequest"),
        gg = new n("privateGroupWindowRequest"),
        hg = new n("chatWindowRequest");
    var ig = new n("switchedToHLS"),
        jg = new n("openDefaultTipCalloutRequest"),
        kg = new n("loginOverlayRequest"),
        lg = new n("userChatSettingsUpdate", {
            nd: 50
        }),
        mg = new n("windowReSized");
    var T = new n("roomLoaded", {
            nd: 100,
            tj: 1
        }),
        ng = new n("roomCleanup", {
            nd: 20
        }),
        og = new n("userViewedPm");
    new n("tipSent");

    function pg(a, b) {
        a.style.webkitTransition = b;
        a.style.transition = b;
        void 0 !== a.style.setProperty && a.style.setProperty("moz-transition", b)
    }

    function qg(a) {
        a.style.Er = "text";
        a.style.webkitUserSelect = "text";
        a.style.cs = "text";
        void 0 !== a.style.setProperty && a.style.setProperty("moz-user-select", "text")
    };

    function rg() {
        this.fd = []
    }
    rg.prototype.cd = function (a) {
        this.remove(a);
        this.fd.unshift(a)
    };

    function sg(a, b) {
        a.remove(b);
        a.fd.push(b)
    }
    rg.prototype.remove = function (a) {
        a = this.fd.indexOf(a); - 1 !== a && this.fd.splice(a, 1)
    };

    function tg(a) {
        return new Promise(function (b, c) {
            A("api/biocontext/" + a + "/").then(function (c) {
                c = new D(c.responseText);
                var d = {
                        username: a,
                        Xr: L(c, "fan_club_cost", !1),
                        nj: K(c, "fan_club_is_member"),
                        xn: K(c, "performer_has_fanclub"),
                        bq: I(c, "fan_club_join_url"),
                        location: I(c, "location"),
                        mj: nb(c, "interested_in"),
                        Gj: I(c, "real_name"),
                        Rj: rb(I(c, "sex")),
                        Ui: L(c, "follower_count"),
                        ce: L(c, "display_age", !1),
                        Bi: I(c, "body_decorations"),
                        Ri: I(c, "display_birthday", !1),
                        Ih: H(c, "time_since_last_broadcast"),
                        Uj: I(c, "smoke_drink"),
                        Ci: I(c, "body_type"),
                        languages: I(c, "languages"),
                        Za: I(c, "room_status")
                    },
                    f = I(c, "about_me"),
                    h = I(c, "wish_list"),
                    g = nb(c, "photo_sets"),
                    p = [];
                g = l(JSON.parse(g));
                for (var u = g.next(); !u.done; u = g.next()) u = new D(JSON.stringify(u.value)), p.push({
                    id: L(u, "id"),
                    name: I(u, "name"),
                    Wm: I(u, "cover_url"),
                    qc: L(u, "tokens"),
                    Ln: K(u, "is_video"),
                    jk: K(u, "user_can_access"),
                    Yr: K(u, "fan_club_only"),
                    qj: I(u, "label_text"),
                    Mn: I(u, "label_color")
                }), M(u);
                d = {
                    Hf: d,
                    ri: f,
                    pk: h,
                    Fj: p
                };
                M(c);
                b(d)
            })["catch"](function (a) {
                c(a)
            })
        })
    };
    var ug = {
            fullscreenEnabled: 0,
            fullscreenElement: 1,
            requestFullscreen: 2,
            exitFullscreen: 3,
            fullscreenchange: 4,
            fullscreenerror: 5
        },
        vg = "webkitFullscreenEnabled webkitFullscreenElement webkitRequestFullscreen webkitExitFullscreen webkitfullscreenchange webkitfullscreenerror".split(" "),
        wg = "mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),
        xg = "msFullscreenEnabled msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" "),
        yg;
    "fullscreenEnabled" in document ? yg = Object.keys(ug) : vg[0] in document ? yg = vg : wg[0] in document ? yg = wg : xg[0] in document && (yg = xg);

    function zg(a) {
        if (void 0 !== yg) a[yg[ug.requestFullscreen]]()
    }

    function Ag() {
        void 0 !== yg && document[yg[ug.exitFullscreen]].bind(document)()
    }

    function Bg() {
        return void 0 === yg ? !1 : !!document[yg[ug.fullscreenEnabled]]
    }

    function U() {
        if (void 0 !== yg) return document[yg[ug.fullscreenElement]]
    }

    function Cg() {
        return void 0 === yg ? "" : yg[ug.fullscreenchange]
    }

    function Dg() {
        return void 0 === yg ? "" : ("on" + yg[ug.fullscreenerror]).toLowerCase()
    };

    function Eg(a, b, c) {
        U() ? (Ag(), setTimeout(function () {
            var d = window.open(a, b, c, void 0);
            null !== d && setTimeout(function () {
                d.focus()
            }, 200)
        }, 500)) : window.open(a, b, c, void 0)
    };

    function Fg(a, b) {
        var c = document.createElement("div");
        c.innerHTML = a;
        var d = document.createElement("div");
        d.style.paddingTop = "5px";
        var e = document.createElement("span");
        e.innerText = b;
        e.style.color = "#0c6a93";
        e.style.padding = "5px";
        e.style.display = "inline";
        e.style.verticalAlign = "top";
        d.appendChild(e);
        e = document.createElement("div");
        e.style.padding = "0 10px";
        e.style.display = "inline-block";
        for (var f = l(c.getElementsByTagName("*")), h = f.next(); !h.done; h = f.next()) {
            var g = h = h.value;
            "fixed" === g.style.position && (g.style.position = "absolute");
            "IMG" === g.tagName && (h.className = "bioImage");
            null !== g.style.top && 0 > parseInt(g.style.top, 10) && (g.style.top = "0");
            null !== g.style.marginTop && 0 > parseInt(g.style.marginTop, 10) && (g.style.marginTop = "0");
            null !== g.style.left && 0 > parseInt(g.style.left, 10) && (g.style.left = "0");
            null !== g.style.marginLeft && 0 > parseInt(g.style.marginLeft, 10) && (g.style.marginLeft = "0")
        }
        0 !== c.children.length && (c.children[0].style.display = "unset");
        c.style.position = "relative";
        e.appendChild(c);
        d.appendChild(e);
        return d
    }

    function Gg(a, b) {
        function c(a) {
            var c = document.createElement("div");
            c.style.padding = "10px";
            c.style.position = "relative";
            c.style.display = "inline-block";
            c.style.height = "100px";
            c.title = a.name;
            c.onmouseenter = function () {
                c.style.cursor = "pointer";
                e.style.textDecoration = "underline"
            };
            c.onmouseleave = function () {
                c.style.cursor = "default";
                e.style.textDecoration = "none"
            };
            c.onclick = function () {
                var c = "resizable,dependent,scrollbars,height=520,width=803,top=" + (screen.height / 2 - 260).toString() + ",left=" + (screen.width / 2 - 401.5).toString(),
                    d = a.jk ? "/photo_videos/photoset/detail/" + b + "/" + a.id : "/photo_videos/purchase/" + a.id + "/"; - 1 !== window.location.search.indexOf("from_tube") && (d = d + "?from_tube=" + b);
                Eg(d, a.name, c);
                return !1
            };
            var d = document.createElement("img");
            d.src = a.Wm;
            d.width = 150;
            d.height = 100;
            d.className = "userUpload";
            c.appendChild(d);
            a.jk || (d = document.createElement("img"), d.src = "https://ssl-ccstatic.highwebmedia.com/images/locked_rectangle4.png", d.width = 150, d.height = 100, d.style.top = "10px", d.style.left = "10px", d.style.position = "absolute", d.style.border = "none", c.appendChild(d));
            a.Ln && (d = document.createElement("img"), d.src = "https://ssl-ccstatic.highwebmedia.com/images/play3.png", d.height = 20, d.style.position = "absolute", d.style.top = "10px", d.style.left = "10px", c.appendChild(d));
            "" !== a.qj && (d = document.createElement("span"), d.innerText = a.qj, d.style.backgroundColor = a.Mn, d.style.position = "absolute", d.style.top = "92px", d.style.right = "15px", d.style.fontSize = "10px", d.style.padding = "2px", c.appendChild(d));
            var e = document.createElement("div");
            e.innerText = a.name;
            e.style.fontSize = "12px";
            e.style.position = "absolute";
            e.style.top = "111px";
            e.style.left = "0px";
            e.style.paddingLeft = "13px";
            e.style.color = "#0c6a93";
            e.style.maxWidth = "145px";
            e.style.whiteSpace = "nowrap";
            e.style.textOverflow = "ellipsis";
            e.style.overflow = "hidden";
            c.appendChild(e);
            return c
        }
        var d = document.createElement("div");
        d.style.position = "relative";
        d.style.paddingTop = "5px";
        d.style.paddingBottom = "25px";
        var e = document.createElement("span");
        e.innerText = Vc + ":";
        e.style.color = "#0c6a93";
        e.style.padding = "5px";
        d.appendChild(e);
        e = document.createElement("div");
        e.style.paddingLeft = "5px";
        for (var f = l(a), h = f.next(); !h.done; h = f.next()) e.appendChild(c(h.value));
        d.appendChild(e);
        return d
    }

    function Hg(a) {
        function b(a, b) {
            var c = document.createElement("div"),
                d = document.createElement("div");
            d.style.position = "relative";
            d.style.paddingLeft = "5px";
            d.style.display = "inline";
            var e = document.createElement("span");
            e.style.color = "#0c6a93";
            e.innerText = a;
            d.appendChild(e);
            e = document.createElement("div");
            e.style.position = "absolute";
            e.style.paddingRight = "5px";
            e.style.display = "inline";
            e.style.left = "150px";
            e.style.overflow = "hidden";
            e.style.textOverflow = "ellipsis";
            e.style.whiteSpace = "nowrap";
            var f = document.createElement("span");
            f.style.whiteSpace = "nowrap";
            f.innerText = b;
            e.appendChild(f);
            c.style.paddingTop = "5px";
            c.appendChild(d);
            c.appendChild(e);
            return c
        }
        var c = document.createElement("div"),
            d = a.username.charAt(0).toUpperCase() + a.username.slice(1);
        if ("public" === a.Za) {
            var e = document.createElement("a");
            e.href = "./?" + a.username;
            e.text = "View " + d + "'s Cam";
            e.style.position = "relative";
            e.style.padding = "5px 5px 5px 0";
            e.style.textAlign = "right";
            e.style.display = "inline-block";
            e.style.width = "100%";
            e.style.fontSize = "14px";
            e.style.textDecoration = "none";
            e.onmouseenter = function () {
                e.style.textDecoration = "underline"
            };
            e.onmouseleave = function () {
                e.style.textDecoration = "none"
            };
            z("click", e, function (b) {
                b.preventDefault();
                t(eg, a.username)
            });
            c.appendChild(e)
        }
        if (a.nj) {
            var f = document.createElement("span");
            f.innerText = Db(d);
            f.style.padding = "0 5px 5px 0";
            f.style.width = "100%";
            f.style.display = "inline-block";
            f.style.textAlign = "right";
            f.style.fontSize = "14px";
            f.style.textDecoration = "none";
            c.appendChild(f)
        } else if (!a.nj && a.xn) {
            var h = document.createElement("a");
            h.href = "#";
            h.text = Cb(d);
            h.style.position = "relative";
            h.style.padding = "0 5px 5px 0";
            h.style.color = "#0a5a83";
            h.style.width = "100%";
            h.style.display = "inline-block";
            h.style.textAlign = "right";
            h.style.fontSize = "14px";
            h.style.textDecoration = "none";
            h.onclick = function () {
                Eg("" + a.bq, "Join Fanclub", "resizable,dependent,scrollbars,height=583,width=1000,top=" + (screen.height / 2 - 291.5).toString() + ",left=" + (screen.width / 2 - 500).toString());
                return !1
            };
            h.onmouseenter = function () {
                h.style.textDecoration = "underline"
            };
            h.onmouseleave = function () {
                h.style.textDecoration = "none"
            };
            c.appendChild(h)
        }
        "" !== a.Gj && c.appendChild(b(Wc + ":", a.Gj));
        isNaN(a.Ui) || c.appendChild(b(Xc + ":", a.Ui.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")));
        "" !== a.Rj && c.appendChild(b(Yc + ":", "" + a.Rj.charAt(0).toUpperCase() + a.Rj.substring(1)));
        "" !== a.Ri && c.appendChild(b(Zc + ":", a.Ri));
        isNaN(a.ce) || c.appendChild(b(ad + ":", a.ce.toString()));
        "" !== a.Ci && c.appendChild(b(bd + ":", a.Ci));
        "" !== a.Bi && c.appendChild(b(cd + ":", a.Bi));
        "" !== a.mj && (d = JSON.parse(a.mj).join(", "), c.appendChild(b(dd +
            ":", d)));
        "" !== a.location && c.appendChild(b(ed + ":", a.location));
        void 0 !== a.Ih && c.appendChild(b(gd + ":", a.Ih));
        "" !== a.languages && c.appendChild(b(hd + ":", a.languages));
        "" !== a.Uj && c.appendChild(b(id + ":", a.Uj));
        return c
    }

    function Ig(a) {
        w.call(this);
        var b = this;
        this.od(tg(a));
        this.Ho = function (a) {
            b.od(tg(a.h.i))
        };
        q(T, this.Ho, !1)
    }
    m(Ig, w);
    Ig.prototype.od = function (a) {
        var b = this;
        void 0 !== this.content && this.a.removeChild(this.content.ne);
        var c = document.createElement("span");
        c.innerText = md + "...";
        this.a.appendChild(c);
        this.a.style.display = "block";
        a.then(function (a) {
            var d = document.createElement("div");
            d.style.fontSize = "14px";
            var f = Hg(a.Hf);
            d.appendChild(f);
            var h = void 0;
            0 < a.Fj.length && (h = Gg(a.Fj, a.Hf.username), d.appendChild(h));
            var g = void 0;
            "" !== a.ri && (g = Fg(a.ri, Tc + ":"), d.appendChild(g));
            var p = void 0;
            "" !== a.pk && (p = Fg(a.pk, Uc + ":"), d.appendChild(p));
            b.content = {
                ne: d,
                Hf: f,
                es: h,
                os: g,
                ps: p
            };
            b.content.ne.style.position = "relative";
            b.content.ne.style.paddingRight = "3px";
            b.content.ne.style.cursor = "default";
            b.content.ne.style.overflow = "scroll";
            b.content.ne.style.height = "100%";
            b.a.removeChild(c);
            b.a.appendChild(b.content.ne);
            x(b)
        })["catch"](function (a) {
            v("Bio Content error: " + a);
            a = document.createElement("div");
            a.style.position = "absolute";
            a.style.height = "100%";
            a.style.width = "100%";
            a.style.top = "0";
            a.style.left = "0";
            a.style.display = "block";
            var d = document.createElement("span");
            d.innerText = kd;
            d.style.display = "block";
            d.style.padding = "10px";
            a.appendChild(d);
            b.content = {
                ne: a
            };
            b.a.removeChild(c);
            b.a.appendChild(b.content.ne)
        })
    };
    Ig.prototype.C = function () {
        if (void 0 !== this.content && void 0 !== this.content.Hf)
            for (var a = l(this.content.Hf.childNodes), b = a.next(); !b.done; b = a.next()) b = b.value.childNodes[1], void 0 !== b && (b.style.maxWidth = this.a.offsetWidth - 150 - 5 + "px")
    };
    Ig.prototype.$d = function () {
        T.removeListener(this.Ho)
    };
    var Jg = {
        enabled: !1,
        move: function () {},
        end: function () {}
    };

    function Kg(a, b) {
        Lg(a, b, function (a) {
            return {
                valid: !0,
                x: a.clientX,
                y: a.clientY
            }
        }, "mousedown", "mousemove", "mouseup");
        Lg(a, b, function (a) {
            return 1 === a.touches.length && (a = a.touches.item(0), null !== a) ? {
                valid: !0,
                x: a.clientX,
                y: a.clientY
            } : {
                valid: !1,
                x: 0,
                y: 0
            }
        }, "touchstart", "touchmove", "touchend")
    }

    function Lg(a, b, c, d, e, f) {
        z(d, a, function (a) {
            var d = c(a);
            if (d.valid) {
                var h = b(a, d.x, d.y);
                if (h.enabled) {
                    h.move(d.x, d.y);
                    a.preventDefault();
                    var u = function (a) {
                            a = c(a);
                            a.valid && h.move(a.x, a.y)
                        },
                        F = function (a) {
                            a.preventDefault();
                            void 0 !== a.buttons && 1 === a.buttons || void 0 !== a.touches && 1 === a.touches.length ? u(a) : C(a, !1)
                        };
                    z(e, document, F, !0);
                    var C = function (a, b) {
                        (void 0 === b || b) && u(a);
                        $a(e, document, F, !0);
                        $a(f, document, C, !0);
                        h.end()
                    };
                    z(f, document, C, !0)
                }
            }
        })
    };

    function Mg() {
        var a = document.createElement("div");
        a.style.visibility = "hidden";
        a.style.width = "100px";
        a.style.bs = "scrollbar";
        document.body.appendChild(a);
        var b = a.offsetWidth;
        a.style.overflow = "scroll";
        var c = document.createElement("div");
        c.style.width = "100%";
        a.appendChild(c);
        c = c.offsetWidth;
        document.body.removeChild(a);
        return b - c
    };

    function Ng(a, b, c) {
        this.Xa = a;
        this.F = c;
        this.I = {
            Nc: NaN,
            Zc: NaN,
            Ic: NaN,
            Sc: NaN,
            width: NaN,
            height: NaN
        };
        this.Tn = "window__" + b;
        a = {
            Nc: NaN,
            Zc: NaN,
            Ic: NaN,
            Sc: NaN,
            width: NaN,
            height: NaN
        };
        if (y() && (b = window.localStorage.getItem(this.Tn), null !== b)) {
            a = JSON.parse(b);
            for (var d in a) null === a[d] && (a[d] = NaN);
            isNaN(a.width) && (a.width = this.F.Ld);
            isNaN(a.height) && (a.height = this.F.Kd)
        }
        this.I = a;
        isNaN(this.I.width) && (this.I.width = this.F.Ld);
        isNaN(this.I.height) && (this.I.height = this.F.Kd);
        isNaN(this.I.Nc) && isNaN(this.I.Sc) && (0 <= this.F.Jd.indexOf(1) ? this.I.Sc = Mg() : this.I.Nc = 0 <= this.F.Jd.indexOf(4) ? window.innerWidth / 2 - this.F.Ld / 2 : 0);
        isNaN(this.I.Zc) && isNaN(this.I.Ic) && (0 <= this.F.Jd.indexOf(3) ? this.I.Ic = Mg() : this.I.Zc = 0 <= this.F.Jd.indexOf(4) ? window.innerHeight / 2 - this.F.Kd / 2 : 0)
    }
    Ng.prototype.save = function () {
        var a = this.Xa.a.parentElement;
        if (null === a) v("no parent element");
        else {
            var b = this.Xa.a.offsetLeft,
                c = this.Xa.a.offsetTop,
                d = a.clientHeight - (this.Xa.a.offsetHeight + c);
            a = a.clientWidth - (this.Xa.a.offsetWidth + b);
            this.I.height = this.Xa.a.offsetHeight;
            this.I.width = this.Xa.a.offsetWidth;
            b <= a ? (this.I.Nc = b, this.I.Sc = NaN) : (this.I.Nc = NaN, this.I.Sc = a);
            c <= d ? (this.I.Zc = c, this.I.Ic = NaN) : (this.I.Zc = NaN, this.I.Ic = d)
        }
        y() && window.localStorage.setItem(this.Tn, JSON.stringify(this.I))
    };
    Ng.prototype.apply = function () {
        var a = this.Xa.a.parentElement;
        if (null === a) v("no parent element");
        else {
            void 0 !== this.F.zi && this.F.zi ? (this.Xa.qa.style.position = "relative", this.Xa.a.style.width = "auto", this.Xa.a.style.height = "auto", this.I.height = this.Xa.a.offsetHeight, this.I.width = this.Xa.a.offsetWidth) : (this.F.Xe ? (this.I.width = Math.min(this.I.width, a.clientWidth), this.I.height = Math.min(this.I.height, a.clientHeight), this.I.width = Math.max(this.I.width, this.F.minWidth), this.I.height = Math.max(this.I.height, this.F.minHeight)) : (this.I.width = this.F.Ld, this.I.height = this.F.Kd + Og(this.Xa)), this.Xa.a.style.width = this.I.width + "px", this.Xa.a.style.height = this.I.height + "px");
            var b = !isNaN(this.I.Nc) && !isNaN(this.I.Sc) || isNaN(this.I.Nc) && isNaN(this.I.Sc);
            !isNaN(this.I.Zc) && !isNaN(this.I.Ic) || isNaN(this.I.Zc) && isNaN(this.I.Ic) || b ? Pg("unexpected bounds: top:" + this.I.Zc + " bottom:" + this.I.Ic + " left:" + this.I.Nc + " right: " + this.I.Sc) : (b = a.clientHeight, isNaN(this.I.Zc) ? isNaN(this.I.Ic) || (this.I.Ic + this.I.height > b && (Pg("set bottomBound to container height - bounds height to make fit"), this.I.Ic = b - this.I.height), this.Xa.a.style.top = b - this.I.height - this.I.Ic + "px") : (this.I.Zc + this.I.height > b && (Pg("set topBound to container height - bounds height to make fit"), this.I.Zc = b - this.I.height), this.Xa.a.style.top = this.I.Zc + "px"), a = a.clientWidth, isNaN(this.I.Nc) ? isNaN(this.I.Sc) || (this.I.Sc + this.I.width > a && (Pg("set rightBound to 0 to make fit"), this.I.Sc = 0), this.Xa.a.style.left = a - this.I.width - this.I.Sc + "px") : (this.I.Nc + this.I.width > a && (Pg("set leftBound to 0 to make fit"), this.I.Nc = 0), this.Xa.a.style.left = this.I.Nc + "px"))
        }
    };

    function Qg(a) {
        return {
            left: a.offsetLeft,
            top: a.offsetTop,
            width: a.offsetWidth,
            height: a.offsetHeight
        }
    }

    function Rg(a, b, c) {
        var d = Object.assign({}, a);
        d.top = a.top + b;
        d.height = a.height - b;
        0 > d.top ? (d.height += d.top, d.top = 0) : d.height < c && (d.top -= c - d.height, d.height = c);
        return d
    }

    function Sg(a, b, c, d) {
        var e = Object.assign({}, a);
        e.height = a.height + b;
        e.top + e.height > d ? e.height = d - e.top : e.height < c && (e.height = c);
        return e
    }

    function Tg(a, b, c) {
        var d = Object.assign({}, a);
        d.left = a.left + b;
        d.width = a.width - b;
        0 > d.left ? (d.width += d.left, d.left = 0) : d.width < c && (d.left -= c - d.width, d.width = c);
        return d
    }

    function Ug(a, b, c, d) {
        var e = Object.assign({}, a);
        e.width = a.width + b;
        e.left + e.width > d ? e.width = d - e.left : e.width < c && (e.width = c);
        return e
    };
    var Vg, Wg = Vg || (Vg = {});
    Wg[Wg.throttle = 0] = "throttle";
    Wg[Wg.debounce = 1] = "debounce";
    Wg[Wg.trailThrottle = 2] = "trailThrottle";

    function Xg(a, b) {
        this.Rk = a;
        this.F = b;
        this.yk = this.Hl = !1
    }

    function Yg(a) {
        if (a.F.Ni === Vg.Vr) clearTimeout(a.Vp), a.Vp = setTimeout(a.Rk, a.F.tg);
        else {
            var b = function () {
                a.yk && a.F.Ni === Vg.qm ? (a.yk = !1, a.Rk(), setTimeout(b, a.F.tg)) : a.Hl = !1
            };
            a.Hl ? a.yk = !0 : (a.Hl = !0, a.Rk(), setTimeout(b, a.F.tg))
        }
    }
    var Zg = Vg;

    function $g(a) {
        w.call(this);
        var b = this;
        this.a.style.height = "0";
        this.a.style.width = "0";
        this.a.style.overflow = "visible";
        this.a.style.position = "fixed";
        this.a.style.top = "0";
        this.a.style.left = "0";
        this.Sb = a.Sb;
        this.listener = function () {
            x(b)
        };
        q(this.Sb.Pi, this.listener);
        this.N(new ah(0, a));
        this.N(new bh(0, a));
        this.N(new ch(0, a));
        this.N(new dh(0, a));
        this.N(new eh(0, a));
        this.N(new fh(0, a));
        this.N(new gh(0, a));
        this.N(new hh(0, a))
    }
    m($g, w);
    $g.prototype.C = function () {};

    function ih(a, b, c) {
        w.call(this);
        var d = this;
        this.options = b;
        this.cursor = c;
        this.wb = 8;
        this.a.style.height = this.wb + "px";
        this.a.style.width = this.wb + "px";
        this.a.style.cursor = this.cursor;
        Kg(this.a, function (a, c, h) {
            a.stopPropagation();
            void 0 !== b.jo && b.jo();
            var e = Object.freeze(Qg(b.Sb.a)),
                f = new Xg(function () {
                    x(b.Sb)
                }, {
                    tg: 10
                });
            return {
                enabled: !0,
                move: function (a, g) {
                    var p = d.Se(e, {
                            x: a - c,
                            y: g - h
                        }),
                        u = b.Sb.a;
                    u.style.left = p.left + "px";
                    u.style.top = p.top + "px";
                    u.style.width = p.width + "px";
                    u.style.height = p.height + "px";
                    Yg(f)
                },
                end: function () {
                    void 0 !== b.ko && b.ko()
                }
            }
        })
    }
    m(ih, w);

    function ah(a, b) {
        ih.call(this, 0, b, "ns-resize")
    }
    m(ah, ih);
    ah.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.top - this.wb / 2 + "px";
        this.a.style.left = a.left + "px";
        this.a.style.width = a.right - a.left + "px"
    };
    ah.prototype.Se = function (a, b) {
        return Rg(a, b.y, this.options.minHeight)
    };

    function bh(a, b) {
        ih.call(this, 0, b, "ns-resize")
    }
    m(bh, ih);
    bh.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.top + a.height - this.wb / 2 + "px";
        this.a.style.left = a.left + "px";
        this.a.style.width = a.width + "px"
    };
    bh.prototype.Se = function (a, b) {
        return Sg(a, b.y, this.options.minHeight, this.options.maxHeight())
    };

    function ch(a, b) {
        ih.call(this, 0, b, "ew-resize")
    }
    m(ch, ih);
    ch.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.top + "px";
        this.a.style.left = a.left - this.wb / 2 + "px";
        this.a.style.height = a.bottom - a.top + "px"
    };
    ch.prototype.Se = function (a, b) {
        return Tg(a, b.x, this.options.minWidth)
    };

    function dh(a, b) {
        ih.call(this, 0, b, "ew-resize")
    }
    m(dh, ih);
    dh.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.top + "px";
        this.a.style.left = a.right - this.wb / 2 + "px";
        this.a.style.height = a.bottom - a.top + "px"
    };
    dh.prototype.Se = function (a, b) {
        return Ug(a, b.x, this.options.minWidth, this.options.maxWidth())
    };

    function eh(a, b) {
        ih.call(this, 0, b, "nwse-resize")
    }
    m(eh, ih);
    eh.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.top - this.wb + this.wb / 2 + "px";
        this.a.style.left = a.left - this.wb + this.wb / 2 + "px"
    };
    eh.prototype.Se = function (a, b) {
        var c = Rg(a, b.y, this.options.minHeight),
            d = Tg(a, b.x, this.options.minWidth);
        return {
            top: c.top,
            height: c.height,
            left: d.left,
            width: d.width
        }
    };

    function fh(a, b) {
        ih.call(this, 0, b, "nesw-resize")
    }
    m(fh, ih);
    fh.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.top - this.wb + this.wb / 2 + "px";
        this.a.style.left = a.right - this.wb / 2 + "px"
    };
    fh.prototype.Se = function (a, b) {
        var c = Rg(a, b.y, this.options.minHeight),
            d = Ug(a, b.x, this.options.minWidth, this.options.maxWidth());
        return {
            top: c.top,
            height: c.height,
            left: d.left,
            width: d.width
        }
    };

    function gh(a, b) {
        ih.call(this, 0, b, "nesw-resize")
    }
    m(gh, ih);
    gh.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.bottom - this.wb / 2 + "px";
        this.a.style.left = a.left - this.wb + this.wb / 2 + "px"
    };
    gh.prototype.Se = function (a, b) {
        var c = Sg(a, b.y, this.options.minHeight, this.options.maxHeight()),
            d = Tg(a, b.x, this.options.minWidth);
        return {
            top: c.top,
            height: c.height,
            left: d.left,
            width: d.width
        }
    };

    function hh(a, b) {
        ih.call(this, 0, b, "nwse-resize")
    }
    m(hh, ih);
    hh.prototype.C = function () {
        var a = this.options.Sb.a.getBoundingClientRect();
        this.a.style.top = a.bottom - this.wb / 2 + "px";
        this.a.style.left = a.right - this.wb / 2 + "px"
    };
    hh.prototype.Se = function (a, b) {
        var c = Sg(a, b.y, this.options.minHeight, this.options.maxHeight()),
            d = Ug(a, b.x, this.options.minWidth, this.options.maxWidth());
        return {
            top: c.top,
            height: c.height,
            left: d.left,
            width: d.width
        }
    };

    function jh(a, b, c) {
        w.call(this);
        var d = this;
        this.J = a;
        this.content = b;
        this.F = c;
        this.Jn = !1;
        this.an = new n("draggingOrResizingChanged");
        this.ob = !1;
        this.a.style.overflow = "visible";
        this.qa = document.createElement("div");
        this.qa.style.height = "100%";
        this.qa.style.width = "100%";
        this.qa.style.position = "absolute";
        this.qa.style.overflow = "visible";
        this.qa.style.boxSizing = "border-box";
        this.qa.style.backgroundColor = "rgb(255, 255, 255)";
        this.qa.style.border = "2px solid";
        this.qa.style.borderColor = "#0d5d81";
        this.Op = void 0 !== c.title;
        var e = this.Pa = document.createElement("div");
        this.Pa.id = (this.F.$c + "-close-btn").toLowerCase();
        this.Pa.style.position = "absolute";
        this.Pa.style.right = "3px";
        this.Pa.style.height = "10px";
        this.Pa.style.width = "10px";
        this.Pa.style.cursor = "pointer";
        this.Pa.style.border = "1px solid";
        this.Pa.style.borderColor = "#999999";
        this.Pa.style.borderRadius = "2px";
        z("mouseenter", this.Pa, function () {
            e.style.backgroundImage = "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close.svg)";
            e.style.backgroundSize = "10px";
            e.style.backgroundColor = "#999999"
        });
        z("mouseleave", this.Pa, function () {
            e.style.backgroundImage = "";
            e.style.backgroundColor = ""
        });
        void 0 !== c.title ? (this.bc = document.createElement("div"), this.bc.style.position = "relative", this.bc.style.backgroundColor = "#cccccc", this.bc.style.color = "#0b5d81", this.bc.style.fontSize = "13px", this.bc.style.fontWeight = "bold", this.bc.style.padding = "3px 3px 3px 5px", this.bc.style.minHeight = "10px", this.Xd = document.createElement("div"), this.Xd.style.height = "100%", this.Xd.style.whiteSpace = "nowrap", this.Xd.style.overflow = "hidden", this.Xd.style.textOverflow = "ellipsis", this.bc.appendChild(this.Xd), this.hk = document.createElement("span"), this.hk.innerText = c.title, this.Xd.appendChild(this.hk), this.Te = c.Te, this.bc.appendChild(this.Pa), this.qa.appendChild(this.bc), z("click", this.Pa, function (a) {
            a.stopPropagation();
            d.J.removeChild(d)
        })) : (this.Pa.style.top = "5px", this.Pa.style.zIndex = "1000", this.a.appendChild(this.Pa), z("click", this.Pa, function (a) {
            a.stopPropagation();
            d.a.style.display = "none";
            d.ob = !1
        }));
        this.N(this.content, this.qa);
        this.Dl = new Ng(this, this.F.$c, this.F);
        this.Vo = function () {
            d.Dl.save();
            x(d)
        };
        void 0 === c.Uk && (c.Uk = void 0 !== this.Xd ? [this.Xd] : [this.a]);
        kh(this.a, {
            Zm: function () {
                lh(d.J, d);
                mh(d, !0)
            },
            $m: function () {
                mh(d, !1);
                d.Vo();
                O("MoveDraggableWindow", {
                    window: d.F.$c,
                    left: d.a.offsetLeft,
                    top: d.a.offsetTop,
                    windowWidth: window.innerWidth,
                    windowHeight: window.innerHeight
                })
            },
            Sm: function () {
                return !d.Jn
            }
        }, c.Uk);
        !0 === c.Xe && nh(this);
        this.a.appendChild(this.qa)
    }
    m(jh, w);

    function oh(a, b) {
        void 0 !== a.hk && (a.hk.innerText = b)
    }

    function nh(a) {
        void 0 === a.Pg && (a.Pg = a.N(new $g({
            minWidth: a.F.minWidth,
            minHeight: a.F.minHeight,
            maxWidth: function () {
                return a.J.a.clientWidth
            },
            maxHeight: function () {
                return a.J.a.clientHeight
            },
            Sb: a,
            jo: function () {
                lh(a.J, a);
                mh(a, !0)
            },
            ko: function () {
                mh(a, !1);
                a.Vo();
                O("ResizeDraggableWindow", {
                    window: a.F.$c,
                    width: a.a.clientWidth,
                    height: a.a.clientHeight,
                    windowWidth: window.innerWidth,
                    windowHeight: window.innerHeight
                })
            }
        })), x(a.Pg))
    }

    function mh(a, b) {
        a.Jn = b;
        t(a.an, b)
    }

    function ph(a) {
        if (void 0 !== a.Pg) {
            var b = a.Pg;
            b.Sb.Pi.removeListener(b.listener);
            a.removeChild(a.Pg);
            a.Pg = void 0
        }
    }
    jh.prototype.C = function () {
        this.content.a.style.height = void 0 !== this.F.zi && this.F.zi ? "auto" : this.a.clientHeight - Og(this) - 4 + "px";
        void 0 !== this.bc && (void 0 === this.Pa ? v("expected close button to be defined") : void 0 === this.Xd ? v("expected title bar div inner to be defined") : (this.Xd.style.maxWidth = this.bc.clientWidth - this.Pa.offsetWidth - 5 - 6 + "px", this.Pa.style.top = (this.bc.offsetHeight - this.Pa.offsetHeight) / 2 + "px"))
    };
    jh.prototype.show = function () {
        this.a.style.opacity = "1"
    };
    jh.prototype.B = function () {
        this.a.style.opacity = "0"
    };

    function Og(a) {
        return void 0 === a.bc ? 0 : a.bc.offsetHeight
    }
    jh.prototype.blur = function () {
        this.J.Jb === this && lh(this.J, void 0)
    };

    function qh(a, b) {
        return void 0 !== a.F.zl ? a.F.zl(b) : !1
    }

    function kh(a, b, c) {
        c = l(c);
        for (var d = c.next(); !d.done; d = c.next()) d = d.value, d.style.cursor = "move", Kg(d, function (c, d, h) {
            if (void 0 !== b.Sm && !1 === b.Sm()) return Jg;
            var e = a.offsetLeft,
                f = a.offsetTop,
                u = a.offsetHeight,
                F = a.offsetWidth;
            if (null === a.parentElement) return v("draggable without parent element"), Jg;
            var C = a.parentElement.clientHeight,
                N = a.parentElement.clientWidth,
                E = d,
                P = h;
            void 0 !== b.Zm && b.Zm();
            return {
                enabled: !0,
                move: function (b, c) {
                    E = b;
                    P = c;
                    var g = f + (P - h),
                        p = e + (E - d);
                    0 > g ? g = 0 : g + u > C && (g = C - u);
                    0 > p ? p = 0 : p + F > N && (p = N - F);
                    a.style.top = g + "px";
                    a.style.left = p + "px"
                },
                end: function () {
                    void 0 !== b.$m && b.$m()
                }
            }
        })
    };
    var rh;
    q(T, function (a) {
        rh = a.h.Hr
    });

    function sh(a, b) {
        this.Cp = "https://roomlister.stream.highwebmedia.com/session/";
        this.rd = {
            categories: a.join(",").trim(),
            num: b.toString()
        }
    }

    function th(a, b) {
        var c = a.Cp + b;
        return new Promise(function (b, e) {
            function d(c) {
                var d = [];
                c = new D(c);
                a.rd.key = I(c, "key");
                var e = JSON.parse(nb(c, "rooms"));
                e = l(e);
                for (var f = e.next(); !f.done; f = e.next()) f = f.value, d.push({
                    username: f.username,
                    zg: f.gender
                });
                M(c);
                b(d)
            }
            void 0 !== rh && (a.rd.clientGender = rh);
            var h = new XMLHttpRequest;
            if (void 0 !== h.withCredentials) h.onload = function () {
                206 === h.status && "Session Not Found" === h.responseText.trim() ? e("Session Not Found") : ib(h.status) ? d(h.responseText) : e(h.status)
            }, h.onerror = function () {
                e(h.status)
            }, h.open("POST", c, !0), h.setRequestHeader("content-type", "application/x-www-form-urlencoded"), h.send(ab(a.rd));
            else {
                var g = new XDomainRequest;
                g.onerror = function () {
                    e("error")
                };
                g.onload = function () {
                    d(g.responseText)
                };
                g.onprogress = function () {};
                g.ontimeout = function () {
                    e("error")
                };
                g.open("POST", c, !0);
                g.send(ab(a.rd).toString())
            }
        })
    }
    sh.prototype.start = function (a) {
        0 < a.length && (this.rd.alreadyShownRooms = a);
        return th(this, "start/")
    };
    sh.prototype.next = function () {
        return th(this, "next/")
    };

    function uh(a, b) {
        this.da = a;
        this.je = b;
        this.cf = !1;
        vh(this);
        var c = navigator.userAgent.match(/Puffin\/(\d)/);
        this.vr = null !== c && 8 > parseInt(c[1]) ? 1500 : 100
    }

    function vh(a) {
        var b = a.cf ? "https://cbjpeg.stream.highwebmedia.com/minifap/" + a.da + ".jpg?f=" + Math.random() : "https://roomimg.stream.highwebmedia.com/ri/" + a.da + ".jpg?" + Math.floor((new Date).getTime() / 3E4);
        return new Promise(function (c, d) {
            var e = new Image;
            e.onload = function () {
                a.je.src = e.src;
                c()
            };
            e.onerror = function () {
                d("Error downloading image " + b)
            };
            e.src = b
        })
    }

    function wh(a) {
        if (!a.cf) {
            a.cf = !0;
            var b = function () {
                a.cf && vh(a).then(function () {
                    setTimeout(function () {
                        b()
                    }, a.vr)
                })["catch"](b)
            };
            b()
        }
    };
    var xh;
    q(T, function (a) {
        xh = a.h.i
    });

    function yh(a) {
        w.call(this);
        var b = this;
        this.da = a;
        this.a.style.position = "relative";
        this.a.style.padding = "4px";
        this.Zh = document.createElement("a");
        this.Zh.href = "/" + a + "/";
        this.a.appendChild(this.Zh);
        z("click", this.Zh, function (a) {
            O("LoadRoomFromRoomList", {
                location: "draggable_room_list",
                from_username: xh,
                username: b.da
            });
            a.metaKey || a.ctrlKey || (t(eg, b.da), a.preventDefault())
        });
        this.Yh = document.createElement("img");
        this.Yh.className = "moreRooms";
        this.Yh.style.width = "100%";
        this.Yh.style.height = "100%";
        this.Zh.appendChild(this.Yh);
        this.ab = document.createElement("div");
        this.ab.innerText = a;
        this.ab.style.position = "absolute";
        this.ab.style.bottom = "7px";
        this.ab.style.color = "#ffffff";
        this.ab.style.fontSize = "19px";
        this.ab.style.textShadow = "1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000";
        this.Zh.appendChild(this.ab);
        this.Xj = new uh(this.da, this.Yh);
        this.a.onmouseenter = function () {
            wh(b.Xj)
        };
        this.a.onmouseleave = function () {
            b.Xj.cf = !1
        }
    }
    m(yh, w);
    yh.prototype.C = function () {
        void 0 !== this.parent ? this.ab.style.left = this.parent.a.offsetWidth / 2 - this.ab.offsetWidth / 2 + "px" : v("Room does not have a parent")
    };
    yh.prototype.$d = function () {
        this.Xj.cf = !1;
        w.prototype.$d.call(this)
    };

    function zh(a) {
        switch (a) {
            case "male":
                return "m";
            case "female":
                return "f";
            case "trans":
                return "t";
            case "couple":
                return "c";
            case "followed":
                return "o";
            default:
                return v("Cannot convert gender " + a), ""
        }
    };

    function Ah() {
        this.wn = []
    }

    function Bh(a, b) {
        a.wn.push(b)
    }

    function Ch(a, b) {
        for (var c = l(a.wn), d = c.next(); !d.done; d = c.next())
            if (d = d.value, b.which === d.keyCode && (!d.$f || b.ctrlKey || b.metaKey)) return d.handle(b), !0;
        return !1
    };

    function Dh() {
        var a = this;
        this.message = document.createElement("div");
        this.ja = document.createElement("div");
        this.Ab = document.createElement("div");
        this.Tb = document.createElement("div");
        this.accept = document.createElement("div");
        this.hi = function () {};
        this.wo = [];
        this.ja.style.display = "none";
        this.ja.style.position = "fixed";
        this.ja.style.overflow = "auto";
        this.ja.style.zIndex = "101";
        this.ja.style.top = "0";
        this.ja.style.left = "0";
        this.ja.style.width = "100%";
        this.ja.style.height = "100%";
        this.ja.style.zIndex = "2000";
        this.ja.style.color = "#000000";
        Ha() ? this.ja.style.backgroundColor = "rgba(0, 0, 0, 0.4)" : this.ja.style.backgroundColor = "rgb(0, 0, 0)";
        this.Ab.style.width = "440px";
        this.Ab.style.position = "relative";
        this.Ab.style.backgroundColor = "white";
        this.Ab.style.display = "inline-block";
        this.Ab.style.borderRadius = "10px";
        this.Ab.style.textAlign = "left";
        this.Ab.style.overflow = "hidden";
        this.Ab.style.zIndex = "2001";
        this.Ab.style.fontFamily = "Helvetica, Arial, sans-serif";
        this.message.style.display = "inline-block";
        this.message.style.wordWrap = "break-word";
        this.message.style.padding = "20px";
        this.message.style.textAlign = "left";
        this.Ab.appendChild(this.message);
        var b = document.createElement("div");
        b.style.borderTop = "1px solid rgb(204, 204, 204)";
        b.style.textAlign = "center";
        b.style.height = "40px";
        b.style.color = "#0268ff";
        b.style.background = "#f9f9f9";
        this.accept.style.width = "70px";
        this.accept.style.padding = "3px";
        this.accept.style.display = "inline-block";
        this.accept.style.cssFloat = "right";
        this.accept.style.position = "relative";
        this.accept.style.top = "7px";
        this.accept.style.right = "10px";
        this.accept.style.boxSizing = "border-box";
        this.accept.innerText = "OK";
        this.accept.style.cursor = "pointer";
        this.accept.style.color = "#fff";
        this.accept.style.background = "#006ffc";
        this.accept.style.border = "1px solid #006ffc";
        this.accept.onclick = function (b) {
            b.stopPropagation();
            void 0 !== a.ng && a.ng();
            Eh.hi()
        };
        b.appendChild(this.accept);
        this.Tb.style.width = "70px";
        this.Tb.style.padding = "3px";
        this.Tb.style.display = "inline-block";
        this.Tb.style.cssFloat = "right";
        this.Tb.style.position = "relative";
        this.Tb.style.top = "7px";
        this.Tb.style.right = "25px";
        this.Tb.innerText = "Cancel";
        this.Tb.style.cursor = "pointer";
        this.Tb.style.background = "#fff";
        this.Tb.style.border = "1px solid rgb(204, 204, 204)";
        this.Tb.onclick = function (b) {
            b.stopPropagation();
            void 0 !== a.Qh ? a.Qh() : void 0 !== a.ng && a.ng();
            Eh.hi()
        };
        b.appendChild(this.Tb);
        this.Ab.appendChild(b);
        this.ja.appendChild(this.Ab)
    }
    Dh.prototype.resize = function () {
        this.Ab.style.width = Math.min(440, document.documentElement.clientWidth - 40) + "px";
        this.Ab.style.left = Math.max(0, (this.ja.offsetWidth - this.Ab.offsetWidth) / 2) + "px";
        this.Ab.style.top = Math.max(0, (this.ja.offsetHeight - 80 - this.Ab.offsetHeight) / 2) + "px"
    };
    Dh.prototype.display = function (a, b, c) {
        var d = this;
        if (this.active) this.wo.push({
            Dq: a,
            ng: b,
            Qh: c
        });
        else {
            this.message.innerText = a;
            this.ja.style.display = "block";
            this.ng = b;
            void 0 === c ? Eh.Tb.style.display = "none" : (this.Qh = c, Eh.Tb.style.display = "");
            var e = new Ah,
                f = function (a) {
                    a.stopPropagation();
                    a.preventDefault();
                    Ch(e, a)
                };
            Bh(e, {
                keyCode: 13,
                $f: !1,
                handle: function () {
                    b();
                    d.hi()
                }
            });
            Bh(e, {
                keyCode: 27,
                $f: !1,
                handle: function () {
                    void 0 !== c && c();
                    d.hi()
                }
            });
            this.active = !0;
            var h = function () {
                d.resize()
            };
            z("keydown", document, f, !0);
            z("resize", window, h);
            this.hi = function () {
                try {
                    $a("keydown", document, f, !0)
                } catch (p) {}
                try {
                    $a("resize", window, h)
                } catch (p) {}
                d.ja.style.display = "none";
                d.active = !1;
                d.ja.parentElement === document.body && document.body.removeChild(d.ja);
                d.ng = void 0;
                d.Qh = void 0;
                var a = d.wo.shift();
                void 0 !== a && d.display(a.Dq, a.ng, a.Qh)
            };
            a = U();
            void 0 !== a && a ? a.appendChild(this.ja) : document.body.appendChild(this.ja);
            this.resize()
        }
    };
    var Eh = new Dh;

    function V(a) {
        var b;
        void 0 === b && (b = function () {});
        Eh.display(a, b)
    }

    function Fh(a, b, c) {
        void 0 === b && (b = function () {});
        void 0 === c && (c = function () {});
        Eh.display(a, b, c)
    };
    var Gh = !0;
    q(T, function (a) {
        Gh = a.j.yb
    });
    var Hh;

    function Ih(a) {
        a = void 0 === a ? "Login required" : a;
        return Gh ? (void 0 !== Hh ? Hh() : Fh(a, function () {
            window.top.location.href = "/auth/login/?next=" + window.location.pathname + window.location.search
        }), !0) : !1
    };

    function Jh(a) {
        var b = Kh;
        Ih('You must be logged in to follow a broadcaster. Click "OK" to login.') || B("follow/follow/" + b + "/", {
            from_tube: -1 !== window.location.search.indexOf("from_tube") ? "True" : ""
        }).then(function () {
            t(a, {
                da: b,
                Df: !0
            });
            void 0 !== window._followedTabUpdate && window._followedTabUpdate(b)
        })["catch"](function (a) {
            v("Unable to follow " + b + ": " + a)
        })
    }

    function Lh(a) {
        var b = Kh;
        Ih('You must be logged in to follow a broadcaster. Click "OK" to login.') || B("follow/unfollow/" + b + "/", {
            from_tube: -1 !== window.location.search.indexOf("from_tube") ? "True" : ""
        }).then(function () {
            t(a, {
                da: b,
                Df: !1
            });
            void 0 !== window._followedTabUpdate && window._followedTabUpdate(b)
        })["catch"](function (a) {
            v("Unable to unfollow " + b + ": " + a)
        })
    }

    function Mh(a) {
        var b = Nh;
        return new Promise(function (c) {
            function d() {
                c(a.map(function (a) {
                    return {
                        da: a,
                        Df: !1
                    }
                }))
            }
            b ? d() : B("follow/is_following_batch/", {
                users: a.join(",")
            }).then(function (b) {
                b = new D(b.responseText);
                var d = mb(b, "following");
                M(b);
                c(a.map(function (a) {
                    return {
                        da: a,
                        Df: K(d, a)
                    }
                }))
            })["catch"](function (a) {
                v("Error calling is_following_batch (" + a + ")");
                d()
            })
        })
    }

    function Oh() {
        return new Promise(function (a) {
            A("follow/online_following").then(function (b) {
                b = new D(b.responseText);
                var c = G(b, "following");
                M(b);
                a(c)
            })["catch"](function (b) {
                401 !== b.ad.status && v("getOnlineFollowedRooms failed (" + b + ")");
                a([])
            })
        })
    };
    var Ph = {
            wp: "chaturbate.com",
            xp: "",
            wr: cc,
            ap: "#0b5d81",
            So: "Chaturbate",
            bgColor: "#ffffff",
            Gq: "#0c6a93",
            Hq: "#ffffff",
            Fq: "#f47321",
            Xn: "#ffffff",
            Yn: "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gender_tab_bg.gif) repeat-x",
            qq: "#004B5E",
            Ed: "#494949",
            Fa: "#494949",
            Ub: "#222222",
            Br: "#222222",
            Lc: "#0A5B83",
            Yc: "#8bb3da",
            Xc: "#ffffff",
            hg: "#dde9f5",
            jb: "#dc5500",
            $b: "#5e81a4",
            Zo: "#6D85B5",
            $o: "#FFF",
            $j: "#2472B4",
            bp: "#4F4F4F",
            km: "#B60A42",
            Li: "#FFFFFF",
            Nm: "#F0F1F1",
            Om: "#ACACAC",
            Pm: "#000",
            Qm: "#0A5A83",
            Ak: "#575757",
            Bk: "#0A5A83",
            Ar: "#e45900",
            hq: "#676767",
            lq: "#494949",
            Qp: "#494949",
            Aq: "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/logo.svg",
            ur: "#f47321",
            Bq: void 0,
            iq: "",
            rq: "#ffffff url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/header_bg.gif) repeat-x",
            gq: "#ffffff url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/footer_bg.gif) repeat-x",
            Cr: "#e9e9e9",
            Fr: "#ffffff",
            Zn: "#FCEADB",
            fq: "#494949",
            jq: "#0A5A83",
            kq: "#dc5500",
            Ek: "#4C4C4C",
            Xp: "",
            gl: !1,
            bm: !1,
            kr: !1,
            lr: !1,
            jr: !1,
            pr: !0,
            qr: !0,
            rr: !0,
            nr: !0,
            or: !0,
            cm: !0,
            Io: "#494949",
            zq: "#000000",
            Nk: "#494949",
            sp: "#3C87BA",
            wm: "#F47321",
            xm: "#ffffff",
            ym: "https://www.surveymonkey.com/r/DXYF5T8"
        },
        Qh = Ph;
    if (void 0 !== window.siteSettings) {
        var W = window.siteSettings,
            Rh = W.navigation_font_color,
            Sh = W.text_color,
            Th = W.tab_inactive_color,
            Uh = W.tab_inactive_font_color,
            Vh = W.content_bgcolor,
            Wh = W.footer_href_color,
            Xh = W.footer_text_color,
            Yh = W.cam_href_color;
        Qh = {
            wp: W.chaturbate_alias,
            xp: W.dbwl_domain,
            wr: W.tagline,
            ap: W.tagline_color,
            So: W.site_name,
            bgColor: W.bgcolor,
            Gq: W.navigation_bgcolor,
            Hq: Rh,
            Fq: W.navigation_alt_bgcolor,
            Xn: W.navigation_alt_2_bgcolor,
            Yn: "",
            qq: W.h1_color,
            Ed: Sh,
            Fa: Ph.Fa,
            Ub: Ph.Ub,
            Br: Sh,
            Lc: W.href_color,
            Yc: W.tab_border_color,
            Xc: W.tab_active_color,
            hg: Th,
            jb: W.tab_active_font_color,
            $b: Uh,
            Zo: W.tag_exhibitionist_color,
            $o: W.tag_font_color,
            $j: W.tag_hd_color,
            bp: W.tag_offline_color,
            km: W.tag_private_group_color,
            Li: Vh,
            Nm: W.cam_background_color,
            Om: W.cam_border_color,
            Pm: W.cam_text_color,
            Qm: "#0C6A93",
            Ak: W.cam_text_alt_color,
            Bk: Yh,
            Ar: Yh,
            hq: Wh,
            lq: Xh,
            Qp: Xh,
            Aq: W.logo_image_name,
            ur: W.signup_bg_color,
            Bq: W._logo_width,
            iq: W.footer_html,
            rq: "",
            gq: "",
            Cr: Vh,
            Fr: Rh,
            Zn: Th,
            fq: Uh,
            jq: Wh,
            kq: Wh,
            Ek: "#0C6A93",
            Xp: W.default_campaign_slug,
            gl: !0,
            bm: !0,
            kr: !0,
            lr: !0,
            jr: !0,
            pr: !1,
            qr: !1,
            rr: !1,
            nr: !1,
            or: !1,
            cm: !1,
            Io: "#222222",
            zq: Sh,
            Nk: Sh,
            zo: W.whitelabel_hit_count_referring_url,
            sp: W.tab_inactive_color,
            wm: W.tab_active_color,
            xm: W.tab_active_font_color,
            ym: Ph.ym
        }
    }
    void 0 !== Qh.zo && B("whitelabels/record_hit/", {
        referer: Qh.zo
    })["catch"](function (a) {
        v("Error recording whitelabel hit: " + a)
    });
    var S = Qh;
    var Zh, Nh = !0;
    q(T, function (a) {
        Zh = zh(a.h.Xh);
        Nh = a.j.yb
    });

    function $h() {
        w.call(this);
        var a = this;
        this.qn = [];
        this.Vi = [];
        this.yi = !0;
        this.ml = !1;
        this.nl = "genders";
        this.Uc = [];
        this.vi = [];
        this.Kf = !1;
        this.a.style.fontSize = "12px";
        this.a.style.overflowY = "scroll";
        z("scroll", this.a, function () {
            ai(a)
        });
        if (y()) {
            var b = window.localStorage.getItem(this.nl);
            null !== b && (this.Uc = JSON.parse(b), Nh && (b = this.Uc.indexOf(zh("followed")), 0 <= b && this.Uc.splice(b, 1)))
        }
        this.kd = document.createElement("div");
        this.kd.style.margin = "2px 2px 0 2px";
        this.kd.style.whiteSpace = "nowrap";
        this.kd.style.textAlign = "center";
        this.a.appendChild(this.kd);
        bi(this, "Female", Ad);
        bi(this, "Male", Cd);
        bi(this, "Couple", Gd);
        bi(this, "Trans", Ed);
        this.Mh = document.createElement("div");
        this.Mh.innerText = md + "...";
        this.Mh.style.color = S.Ub;
        this.Mh.style.margin = "4px";
        ci(this);
        b = document.createElement("p");
        b.style.color = S.Ub;
        b.style.cursor = "pointer";
        b.style.padding = "0";
        b.style.margin = "0";
        b.onclick = function () {
            ci(a)
        };
        b.innerText = zd;
        b.style.textAlign = "left";
        this.kd.appendChild(b);
        this.uq = setInterval(function () {
            for (var b = l(a.children()), d = b.next(); !d.done; d = b.next()) vh(d.value.Xj)
        }, 3E4)
    }
    m($h, w);
    $h.prototype.close = function () {
        clearInterval(this.uq)
    };
    $h.prototype.children = function () {
        return w.prototype.children.call(this)
    };

    function bi(a, b, c) {
        function d() {
            return "Followed" === b && Ih('You must be logged in to view your followed cams. Click "OK" to login.') ? !0 : !1
        }
        var e = document.createElement("input");
        e.setAttribute("type", "checkbox");
        e.name = b.toLowerCase();
        e.title = b;
        e.checked = -1 < a.Uc.indexOf(zh(b.toLowerCase()));
        0 < a.Vi.length && (e.style.marginLeft = "12px");
        e.onchange = function () {
            d() ? e.checked = !1 : di(a)
        };
        a.kd.appendChild(e);
        a.qn.push(e);
        var f = document.createElement("img");
        f.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon" +
            b + ".png";
        f.style.position = "relative";
        f.style.top = "2px";
        f.style.cursor = "pointer";
        f.style.width = "16px";
        f.style.height = "16px";
        f.title = c;
        f.onclick = function () {
            d() || (e.checked = !e.checked, di(a))
        };
        a.kd.appendChild(f);
        c = document.createElement("span");
        c.innerText = b;
        c.style.position = "relative";
        c.style.color = S.Ub;
        c.style.top = "1px";
        c.style.marginLeft = "4px";
        c.style.cursor = "pointer";
        c.onclick = function () {
            d() || (e.checked = !e.checked, di(a))
        };
        a.kd.appendChild(c);
        a.Vi.push(c)
    }

    function di(a) {
        a.Uc = [];
        for (var b = l(a.qn), c = b.next(); !c.done; c = b.next()) c = c.value, c.checked && a.Uc.push(zh(c.name));
        O("ChangeRoomListGender", {
            selectedGenders: a.Uc
        });
        y() && (0 === a.Uc.length ? window.localStorage.removeItem(a.nl) : window.localStorage.setItem(a.nl, JSON.stringify(a.Uc)));
        ci(a)
    }
    $h.prototype.C = function () {
        w.prototype.C.call(this);
        for (var a = this.a.clientWidth - 8, b = l(this.children()), c = b.next(); !c.done; c = b.next()) c = c.value, c.a.style.width = a + "px", c.a.style.height = .84375 * c.a.offsetWidth + "px";
        this.kd.style.width = a + "px";
        if (!this.yi && this.kd.scrollWidth <= a) {
            c = l(this.Vi);
            for (b = c.next(); !b.done; b = c.next()) b.value.style.display = "inline-block";
            this.yi = !0
        }
        if (this.yi && this.kd.scrollWidth > a) {
            a = l(this.Vi);
            for (b = a.next(); !b.done; b = a.next()) b.value.style.display = "none";
            this.yi = !1
        }
        ai(this)
    };

    function ci(a) {
        Da(a);
        a.vi = [];
        a.ml = !0;
        a.a.appendChild(a.Mh);
        !Nh && -1 < a.Uc.indexOf(zh("followed")) ? (a.Kf = !0, Oh().then(function (b) {
            a.Kf = !1;
            0 < b.length && ei(a, b.map(function (a) {
                return {
                    da: a,
                    Df: !0
                }
            }));
            fi(a);
            x(a)
        })) : (fi(a), x(a))
    }

    function gi(a) {
        return 0 === a.Uc.length ? void 0 === Zh ? window.default_gender.split("") : [Zh] : a.Uc.filter(function (a) {
            return a !== zh("followed")
        })
    }

    function fi(a) {
        a.Ye = new sh(gi(a), 10);
        a.Ye.start(hi(a)).then(function (b) {
            ii(a, b.map(function (a) {
                return a.username
            }))
        })["catch"](function (b) {
            a.Kf = !1;
            v("getNewIterator: " + b)
        })
    }

    function ji(a) {
        a.Kf || (a.Kf = !0, "key" in a.Ye.rd && a.Ye.next().then(function (b) {
            try {
                0 === b.length ? (a.vi = [], fi(a)) : ii(a, b.map(function (a) {
                    return a.username
                }))
            } catch (c) {
                v(c + ": Could not load more rooms from the roomIterator")
            }
        })["catch"](function (b) {
            a.Kf = !1;
            "Session Not Found" === b ? (Pg("roomlist session not-found. recreating..."), fi(a)) : v("loadMoreRooms: " + b)
        }))
    }

    function ii(a, b) {
        Mh(b).then(function (b) {
            ei(a, b);
            ai(a);
            x(a)
        })
    }

    function ei(a, b) {
        a.Kf = !1;
        for (var c = .84375 * (a.a.clientWidth - 8), d = a.a.scrollTop, e = [], f = l(a.children()), h = f.next(); !h.done; h = f.next())
            if (h = h.value, h.a.offsetTop - d < -15 * c) e.push(h);
            else break;
        c = l(e);
        for (h = c.next(); !h.done; h = c.next()) e = h.value, d -= e.a.offsetHeight, a.removeChild(e);
        a.a.scrollTop = d;
        a.ml && (a.a.removeChild(a.Mh), a.ml = !1);
        d = l(b);
        for (c = d.next(); !c.done; c = d.next()) a.vi.push(a.N(new yh(c.value.da)))
    }

    function ai(a) {
        a.a.scrollTop + 4.21875 * (a.a.clientWidth - 8) >= a.a.scrollHeight - a.a.offsetHeight && ji(a)
    }

    function hi(a) {
        var b = [];
        a = l(a.vi);
        for (var c = a.next(); !c.done; c = a.next()) b.push(c.value.da);
        return b
    };
    var ki = new n("tipsInPast24HoursUpdate"),
        li = new n("tokenBalanceUpdate");

    function mi(a) {
        return new Promise(function (b, c) {
            A("tipping/current_tokens/?room=" + a).then(function (a) {
                a = new D(a.responseText);
                var c = {
                        Va: L(a, "token_balance")
                    },
                    d = H(a, "tip_options");
                if (void 0 !== d) {
                    d = new D(d);
                    var h = void 0 === h ? !0 : h;
                    var g = G(d, "tip_options");
                    "object" !== typeof g ? (h && void 0 !== g && r("getObjectStringOrUndefined(tip_options): " + g + " is wrong type", {
                        message: d.Bd
                    }), d = void 0) : d = JSON.stringify(g);
                    if (void 0 !== d) {
                        d = new D(d);
                        h = d.getAsString("label");
                        var p = nb(d, "options");
                        g = [];
                        p = l(JSON.parse(p));
                        for (var u = p.next(); !u.done; u = p.next()) u = new D(JSON.stringify(u.value)), g.push({
                            label: u.getAsString("label")
                        }), M(u);
                        h = {
                            label: h,
                            options: g
                        };
                        M(d);
                        d = h
                    } else d = void 0;
                    c.ah = d
                }
                M(a);
                t(li, {
                    qc: c.Va
                });
                b(c)
            })["catch"](function (a) {
                c(a.status)
            })
        })
    }
    var ni = !1;

    function oi(a) {
        return new Promise(function (b, c) {
            ni || (ni = !0, B("tipping/send_tip/" + a.da + "/", {
                tip_amount: a.hp,
                message: a.message,
                source: a.source,
                tip_room_type: a.ip
            }).then(function (a) {
                ni = !1;
                a = new D(a.responseText);
                var c = {
                        Cd: K(a, "success")
                    },
                    d = H(a, "error", !1);
                void 0 !== d ? c.error = d : (c.Va = L(a, "token_balance"), c.Gc = L(a, "tipped_performer_last_24hrs"));
                M(a);
                void 0 !== c.Va && t(li, {
                    qc: c.Va
                });
                b(c)
            })["catch"](function (a) {
                ni = !1;
                c(a.status)
            }))
        })
    };

    function pi() {
        var a = document.createElement("input");
        z("keypress", a, function (a) {
            a.metaKey || 8 === a.charCode || 0 === a.charCode || 13 === a.charCode || 48 <= a.charCode && 57 >= a.charCode || a.preventDefault()
        });
        return a
    }

    function qi(a) {
        for (var b = l(document.querySelectorAll(".tokencount[updatable-count]")), c = b.next(); !c.done; c = b.next()) c.value.textContent = "" + a
    }

    function ri(a) {
        a.onclick = function (a) {
            a.preventDefault();
            Eg("/tipping/purchase_tokens/", "_blank", "height=615, width=850")
        }
    };

    function si(a) {
        w.call(this);
        var b = this;
        this.mm = a;
        this.dg = "public";
        this.Me = !1;
        this.ff = new n("tipSent");
        this.$n = new n("notifyAttemptSendTip");
        this.fm = !1;
        this.a.style.minWidth = "400px";
        this.a.style.color = S.Ub;
        a = document.createElement("div");
        a.style.display = "inline-block";
        var c = document.createElement("span");
        c.innerText = Nd;
        c.style.display = "inline-block";
        c.style.fontSize = "13px";
        c.style.fontWeight = "bold";
        c.style.padding = "6px";
        a.appendChild(c);
        this.Hb = document.createElement("span");
        this.Hb.innerText = nd + "...";
        this.Hb.style.display = "inline-block";
        this.Hb.style.color = "green";
        this.Hb.style.fontSize = "13px";
        this.Hb.style.fontWeight = "bold";
        this.Hb.style.padding = "6px 6px 6px 0";
        a.appendChild(this.Hb);
        q(T, function (a) {
            b.da = a.j.i();
            q(a.j.event.ib, function (a) {
                switch (a.ya) {
                    case "privatewatching":
                    case "groupwatching":
                        b.dg = "private";
                        break;
                    default:
                        b.dg = "public"
                }
            })
        });
        q(li, function (a) {
            b.um(a.qc)
        });
        var d = document.createElement("a");
        d.innerText = pc;
        d.href = "/tipping/purchase_tokens/";
        d.style.display = "inline-block";
        d.style.color = "#0a5a83";
        d.style.position = "absolute";
        d.style.right = "0";
        d.style.fontSize = "13px";
        d.style.padding = "6px";
        d.onclick = function () {
            Eg("/tipping/purchase_tokens/", "_blank", "height=615, width=850");
            return !1
        };
        d.onmouseenter = function () {
            d.style.textDecoration = "underline"
        };
        d.onmouseleave = function () {
            d.style.textDecoration = "none"
        };
        a.appendChild(d);
        this.a.appendChild(a);
        this.nm = a;
        this.La = document.createElement("div");
        this.La.style.display = "none";
        this.La.style.color = "#ff0000";
        this.La.style.fontSize = "13px";
        this.La.style.fontWeight = "bold";
        this.La.style.padding = "6px";
        this.La.style.textAlign = "center";
        this.La.style.position = "absolute";
        this.La.style.left = "50%";
        a = document.createElement("div");
        a.innerText = Pd;
        this.La.appendChild(a);
        a = document.createElement("div");
        a.innerText = Qd;
        this.La.appendChild(a);
        this.a.appendChild(this.La);
        this.Wc = document.createElement("form");
        c = document.createElement("label");
        a = document.createElement("span");
        a.innerText = Rd;
        a.style.display = "inline-block";
        a.style.fontSize = "13px";
        a.style.padding = "6px";
        c.appendChild(a);
        this.Z = pi();
        this.Z.value = "25";
        this.Z.min = "1";
        this.Z.style.width = "5em";
        this.Z.style.display = "inline-block";
        this.Z.style.fontSize = "13px";
        this.Z.style.padding = "4px";
        this.Z.style.border = "1px solid #b4b4b4";
        this.Z.style.borderRadius = "4px";
        this.Z.style.marginTop = "12px";
        this.Z.onclick = function () {
            ti(b)
        };
        this.vc = document.createElement("div");
        this.vc.innerText = Sd;
        this.vc.style.color = "red";
        this.vc.style.display = "none";
        this.vc.style.paddingLeft = "5px";
        a = document.createElement("div");
        this.Z.oninput = function () {
            ui(b)
        };
        c.appendChild(this.Z);
        c.appendChild(this.vc);
        this.Wc.appendChild(c);
        c = document.createElement("label");
        this.pc = document.createElement("div");
        this.pc.innerText = gc;
        this.pc.style.fontSize = "13px";
        this.pc.style.padding = "6px 6px 0 6px";
        c.appendChild(this.pc);
        this.Ec = document.createElement("div");
        this.ea = document.createElement("textarea");
        this.ea.maxLength = 255;
        this.ea.style.width = "100%";
        this.ea.style.resize = "none";
        this.ea.style.fontSize = "13px";
        this.ea.style.margin = "6px";
        this.ea.style.padding = "4px";
        this.ea.style.border = "1px solid #4b4c4b";
        this.ea.style.borderRadius = "4px";
        this.ea.style.boxSizing = "border-box";
        this.Ec.appendChild(this.ea);
        this.pc.onclick = function () {
            b.ea.select()
        };
        c.appendChild(this.Ec);
        this.Wc.appendChild(c);
        a.style.textAlign = "right";
        a.style.position = "relative";
        c = document.createElement("div");
        c.style.textAlign = "left";
        this.cb = document.createElement("div");
        this.cb.innerText = Td;
        c.style.position = "absolute";
        this.cb.style.display = "none";
        c.style.fontSize = "10px";
        c.style.cssFloat = "left";
        c.style.lineHeight = "1.3em";
        c.style.padding = "6px";
        c.style.textAlign = "left";
        c.style.left = "0px";
        a.appendChild(c);
        c.appendChild(this.cb);
        this.D = document.createElement("button");
        this.D.innerHTML = hc + " &#9656;";
        this.D.setAttribute("type", "submit");
        this.D.style.display = "inline-block";
        this.D.style.fontSize = "14px";
        this.D.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.D.style.margin = "6px";
        this.D.style.padding = "6px 18px";
        this.D.style.color = "#ffffff";
        this.D.style.backgroundColor = "#f47321";
        this.D.style.border = "1px solid #b1b1b1";
        this.D.style.borderRadius = "4px";
        this.D.style.cursor = "pointer";
        a.appendChild(this.D);
        this.gi = document.createElement("div");
        this.gi.style.fontSize = "10px";
        var e = document.createElement("label"),
            f = document.createElement("span");
        f.innerText = Ud;
        f.style.cursor = "pointer";
        var h = document.createElement("input");
        h.type = "checkbox";
        z("click", h, function () {
            b.fm = !b.fm
        });
        e.appendChild(f);
        e.appendChild(h);
        this.gi.appendChild(e);
        c.appendChild(this.gi);
        this.Wc.appendChild(a);
        z("keydown", this.a, function (a) {
            9 === a.keyCode && (a.preventDefault(), a.shiftKey ? document.activeElement === b.D ? h.focus() : document.activeElement === h ? b.ea.focus() : document.activeElement === b.ea ? b.Z.focus() : b.D.focus() : document.activeElement === b.D ? b.Z.focus() : document.activeElement === b.Z ? b.ea.focus() : document.activeElement === b.ea ? h.focus() : b.D.focus())
        });
        this.a.appendChild(this.Wc);
        this.C();
        var g;
        z("submit", this.Wc, function (a) {
            a.preventDefault();
            var c = parseInt(b.Z.value);
            isNaN(c) || b.D.disabled || (O("SendTipClicked", {
                amount: c
            }), 100 < c && !b.Me ? (b.D.innerText = zb(c), b.Me = !0, b.C()) : (b.Z.blur(), void 0 === g && (oi({
                da: b.da,
                hp: b.Z.value,
                message: "" + (void 0 !== b.sa ? b.sa.value : b.ea.value),
                source: b.mm,
                ip: b.dg
            }).then(function (a) {
                a.Cd ? O("SendTipSuccess", {
                    amount: c
                }) : void 0 !== a.error ? V(a.error) : v("unknown send tip error");
                b.Kj();
                b.ea.value = "";
                void 0 !== a.Gc && t(ki, a.Gc);
                t(b.ff, {
                    Ja: c,
                    Cd: a.Cd
                })
            })["catch"](function (a) {
                v("Error sending tip (" + a + ")");
                t(b.ff, {
                    Ja: c,
                    Cd: !1
                })
            }), t(b.$n, {
                Ja: c
            }), g = setTimeout(function () {
                return g = void 0
            }, 250))))
        })
    }
    m(si, w);
    k = si.prototype;
    k.C = function () {
        this.Ec.style.width = Math.max(0, this.a.clientWidth - 12) + "px";
        this.cb.style.maxWidth = Math.max(0, this.a.offsetWidth - this.D.offsetWidth - 15) + "px"
    };
    k.Kj = function () {
        this.D.innerText = hc;
        this.Me = !1
    };

    function ui(a) {
        /^[1-9]\d*$/.test(a.Z.value) ? (a.D.disabled = !1, a.D.style.backgroundColor = "#f47321", a.D.style.color = "#ffffff", a.vc.style.display = "none") : (a.D.disabled = !0, a.D.style.backgroundColor = "#888", a.D.style.color = "#ccc", a.vc.style.display = "inline-block");
        a.Me && a.Kj()
    }
    k.show = function (a) {
        var b = this;
        void 0 !== a.Ja && (this.Z.value = a.Ja.toString(), ui(this));
        this.ea.value = void 0 !== a.message ? a.message : "";
        void 0 !== a.mi && a.mi ? (this.cb.style.display = "none", this.gi.style.lineHeight = "3em") : (this.cb.style.display = "block", this.gi.style.lineHeight = "");
        mi(this.da).then(function (a) {
            b.Z.max = a.Va.toString();
            if (void 0 !== a.ah) {
                b.pc.innerText = a.ah.label;
                void 0 !== b.sa && b.Ec.removeChild(b.sa);
                b.sa = document.createElement("select");
                b.sa.style.width = "100%";
                b.sa.style.fontSize = ".8125em";
                b.sa.style.margin = "6px";
                b.sa.style.border = "1px solid #4b4c4b";
                b.sa.style.boxSizing = "border-box";
                b.Ec.appendChild(b.sa);
                var c = document.createElement("option");
                c.innerText = "-- " + Vd + " --";
                b.sa.appendChild(c);
                a = l(a.ah.options);
                for (c = a.next(); !c.done; c = a.next()) {
                    var e = c.value;
                    c = document.createElement("option");
                    c.innerText = e.label;
                    c.value = e.label;
                    b.sa.appendChild(c)
                }
                b.ea.style.display = "none"
            } else void 0 !== b.sa && (b.pc.innerText = gc, b.ea.value = "", b.ea.style.display = "block", b.Ec.removeChild(b.sa), b.sa = void 0);
            b.C();
            ti(b)
        })["catch"](function (a) {
            v("Error getting token balance (" +
                a + ")")
        })
    };

    function ti(a) {
        document.activeElement !== a.Z && (a.Z.focus(), a.Z.select())
    }
    k.um = function (a) {
        this.Hb.innerText = a + " " + vb(a)
    };
    k.sn = function () {
        this.a.style.visibility = "hidden";
        document.body.appendChild(this.a);
        this.a.style.width = this.nm.offsetWidth + "px";
        this.a.style.height = "auto";
        var a = [this.a.offsetWidth, this.a.offsetHeight];
        document.body.removeChild(this.a);
        this.a.style.visibility = "";
        return a
    };

    function vi(a) {
        return a.Le ? "#DC5500" : a.wc ? "#DC0000" : a.uc ? "#090" : a.jf ? "#804baa" : a.gf ? "#be6aff" : a.hf ? "#009" : a.ge ? "#69A" : "#494949"
    }

    function wi(a) {
        a = a.toLowerCase();
        if (-1 < ["m", "male"].indexOf(a)) return "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/male.svg";
        if (-1 < ["f", "female"].indexOf(a)) return "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/female.svg";
        if (-1 < ["t", "s", "trans"].indexOf(a)) return "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/trans.svg";
        if (-1 < ["c", "couple"].indexOf(a)) return "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/couple.svg";
        v("Could not set menu gender icon. Defaulting to male.");
        return "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/male.svg"
    };
    var xi;
    q(T, function (a) {
        xi = a.j.i()
    });

    function yi(a) {
        return new Promise(function (b, c) {
            A("accounts/api/usermenu/" + a + "/" + xi + "/").then(function (a) {
                a = new D(a.responseText);
                var c = K(a, "online"),
                    d = I(a, "username"),
                    h = L(a, "display_age", !1),
                    g = I(a, "gender"),
                    p = I(a, "image_url"),
                    u = K(a, "can_silence"),
                    F = K(a, "can_access");
                M(a);
                b({
                    username: d,
                    ce: h,
                    zg: g,
                    ij: p,
                    Ue: c,
                    vg: u,
                    Rm: F
                })
            })["catch"](function (a) {
                c(a)
            })
        })
    };
    var zi = new n("roomListRequest"),
        Ai = new n("playerForceMuted"),
        Bi = new n("standardEmoticonRequest"),
        Ci = new n("userMenuPmClicked"),
        Di = new n("closePmSession");
    var Ei, Fi, Gi;
    q(T, function (a) {
        Ei = a.j.i();
        Fi = a.j.username();
        Gi = a.j
    });

    function Hi(a, b) {
        var c = document.createElement("span");
        c.style.color = (void 0 === b ? 0 : b) ? vi(a) : a.Le ? "#ff6200" : a.wc ? "#DC0000" : a.uc ? "#00ff00" : a.jf ? "#ad62e1" : a.gf ? "#d4a0ff" : a.hf ? "#8a98ff" : a.ge ? "#84c6dc" : "#b3b3b3";
        c.style.fontWeight = "bold";
        c.innerText = a.username;
        c.onmouseenter = function () {
            c.style.textDecoration = "underline";
            c.style.cursor = "pointer"
        };
        c.onmouseleave = function () {
            c.style.textDecoration = "none";
            c.style.cursor = "default"
        };
        z("click", c, function () {
            null === c.parentElement ? v("Username span has no parent") : (O("OpenUserContextMenu", {
                username: a.username
            }), Ii(a.username, c.parentElement))
        });
        return c
    }

    function Ji() {
        var a = document.createElement("hr");
        a.style.margin = "6px";
        return a
    }

    function Ii(a, b) {
        2 === Ki && (Ki = 0, yi(a).then(function (c) {
            var d = new Li(a, c, b);
            b.style.cursor = "default";
            d.position();
            d.vg(c.vg, a)
        })["catch"](function (a) {
            Ki = 2;
            v("Could not process user menu request: " + a)
        }))
    }

    function Li(a, b, c) {
        var d = this;
        Ki = 0;
        this.d = b;
        this.ja = c;
        this.U = document.createElement("div");
        this.U.style.border = "1px solid #6B6B6B";
        this.U.style.position = "absolute";
        this.U.style.background = "#e1e1e1";
        this.U.style.borderRadius = "4px";
        this.U.style.display = "none";
        this.U.style.zIndex = "999";
        this.U.style.fontWeight = "normal";
        this.U.style.fontSize = "12px";
        this.U.onmouseenter = function () {
            d.U.style.cursor = "default"
        };
        this.P = document.createElement("div");
        this.P.style.position = "fixed";
        this.P.style.top = "0";
        this.P.style.left = "0";
        this.P.style.height = "100%";
        this.P.style.width = "100%";
        this.P.style.display = "block";
        this.ja.appendChild(this.P);
        this.P.onclick = function () {
            d.Dd()
        };
        b = document.createElement("div");
        c = document.createElement("img");
        var e = document.createElement("span");
        c.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/red-arrow-down.gif";
        e.innerText = a;
        b.style.margin = "6px";
        b.style.color = "#000";
        c.style.paddingRight = "6px";
        b.appendChild(c);
        b.appendChild(e);
        this.U.appendChild(b);
        this.U.appendChild(Ji());
        b = document.createElement("div");
        b.style.margin = "0 6px 0 6px";
        b.style.display = "block";
        c = document.createElement("div");
        c.style.display = "inline-block";
        c.style.margin = "4px";
        c.style.verticalAlign = "top";
        b.appendChild(c);
        this.d.Rm && (e = document.createElement("span"), e.innerText = isNaN(this.d.ce) ? "" : "" + this.d.ce, e.style.display = "inline-block", e.style.color = "#000", e.style.marginRight = "2px", c.appendChild(e), e = document.createElement("img"), e.src = wi(this.d.zg), e.style.display = "inline-block", e.height = 16, e.width = 16, c.appendChild(e));
        e = document.createElement("div");
        var f = document.createElement("a");
        e.appendChild(f);
        c.appendChild(e);
        f.href = "/" + a + "/";
        f.target = "_blank";
        f.innerText = Yd;
        f.style.textDecoration = "none";
        f.style.color = "black";
        f.onmouseenter = function () {
            f.style.textDecoration = "underline";
            f.style.cursor = "pointer"
        };
        f.onmouseleave = function () {
            f.style.textDecoration = "none";
            f.style.cursor = "default"
        };
        z("click", e, function (b) {
            O("ViewProfile", {
                username: a
            });
            b.stopPropagation();
            d.Dd()
        });
        this.d.Ue && (e = document.createElement("img"), e.src = this.d.ij, e.height = 41, e.width = 49, e.style.display = "inline-block", b.insertBefore(e, c));
        this.U.appendChild(b);
        this.U.appendChild(Ji());
        if (Fi !== a) {
            if (void 0 === Gi) {
                v("ignoreText: Chatconnection should be defined");
                return
            }
            b = document.createElement("div");
            var h = document.createElement("div"),
                g = document.createElement("div");
            c = document.createElement("img");
            c.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-email.gif";
            var p = document.createElement("span");
            p.innerText = Zd;
            var u = document.createElement("span");
            Gi.le(a) ? (u.style.paddingLeft = "13px", u.innerText = Ee) : (u.style.paddingLeft = "7px", u.innerText = Ge, e = document.createElement("img"), e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-ignore.gif", g.appendChild(e));
            g.appendChild(u);
            c.style.paddingRight = "4px";
            h.style.padding = "3px 9px 3px 9px";
            h.style.whiteSpace = "nowrap";
            g.style.padding = "3px 9px 3px 9px";
            b.style.marginBottom = "7px";
            b.style.color = "#000";
            h.appendChild(c);
            h.appendChild(p);
            b.appendChild(h);
            b.appendChild(g);
            g.onmouseenter = function () {
                g.style.background = "#6B6B6B";
                g.style.cursor = "pointer";
                u.style.color = "#e1e1e1"
            };
            g.onmouseleave = function () {
                g.style.background = "#e1e1e1";
                g.style.cursor = "default";
                u.style.color = "black"
            };
            g.onclick = function () {
                O("IgnoreUser", {
                    username: a
                });
                void 0 === Gi ? v("no chatConn defined in ignoreLink.onclick") : (Gi.le(a) ? Gi.ik(a) : Gi.tc(a), d.Dd())
            };
            h.onmouseenter = function () {
                h.style.background = "#6B6B6B";
                h.style.cursor = "pointer";
                p.style.color = "#e1e1e1"
            };
            h.onmouseleave = function () {
                h.style.background = "#e1e1e1";
                h.style.cursor = "default";
                p.style.color = "black"
            };
            z("click", h, function (b) {
                d.Dd();
                Ih('You must be logged in to send a private message. Click "OK" to login.') || (O("StartPrivateMessage", {
                    username: a
                }), t(Ci, a), b.stopPropagation())
            });
            this.U.appendChild(b)
        }
        this.U.style.display = "block";
        Ki = 1
    }
    Li.prototype.vg = function (a, b) {
        var c = this;
        if (a) {
            this.ue = document.createElement("div");
            var d = document.createElement("div"),
                e = document.createElement("span");
            e.innerText = "Silence for 6 hours";
            e.style.paddingLeft = "3px";
            d.style.padding = "3px 9px 3px 9px";
            this.ue.style.marginBottom = "7px";
            this.ue.style.color = "#000";
            d.appendChild(e);
            this.ue.appendChild(d);
            d.onmouseenter = function () {
                d.style.background = "#6B6B6B";
                d.style.cursor = "pointer";
                d.style.color = "#e1e1e1"
            };
            d.onmouseleave = function () {
                d.style.background = "#e1e1e1";
                d.style.cursor = "default";
                d.style.color = "black"
            };
            d.onclick = function () {
                Fh("Silence " + b + "?", function () {
                    O("SilenceUser", {
                        username: b
                    });
                    B("roomsilence/" + b + "/" + Ei + "/", {}).then(function () {})["catch"](function (a) {
                        v("Unable to silence user (" + a + ")", {
                            room: Ei,
                            username: b
                        });
                        V("Error silencing user " + b)
                    })
                });
                c.Dd()
            };
            this.U.appendChild(Ji());
            this.U.appendChild(this.ue)
        }
    };
    Li.prototype.position = function () {
        this.ja.appendChild(this.U);
        var a = this.ja.getBoundingClientRect(),
            b = this.ja.offsetParent.getBoundingClientRect();
        this.U.style.top = a.top - b.top - 3 + "px";
        this.U.offsetTop + this.U.offsetHeight > window.document.documentElement.clientHeight - 8 && (this.U.style.top = window.document.documentElement.clientHeight - this.U.offsetHeight - 8 + "px");
        a = this.U.getBoundingClientRect();
        a.left + this.U.offsetWidth > window.document.documentElement.clientWidth - 8 && (this.U.style.left = window.document.documentElement.clientWidth -
            a.left - this.U.offsetWidth + "px")
    };
    Li.prototype.Dd = function () {
        this.ja.removeChild(this.U);
        this.ja.removeChild(this.P);
        Ki = 2
    };
    var Ki = 2;
    var Mi;
    q(T, function (a) {
        Mi = a.j
    });

    function Ni() {
        w.call(this);
        this.vm = new n("UserListWindow:userCountUpdate");
        this.ni = [];
        this.a.id = "users-list";
        this.a.style.padding = "0 6px";
        this.a.style.boxSizing = "border-box";
        this.a.style.position = "";
        this.vf();
        this.refresh(!1)
    }
    m(Ni, w);
    k = Ni.prototype;
    k.Zf = function () {
        for (; null !== this.a.firstChild;) this.a.removeChild(this.a.firstChild)
    };
    k.vf = function () {
        var a = document.createElement("div");
        a.innerText = Wd + "...";
        a.style.color = S.Ub;
        a.style.margin = "6px 0";
        this.a.style.fontSize = "12px";
        this.a.appendChild(a)
    };
    k.Ik = function () {
        var a = this,
            b = document.createElement("div");
        b.style.color = S.Ub;
        b.style.margin = "6px 0";
        var c = document.createElement("span");
        c.innerText = Xd;
        c.id = "refresh-userlist";
        c.style.cursor = "pointer";
        z("click", c, function (b) {
            a.Zf();
            a.vf();
            a.refresh(!1);
            b.preventDefault()
        });
        b.appendChild(c);
        this.a.appendChild(b)
    };
    k.clear = function (a) {
        t(this.vm, a);
        this.Zf();
        this.vf();
        this.C()
    };
    k.refresh = function (a) {
        var b = this;
        a = void 0 === a ? !0 : a;
        Mi.Pk().then(function (c) {
            t(b.vm, c.kf);
            if (!a) {
                b.Zf();
                b.Ik();
                b.ni = c.we;
                for (var d = l(b.ni), e = d.next(); !e.done; e = d.next()) {
                    e = e.value;
                    var f = document.createElement("div");
                    f.style.width = "100%";
                    f.style.margin = "6px 0";
                    f.appendChild(Hi(e));
                    b.a.appendChild(f)
                }
                d = document.createElement("div");
                d.style.color = S.Ub;
                d.innerText = "+" + c.ae + " anonymous user" + (1 === c.ae ? "" : "s");
                d.style.width = "100%";
                d.style.margin = "6px 0";
                d.style.whiteSpace = "nowrap";
                b.a.appendChild(d);
                b.C()
            }
        })["catch"](function (a) {
            v("Error retrieving user list: " +
                a)
        })
    };
    k.C = function () {
        w.prototype.C.call(this)
    };

    function Oi() {
        w.call(this);
        this.jm = [];
        this.$g = {
            position: "relative",
            padding: "5px",
            margin: "2px 0 0 2px",
            borderRadius: "4px 4px 0 0",
            backgroundRepeat: "no-repeat",
            backgroundPosition: "center",
            minWidth: "16px",
            fontSize: "10px",
            backgroundColor: "rgb(201, 201, 201)",
            color: S.Ek,
            cursor: "pointer"
        };
        this.Xo = {
            backgroundColor: "#FFFFFF",
            color: S.Ek
        };
        this.Zj = {
            backgroundColor: "#FFFFFF",
            color: "#0d5d81",
            cursor: "default"
        };
        this.ub = document.createElement("div");
        this.ub.id = "tab-row";
        this.ub.style.width = "100%";
        this.ub.style.background = "#cccccc";
        this.a.appendChild(this.ub);
        this.ub.style.borderBottom = "2px solid #ccc";
        this.window = document.createElement("div");
        this.window.style.width = "100%";
        this.window.style.position = "absolute";
        this.a.appendChild(this.window)
    }
    m(Oi, w);
    k = Oi.prototype;
    k.C = function () {
        this.window.style.height = this.a.clientHeight - this.ub.offsetHeight + "px"
    };
    k.N = function () {
        throw Error("addChild not implemented");
    };

    function Pi(a, b) {
        b.a.style.width = "100%";
        b.a.style.height = "100%";
        b.a.style.display = "none";
        a.jm.push(Qi(a, b));
        w.prototype.N.call(a, b, a.window);
        return b
    }

    function Qi(a, b) {
        for (var c = document.createElement("div"), d = l(Object.keys(a.$g)), e = d.next(); !e.done; e = d.next()) e = e.value, c.style[e] = a.$g[e];
        Ri(b, c);
        z("click", c, function (a) {
            b.Zg(c, a)
        });
        z("touchstart", c, function (a) {
            b.Zg(c, a)
        });
        a.ub.appendChild(c);
        return c
    }

    function Si(a, b, c) {
        var d = a.jm[b];
        if (c) {
            b = l(Object.keys(a.Zj));
            for (c = b.next(); !c.done; c = b.next()) c = c.value, d.style[c] = a.Zj[c];
            d.onmouseenter = function () {};
            d.onmouseleave = function () {}
        } else {
            var e = function () {
                for (var b = l(Object.keys(a.$g)), c = b.next(); !c.done; c = b.next()) c = c.value, d.style[c] = a.$g[c]
            };
            e();
            d.onmouseenter = function () {
                for (var b = l(Object.keys(a.Xo)), c = b.next(); !c.done; c = b.next()) c = c.value, d.style[c] = a.Xo[c]
            };
            d.onmouseleave = function () {
                e()
            }
        }
    }
    k.children = function () {
        return w.prototype.children.call(this)
    };
    k.nh = function (a) {
        a >= this.children().length ? v("invalid tab index") : (this.Ge = this.children()[a], Ti(this))
    };

    function Ui(a, b) {
        var c = a.children().indexOf(b);
        isNaN(c) ? v("tab not found") : a.nh(c)
    }
    k.Ya = function () {
        return this.Ge
    };

    function Ti(a) {
        for (var b = 0; b < a.children().length; b += 1) {
            var c = a.children()[b];
            c !== a.Ge ? (c.B(), Si(a, b, !1)) : a.Up !== a.Ge && (Si(a, b, !0), c.show(), a.Up = c)
        }
        x(a)
    }
    k.Db = function () {
        for (var a = 0; a < this.children().length; a += 1) {
            var b = this.children()[a];
            Ri(b, this.jm[a])
        }
    };

    function Ri(a, b) {
        b.innerHTML = a.Je();
        b.id = a.ee();
        b.style.backgroundImage = a.Sk();
        b.style.display = a.Hg() ? "none" : "inline-block"
    }

    function Vi(a, b) {
        a.$g = Object.assign({}, a.$g, b)
    }

    function Wi(a, b) {
        a.Zj = Object.assign({}, a.Zj, b)
    }

    function X() {
        w.call(this);
        this.a.style.position = "relative"
    }
    m(X, w);
    k = X.prototype;
    k.Zg = function () {
        O("FocusChatTab");
        Xi(this)
    };
    k.Hg = function () {
        return !1
    };
    k.Sk = function () {
        return ""
    };
    k.ee = function () {
        return ""
    };

    function Xi(a) {
        void 0 === a.parent ? v("no parent") : Ui(a.parent, a)
    }
    k.show = function () {
        this.a.style.display = "block";
        x(this)
    };
    k.B = function () {
        this.a.style.display = "none"
    };

    function Yi(a) {
        return void 0 === a.parent ? (v("no parent"), !1) : a.parent.Ya() === a
    }
    k.Db = function () {
        void 0 === this.parent ? v("no parent") : this.parent.Db()
    };
    var Zi = {
        aqua: "#00ffff",
        black: "#000000",
        blue: "#0000ff",
        fuchsia: "#ff00ff",
        gray: "#808080",
        green: "#008000",
        lime: "#00ff00",
        maroon: "#800000",
        navy: "#000080",
        olive: "#808000",
        orange: "#ffa500",
        purple: "#800080",
        red: "#ff0000",
        silver: "#c0c0c0",
        teal: "#008080",
        white: "#ffffff",
        yellow: "#ffff00"
    };

    function $i(a) {
        this.defaultValue = a = void 0 === a ? {
            red: 200,
            green: 200,
            blue: 200
        } : a
    }
    $i.prototype.parse = function (a) {
        var b = a.toLowerCase();
        if (/^[a-z]+$/.test(b)) {
            var c = Zi[b];
            void 0 !== c && (b = c)
        }
        if (/^#([a-f0-9]{3}){1,2}$/.test(b)) return 4 === b.length && (b = "#" + b[1] + b[1] + b[2] + b[2] + b[3] + b[3]), a = Number("0x" + b.substring(1)), {
            red: a >> 16 & 255,
            green: a >> 8 & 255,
            blue: a & 255
        };
        if (0 === b.indexOf("rgb")) {
            a = b.match(/\d+(\.\d+)?%?/g);
            if (null === a || 3 > a.length || 4 < a.length) a = this.defaultValue;
            else {
                a = [a[0], a[1], a[2]];
                b = [];
                for (c = 0; 3 > c; c += 1) b[c] = -1 !== a[c].indexOf("%") ? Math.round(2.55 * parseFloat(a[c])) : Number(a[c]), 0 > b[c] ? b[c] = 0 : 255 < b[c] && (b[c] = 255);
                a = {
                    red: b[0],
                    green: b[1],
                    blue: b[2]
                }
            }
            return a
        }
        Pg('Cannot parse color: "' + a + '"');
        return this.defaultValue
    };

    function aj(a, b, c) {
        this.red = a;
        this.green = b;
        this.blue = c;
        this.Ai = this.Wi = this.Ij = 10
    }

    function bj(a, b) {
        var c = void 0 === c ? !1 : c;
        for (b = Math.min(255, b); b > a.brightness() && (!c || 255 !== a.red && 255 !== a.green && 255 !== a.blue);) a.red = Math.min(a.red + Math.max(1, .05 * a.red), 255), a.green = Math.min(a.green + Math.max(1, .05 * a.green), 255), a.blue = Math.min(a.blue + Math.max(1, .05 * a.blue), 255);
        a.red = Math.round(a.red);
        a.green = Math.round(a.green);
        a.blue = Math.round(a.blue)
    }
    aj.prototype.brightness = function () {
        return Math.round(this.Ij / (this.Ij + this.Wi + this.Ai) * this.red + this.Wi / (this.Ij + this.Wi + this.Ai) * this.green + this.Ai / (this.Ij + this.Wi + this.Ai) * this.blue)
    };
    var cj = {
        height: 0,
        name: "",
        ke: "",
        width: 0,
        Em: ""
    };

    function dj(a) {
        var b = [],
            c = [],
            d = [];
        if (0 > a.indexOf("%%%[emoticon ")) a = {
            Gb: [a],
            ca: []
        };
        else {
            for (var e = 0; e < a.length; e += 1)
                if ("%" === a[e])
                    if ("%%%[emoticon " === a.slice(e, e + 13)) {
                        var f = e + a.slice(e, a.length).indexOf("]%%%");
                        if ("]%%%" === a.slice(f, f + 4)) {
                            d.push(b.join(""));
                            b = [];
                            b: {
                                e = a.slice(e, f + 4);e = e.replace("%%%[emoticon ", "").replace("]%%%", "");e = e.split(/\|/);
                                if (6 === e.length) {
                                    if (e = {
                                            name: e[0],
                                            ak: e[1],
                                            width: ej(e[2]) ? Number(e[2]) : 80,
                                            height: ej(e[3]) ? Number(e[3]) : 80,
                                            ke: e[4],
                                            Em: e[5]
                                        }, void 0 !== e.ak && fj(e.ak)) break b
                                } else if (5 === e.length && (e = {
                                        name: e[0],
                                        ke: e[1],
                                        width: ej(e[2]) ? Number(e[2]) : 80,
                                        height: ej(e[3]) ? Number(e[3]) : 80,
                                        Em: e[4]
                                    }, fj(e.ke))) break b;e = void 0
                            }
                            void 0 !== e ? c.push(e) : (v("Cannot parse emoticon: " + e), c.push(cj));
                            e = f + 4 - 1
                        }
                    } else b.push(a[e]);
            else b.push(a[e]);
            d.push(b.join(""));
            a = {
                Gb: d,
                ca: c
            }
        }
        this.Dm = a
    }
    dj.prototype.Gb = function () {
        return this.Dm.Gb
    };
    dj.prototype.ca = function () {
        return this.Dm.ca
    };

    function fj(a) {
        return null === a.match(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/g) ? (v("Invalid emoticon URL"), !1) : !0
    }

    function ej(a) {
        return isNaN(parseInt(a, 10)) ? (v("Invalid dimension argument"), !1) : !0
    };

    function gj(a) {
        var b = "tipping/private_show_tokens_per_minute/" + a + "/";
        return new Promise(function (a, d) {
            A(b).then(function (b) {
                b = new D(b.responseText);
                a({
                    Vn: J(b, "private_show_minimum_minutes"),
                    so: L(b, "price"),
                    Rq: K(b, "recordings_allowed"),
                    Bp: K(b, "allowed", !0, !1)
                });
                M(b)
            })["catch"](function (a) {
                d(a)
            })
        })
    }

    function hj(a) {
        Ih(Jf) || (O("RequestPrivateShow"), gj(a.i()).then(function (b) {
            if (b.Bp) {
                var c = Jb(a.i(), b.so, b.Vn, b.Rq);
                Fh(c, function () {
                    a.Eo(b.so, b.Vn).then(function (a) {
                        "" !== a && V(a)
                    })["catch"](function (b) {
                        "privatewatching" !== a.status && (V(tf), v("Error entering private show: " + b))
                    });
                    O("StartPrivateShow")
                })
            } else V(If)
        }))
    }

    function ij(a) {
        if (!Ih(Kf)) {
            O("RequestSpyShow");
            var b = "tipping/spy_on_private_show_tokens_per_minute/" + a.i() + "/";
            A(b).then(function (b) {
                var c = Number(b.responseText);
                isNaN(c) ? v("isNaN on " + b.responseText) : 0 === c ? V(Mf) : Fh(R(Q("Spy on private show for (%(price)s tokens per minute)"), {
                    price: c
                }, !0), function () {
                    a.Fo().then(function (a) {
                        "" !== a && V(a)
                    })["catch"](function (b) {
                        "privatespying" !== a.status && (V(uf), v("Error entering spy show: " + b))
                    });
                    O("StartSpyShow")
                })
            })
        }
    }

    function jj(a) {
        Ih(Lf) || (O("RequestGroupShow"), A("tipping/group_show_tokens_per_minute/" + a.i() + "/").then(function (b) {
            var c = Number(b.responseText);
            isNaN(c) ? v("isNaN on " + b.responseText) : Fh(Kb(a.i(), c), function () {
                a.Do(c).then(function (a) {
                    "" !== a && V(a)
                })["catch"](function (b) {
                    "groupnotwatching" !== a.status && (V(vf), v("Error entering group show: " + b))
                });
                O("StartGroupShow")
            })
        }))
    }

    function kj(a) {
        Fh(xf, function () {
            O("LeaveGroupShow");
            a.Kh()
        })
    };
    var lj = new n("modalReposition");
    z("resize", window, function () {
        t(lj, void 0)
    });
    var mj = new n("modalFullscreenChange");
    z(Cg(), document, function () {
        t(mj, void 0)
    });
    var nj = new n("modalEscape");
    z("keydown", document, function (a) {
        27 === a.keyCode && t(nj, a)
    });

    function oj(a) {
        a = void 0 === a ? !0 : a;
        w.call(this);
        var b = this;
        this.jc = new n("overlayClick");
        this.Ca = new wa;
        this.Jf = !1;
        this.P = document.createElement("div");
        this.P.style.position = "fixed";
        this.P.style.display = "none";
        this.P.style.left = "0";
        this.P.style.top = "0";
        this.P.style.right = "0";
        this.P.style.bottom = "0";
        this.P.style.zIndex = "1000";
        this.P.onclick = function (a) {
            a.stopPropagation();
            b.gc();
            t(b.jc, void 0)
        };
        this.a.style.zIndex = "1001";
        this.a.onclick = function (a) {
            a.stopPropagation()
        };
        this.Sq = function () {
            b.Jf && x(b)
        };
        this.mq = function () {
            b.Jf && b.Dc()
        };
        a && q(nj, function (a) {
            b.Jf && (a.preventDefault(), b.gc())
        })
    }
    m(oj, w);
    oj.prototype.Dc = function () {
        var a = U();
        U() && void 0 !== a ? (a.appendChild(this.P), a.appendChild(this.a)) : (document.body.appendChild(this.P), document.body.appendChild(this.a));
        this.Jf || (a = q(lj, this.Sq), this.Ca.add(a), a = q(mj, this.mq), this.Ca.add(a), this.Jf = !0);
        this.P.style.display = "block"
    };
    oj.prototype.gc = function () {
        this.P.style.display = "none";
        null !== this.a.parentElement && this.a.parentElement.removeChild(this.a);
        null !== this.P.parentElement && this.P.parentElement.removeChild(this.P);
        this.Jf && (xa(this.Ca), this.Jf = !1)
    };
    var pj = [];
    q(T, function (a) {
        pj = a.h.hj
    });
    var qj = new n("previewEmoticon");

    function rj() {
        oj.call(this);
        var a = this;
        this.a.style.visibility = "hidden";
        this.a.style.position = "fixed";
        this.a.style.width = "auto";
        this.a.style.height = "auto";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.borderRadius = "6px";
        this.a.style.padding = "10px";
        this.a.style.fontSize = "12px";
        this.a.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        this.a.style.zIndex = "1003";
        this.a.style.textAlign = "center";
        Ha() && (this.a.style.boxShadow = "0 0 18px rgba(0, 0, 0, 0.4)");
        this.P.style.backgroundColor = "#000000";
        this.P.style.opacity = "0.4";
        this.P.style.zIndex = "1002";
        var b = document.createElement("img");
        b.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close.svg";
        b.style.position = "absolute";
        b.style.width = "10px";
        b.style.top = "9px";
        b.style.right = "9px";
        b.style.cursor = "pointer";
        b.style.opacity = "0.5";
        b.onclick = function () {
            a.B()
        };
        b.onmouseenter = function () {
            b.style.opacity = "1"
        };
        b.onmouseleave = function () {
            b.style.opacity = "0.5"
        };
        this.a.appendChild(b);
        this.kc = document.createElement("img");
        this.kc.style.verticalAlign = "middle";
        this.kc.style.padding = "10px";
        z("load", this.kc, function () {
            a.a.style.visibility = "visible";
            a.Dc();
            a.C()
        });
        this.a.appendChild(this.kc);
        this.lc = document.createElement("div");
        this.lc.innerText = "REPORT EMOTICON";
        this.lc.style.color = S.Lc;
        this.lc.style.cursor = "pointer";
        this.lc.onclick = function () {
            a.lc.style.display = "none";
            a.Sd.style.display = "block";
            a.C()
        };
        this.lc.onmouseenter = function () {
            a.lc.style.textDecoration = "underline"
        };
        this.lc.onmouseleave = function () {
            a.lc.style.textDecoration = "none"
        };
        this.a.appendChild(this.lc);
        this.Sd = document.createElement("div");
        this.Sd.style.display = "none";
        this.a.appendChild(this.Sd);
        var c = document.createElement("span");
        c.innerText = "Choose a category:";
        c.style.marginRight = "6px";
        this.Sd.appendChild(c);
        var d = document.createElement("select");
        c = l(sj);
        for (var e = c.next(); !e.done; e = c.next()) {
            e = e.value;
            var f = document.createElement("option");
            f.innerText = e.label;
            f.value = e.value;
            d.appendChild(f)
        }
        this.Sd.appendChild(d);
        c = document.createElement("span");
        c.innerText = "CANCEL";
        c.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        c.style.fontSize = "12px";
        c.style.textShadow = "#585858 1px 1px 0";
        c.style.color = "#ffffff";
        c.style.padding = "2px 6px";
        c.style.backgroundColor = "#898989";
        Ia() && (c.style.background = "linear-gradient(180deg, #7b7b7b 0%, #898989 50%, #585858 60%, #616161 100%)");
        c.style.borderRadius = "4px";
        c.style.boxSizing = "border-box";
        c.style.cursor = "pointer";
        c.style.display = "inline-block";
        c.style.marginLeft = "6px";
        c.onclick = function () {
            a.lc.style.display = "block";
            a.Sd.style.display = "none";
            a.C()
        };
        this.Sd.appendChild(c);
        c = document.createElement("span");
        c.innerText = "REPORT";
        c.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        c.style.fontSize = "12px";
        c.style.textShadow = "#bc2b1d 1px 1px 0";
        c.style.color = "#ffffff";
        c.style.padding = "2px 6px";
        c.style.backgroundColor = "#ef6352";
        Ia() && (c.style.background = "linear-gradient(180deg, #ff4d30 0%, #ef6352 50%, #f2240f 60%, #e63125 100%)");
        c.style.borderRadius = "4px";
        c.style.boxSizing = "border-box";
        c.style.cursor = "pointer";
        c.style.display = "inline-block";
        c.style.marginLeft = "6px";
        c.onclick = function () {
            B("emoticon_report_abuse/" +
                a.vh.nc + "/", {
                    category: d.value
                }).then(function () {
                pj.push(a.vh.nc);
                a.Sd.style.display = "none";
                a.lf.style.display = "block";
                a.C()
            })["catch"](function (a) {
                v("Error reporting emoticon: " + a)
            })
        };
        this.Sd.appendChild(c);
        this.lf = document.createElement("div");
        this.lf.style.display = "none";
        this.a.appendChild(this.lf);
        c = document.createElement("span");
        c.innerText = "EMOTICON REPORTED - ";
        this.lf.appendChild(c);
        var h = document.createElement("span");
        h.innerText = "UNDO";
        h.style.color = S.Lc;
        h.style.cursor = "pointer";
        h.onclick = function () {
            B("emoticon_report_abuse/" + a.vh.nc + "/", {
                category: d.value
            }).then(function () {
                var b = pj.indexOf(a.vh.nc, 0);
                0 <= b && pj.splice(b, 1);
                a.lf.style.display = "none";
                a.lc.style.display = "block";
                a.C()
            })["catch"](function (a) {
                v("Error reporting emoticon: " + a)
            })
        };
        h.onmouseenter = function () {
            h.style.textDecoration = "underline"
        };
        h.onmouseleave = function () {
            h.style.textDecoration = "none"
        };
        this.lf.appendChild(h);
        q(this.jc, function () {
            a.B()
        })
    }
    m(rj, oj);
    rj.prototype.show = function (a) {
        this.vh = a;
        this.kc.src = this.vh.url;
        this.lc.style.display = "none";
        this.Sd.style.display = "none";
        this.lf.style.display = "none";
        0 <= pj.indexOf(a.nc) ? this.lf.style.display = "block" : this.lc.style.display = "block";
        this.C()
    };
    rj.prototype.C = function () {
        this.a.style.left = (document.documentElement.clientWidth - this.a.offsetWidth) / 2 + "px";
        this.a.style.top = (document.documentElement.clientHeight - this.a.offsetHeight) / 2 + "px"
    };
    rj.prototype.B = function () {
        this.gc();
        this.a.style.visibility = "hidden"
    };
    var sj = [{
        label: "Just ignore this emoticon",
        value: "ignore"
    }, {
        label: "Offensive",
        value: "offensive"
    }, {
        label: "Disgusting",
        value: "disgusting"
    }, {
        label: "Fake Tip",
        value: "fake_tip"
    }, {
        label: "Advertising",
        value: "advertising"
    }];
    var tj = new $i,
        uj = !1,
        vj, wj, xj;
    q(T, function (a) {
        uj = a.h.pa.Wg;
        vj = a.h.Xh;
        wj = a.j;
        xj = a.h.hj
    });
    q(lg, function (a) {
        uj = a.Wg
    });

    function yj(a) {
        a = tj.parse(a);
        a = new aj(a.red, a.green, a.blue);
        var b = a.brightness();
        bj(a, 255 - b / 3);
        return "rgb(" + a.red + ", " + a.green + ", " + a.blue + ")"
    }

    function zj(a) {
        var b = uj,
            c = new dj(a);
        a = document.createElement("span");
        a.className = "emoticonImage";
        a.innerText = c.Gb()[0];
        for (var d = {
                fa: 1
            }; d.fa < c.Gb().length; d = {
                fa: d.fa
            }, d.fa += 1) {
            if (!b || 0 <= xj.indexOf(c.ca()[d.fa - 1].name)) {
                var e = document.createElement("span");
                e.style.color = "lightskyblue";
                e.innerText = ":" + c.ca()[d.fa - 1].name;
                e.style.cursor = "pointer";
                e.onclick = function (a) {
                    return function () {
                        var b = {
                            nc: c.ca()[a.fa - 1].name,
                            url: c.ca()[a.fa - 1].ke
                        };
                        t(qj, b)
                    }
                }(d)
            } else {
                e = document.createElement("img");
                var f = c.ca()[d.fa -
                    1].ak;
                e.src = void 0 !== f ? f : c.ca()[d.fa - 1].ke;
                e.title = ":" + c.ca()[d.fa - 1].name;
                e.style.cursor = "pointer";
                e.onclick = function (a) {
                    return function () {
                        var b = {
                            nc: c.ca()[a.fa - 1].name,
                            url: c.ca()[a.fa - 1].ke
                        };
                        t(qj, b)
                    }
                }(d);
                e.name = c.ca()[d.fa - 1].name;
                e.height = c.ca()[d.fa - 1].height;
                e.width = c.ca()[d.fa - 1].width
            }
            a.appendChild(e);
            "" !== c.Gb()[d.fa] && (e = document.createElement("span"), e.innerText = c.Gb()[d.fa], a.appendChild(e))
        }
        return a
    }

    function Aj(a) {
        var b = Bj(a.eb.username);
        b.style.fontSize = "";
        var c = Hi(a.eb);
        c.style.marginRight = "4px";
        b.appendChild(c);
        var d = zj(a.message);
        d.style.color = yj(void 0 !== a.Ed ? a.Ed : "#FFFFFF");
        void 0 !== a.font && (c.style.fontFamily = a.font, d.style.fontFamily = a.font);
        b.appendChild(d);
        return b
    }

    function Cj(a) {
        var b = Bj();
        b.style.padding = "1px 5px";
        var c = document.createElement("div");
        c.style.display = "inline-block";
        void 0 !== a.background ? (c.style.background = a.background, c.style.color = void 0 !== a.ma ? a.ma : "#000000", c.style.padding = "2px", c.style.textShadow = "none") : c.style.color = yj(void 0 !== a.ma ? a.ma : "#aaaaaa");
        c.style.fontWeight = void 0 !== a.weight ? a.weight : "normal";
        b.appendChild(Dj(c, a.V, void 0 !== a.background));
        return b
    }

    function Dj(a, b, c) {
        b = l(b);
        for (var d = b.next(); !d.done; d = b.next()) {
            var e = document.createElement("div");
            d = l(d.value);
            for (var f = d.next(); !f.done; f = d.next()) switch (f = f.value, f.Yb) {
                case 1:
                    e.appendChild(Ej(f));
                    break;
                case 0:
                    e.appendChild(Hi(f.cc, c));
                    break;
                case 2:
                    e.appendChild(Fj(f.message));
                    break;
                case 4:
                    e.appendChild(Gj(Hc, function () {
                        "grouprequesting" === wj.status ? V(Jc) : jj(wj)
                    }));
                    break;
                case 3:
                    e.appendChild(Gj(xd, function () {
                        "privatespying" !== wj.status && ij(wj)
                    }));
                    break;
                default:
                    v("Unknown roomNotice type for: " +
                        f)
            }
            a.appendChild(e)
        }
        return a
    }

    function Gj(a, b) {
        var c = document.createElement("a");
        c.style.color = "#85FFFF";
        c.style.textDecoration = "underline";
        c.innerText = a;
        c.onclick = b;
        c.style.cursor = "pointer";
        return c
    }

    function Fj(a) {
        var b = document.createElement("a");
        b.href = "/tag/" + a + "/" + vj;
        b.style.color = "#85FFFF";
        b.style.textDecoration = "none";
        b.innerText = "#" + a;
        return b
    }

    function Hj(a) {
        var b = Bj();
        b.innerText = a;
        b.style.color = yj("#aaaaaa");
        return b
    }

    function Jj(a, b) {
        var c = Bj(),
            d = document.createElement("span");
        d.innerText = Lb(a);
        c.appendChild(d);
        for (d = 0; d < b.length; d += 1) {
            var e = document.createElement("a");
            e.href = b[d].Im;
            e.target = "_blank";
            e.innerText = b[d].tk;
            e.style.color = yj("#1c8fc8");
            e.style.textDecoration = "none";
            c.appendChild(e);
            d < b.length - 1 && (e = document.createElement("span"), e.innerText = ", ", c.appendChild(e))
        }
        c.style.color = yj("#aaaaaa");
        return c
    }

    function Bj(a) {
        a = void 0 === a ? "" : a;
        var b = document.createElement("div");
        b.style.fontFamily = "Tahoma,Arial,Helvetica,sans-serif";
        b.style.boxSizing = "border-box";
        b.style.paddingTop = "3px";
        b.style.paddingBottom = "3px";
        b.style.paddingLeft = "5px";
        b.style.paddingRight = "5px";
        0 < a.length && b.setAttribute("data-nick", a);
        return b
    }

    function Ej(a) {
        var b = document.createElement("span");
        !1 !== a.Bl ? b = zj(a.message) : b.innerText = a.message;
        b.style.color = void 0 !== a.ma ? a.ma : "";
        b.style.background = void 0 !== a.background ? a.background : "";
        b.style.fontWeight = void 0 !== a.weight ? a.weight : "";
        return b
    };

    function Kj(a) {
        a = a.match(/(\S+)/g);
        if (null !== a && "/tip" === a[0]) {
            if (2 > a.length) return {};
            a.shift();
            if (2 > a.length) {
                var b = Number(a[0]);
                return isNaN(b) ? {
                    message: a[0]
                } : {
                    Ja: b
                }
            }
            b = Number(a[0]);
            a.shift();
            return {
                Ja: b,
                message: a.join(" ")
            }
        }
    };

    function Lj() {
        w.call(this);
        var a = this;
        this.jc = new n("overlayClick");
        this.P = document.createElement("div");
        this.P.style.position = "fixed";
        this.P.style.display = "none";
        this.P.style.left = "0";
        this.P.style.top = "0";
        this.P.style.right = "0";
        this.P.style.bottom = "0";
        this.P.style.zIndex = "1000";
        this.P.onclick = function (b) {
            b.stopPropagation();
            a.gc();
            t(a.jc, void 0)
        };
        this.a.style.zIndex = "1001";
        this.a.onclick = function (a) {
            a.stopPropagation()
        };
        setTimeout(function () {
            a.mh()
        }, 0)
    }
    m(Lj, w);
    Lj.prototype.mh = function () {
        w.prototype.mh.call(this);
        null !== this.a.parentElement && this.a.parentElement.insertBefore(this.P, this.a)
    };
    Lj.prototype.Dc = function () {
        this.P.style.display = "block"
    };
    Lj.prototype.gc = function () {
        this.P.style.display = "none"
    };
    var Mj = new n("changeVideoMode", {
        nd: 15
    });
    var Nj, Oj = [40, 37, 39, 38, 13, 27, 32, 9],
        Pj = new n("videoModeChanged", {
            nd: 20
        });
    q(Mj, function () {
        t(Pj, void 0)
    });

    function Qj(a) {
        Lj.call(this);
        var b = this;
        this.F = a;
        this.me = !1;
        this.cache = new Map;
        this.Ca = new wa;
        this.a.style.visibility = "hidden";
        this.a.style.width = "auto";
        this.a.style.height = "auto";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.border = "1px solid #acacac";
        this.a.style.borderBottom = "none";
        this.a.style.fontFamily = "Helvetica, Arial, sans-serif";
        this.a.style.cursor = "pointer";
        q(this.jc, function () {
            b.B()
        });
        this.Re = document.createElement("span");
        this.Re.style.position = "fixed";
        this.Re.style.width = "auto";
        this.Re.style.fontSize = "12px";
        this.Re.style.fontFamily = "Helvetica, Arial, sans-serif";
        document.body.appendChild(this.Re);
        this.Pc = document.createElement("div");
        this.Pc.style.display = "none";
        this.Pc.style.width = "260px";
        this.Pc.style.height = "110px";
        this.Pc.style.lineHeight = "110px";
        this.Pc.style.borderBottom = "1px solid #acacac";
        this.Pc.style.textAlign = "center";
        this.Pc.onclick = function () {
            void 0 !== b.selectedIndex && t(qj, b.ca[b.selectedIndex])
        };
        this.a.appendChild(this.Pc);
        var c = document.createElement("div");
        c.innerText = "VIEW / REPORT EMOTICON";
        c.style.color = S.Lc;
        c.style.fontSize = "10px";
        c.style.position = "relative";
        c.style.top = "102px";
        c.style.lineHeight = "0";
        c.onmouseenter = function () {
            c.style.textDecoration = "underline"
        };
        c.onmouseleave = function () {
            c.style.textDecoration = "none"
        };
        this.Pc.appendChild(c);
        this.kc = document.createElement("img");
        this.kc.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/loading.png";
        this.kc.style.maxWidth = "240px";
        this.kc.style.maxHeight = "80px";
        this.kc.style.verticalAlign = "middle";
        this.kc.style.padding = "10px 10px 16px 10px";
        this.Pc.appendChild(this.kc);
        this.list = document.createElement("div");
        this.list.style.width = "260px";
        this.list.style.height = "180px";
        this.list.style.overflowY = "scroll";
        this.a.appendChild(this.list);
        z("keyup", this.F.Lb, function (a) {
            Rj(b, a)
        });
        z("keydown", this.F.Lb, function (a) {
            if (b.me) {
                13 === a.keyCode && b.B();
                38 === a.keyCode && (a.preventDefault(), Sj(b, !0));
                40 === a.keyCode && (a.preventDefault(), Sj(b, !1));
                if (9 === a.keyCode || 39 === a.keyCode || 32 === a.keyCode) a.preventDefault(), b.B(), b.F.Lb.value += " ";
                if (27 === a.keyCode || 37 === a.keyCode) a.preventDefault(), b.B(), null !== b.F.Lb.selectionStart && (b.F.Lb.value = b.F.Lb.value.substring(0, b.F.Lb.selectionStart))
            }
        });
        this.Ca.add(q(T, function (a) {
            b.Oi = parseInt(a.h.pa.Si);
            Nj = a.h.hj
        }));
        this.Ca.add(q(lg, function (a) {
            b.Oi = parseInt(a.Si)
        }));
        this.Ca.add(q(Pj, function () {
            b.B()
        }))
    }
    m(Qj, Lj);
    Qj.prototype.xg = function () {
        xa(this.Ca)
    };
    Qj.prototype.C = function () {
        this.a.style.left = Math.min(this.Re.offsetWidth + this.F.Qn, this.F.Lb.clientWidth - this.F.Go) + "px"
    };

    function Rj(a, b) {
        if (0 <= a.Oi && -1 === Oj.indexOf(b.keyCode)) {
            var c = a.F.Lb.value.match(/(^|.+\s):([\w-]+)$/);
            null !== c ? (a.prefix = c[2], void 0 !== a.cache[a.prefix] ? (a.ca = a.cache[a.prefix], Tj(a, c[1])) : (clearTimeout(a.Wp), a.Wp = setTimeout(function () {
                Uj(a.prefix).then(function (b) {
                    b = new D(b.responseText);
                    I(b, "slug");
                    var d = ob(b, "emoticons"),
                        f = [];
                    d = l(d);
                    for (var h = d.next(); !h.done; h = d.next()) h = h.value, f.push({
                        nc: h.slug,
                        url: h.url,
                        element: Vj
                    });
                    M(b);
                    a.ca = f;
                    a.cache[a.prefix] = a.ca;
                    Tj(a, c[1])
                })["catch"](function (a) {
                    v("Error loading emoticon autocomplete: " +
                        a)
                })
            }, 100))) : a.B()
        }
    }

    function Wj(a) {
        for (; null !== a.list.firstChild;) a.list.removeChild(a.list.firstChild);
        a.selectedIndex = void 0;
        a.Pc.style.display = "none"
    }

    function Tj(a, b) {
        Wj(a);
        for (var c = 0; c < a.ca.length; c += 1) Xj(a, a.ca[c], c);
        a.list.scrollTop = a.list.clientHeight;
        a.me || (a.Re.innerText = b + ":", a.show())
    }

    function Xj(a, b, c) {
        var d = document.createElement("div");
        d.innerText = b.nc;
        d.style.padding = "2px 8px";
        0 <= Nj.indexOf(b.nc) && (d.style.display = "none");
        d.onclick = function () {
            a.qo = void 0 === a.selectedIndex ? a.prefix : a.ca[a.selectedIndex].nc;
            a.selectedIndex = c;
            Yj(a, !1);
            a.F.Lb.focus()
        };
        a.list.appendChild(d);
        b.element = d
    }

    function Zj(a) {
        a = l(a.ca);
        for (var b = a.next(); !b.done; b = a.next()) b.value.element.style.backgroundColor = "#ffffff"
    }

    function Sj(a, b) {
        a.qo = void 0 === a.selectedIndex ? a.prefix : a.ca[a.selectedIndex].nc;
        Zj(a);
        a.selectedIndex = void 0 === a.selectedIndex ? b ? a.ca.length - 1 : 0 : a.selectedIndex + (b ? -1 : 1);
        0 > a.selectedIndex ? a.selectedIndex = a.ca.length - 1 : a.selectedIndex >= a.ca.length && (a.selectedIndex = 0);
        Yj(a, !0)
    }

    function Yj(a, b) {
        void 0 !== a.selectedIndex && (a.kc.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/loading.png", a.kc.src = a.ca[a.selectedIndex].url, a.Pc.style.display = "block", Zj(a), a.ca[a.selectedIndex].element.style.backgroundColor = "#cccccc", b && (a.list.scrollTop = 18 * a.selectedIndex - 90), a.F.Lb.value = a.F.Lb.value.replace(new RegExp(a.qo + "$"), a.ca[a.selectedIndex].nc), a.F.Lb.setSelectionRange(a.Re.innerText.length + a.prefix.length, a.F.Lb.value.length))
    }
    Qj.prototype.show = function () {
        var a = this;
        0 <= this.Oi && setTimeout(function () {
            a.a.style.visibility = "visible";
            a.Dc();
            x(a);
            a.me = !0
        }, this.Oi)
    };
    Qj.prototype.B = function () {
        this.gc();
        this.a.style.visibility = "hidden";
        this.me = !1;
        Wj(this)
    };

    function Uj(a) {
        var b = new XMLHttpRequest;
        return new Promise(function (c, d) {
            b.onload = function () {
                ib(b.status) ? c(b) : d(new gb(b))
            };
            b.onerror = function () {
                d(new gb(b))
            };
            b.open("GET", "https://emote.highwebmedia.com/autocomplete?slug=" + a + "&_=" + Date.now());
            b.withCredentials = !1;
            b.timeout = 6E4;
            b.send()
        })
    }
    var Vj = document.createElement("div");

    function ak() {
        var a = document.createElement("div");
        a.style.width = "100%";
        a.style.boxSizing = "border-box";
        a.style.overflow = "auto";
        return a
    }

    function bk() {
        var a = document.createElement("div");
        a.style.width = "100%";
        qg(a);
        a.style.cursor = "text";
        return a
    }

    function ck() {
        var a = document.createElement("form");
        a.style.display = "inline-block";
        a.style.boxSizing = "border-box";
        return a
    }

    function dk() {
        var a = document.createElement("div");
        a.style.height = "27px";
        a.style.backgroundColor = "#ffffff";
        a.style.boxSizing = "border-box";
        a.style.position = "absolute";
        a.style.bottom = "0";
        a.style.fontSize = "12px";
        return a
    }

    function ek() {
        var a = document.createElement("input");
        a.style.outline = "none";
        a.style.border = "none";
        a.style.margin = "6px";
        a.style.boxSizing = "border-box";
        a.style.fontFamily = "Helvetica, Arial, sans-serif";
        a.autocomplete = "off";
        return a
    }

    function fk() {
        var a = document.createElement("span");
        a.innerText = qd;
        a.style.fontSize = "12px";
        a.style.color = "#ffffff";
        a.style.padding = "5px 8px 4px";
        a.style.marginRight = "6px";
        a.style.backgroundColor = "#eb3404";
        Ia() && (a.style.background = "linear-gradient(#f66d51, #eb3404)");
        a.style.borderRadius = "4px";
        a.style.boxSizing = "border-box";
        a.style.cursor = "pointer";
        a.style.display = "inline-block";
        return a
    }

    function gk(a) {
        t(dg, {});
        a.stopPropagation();
        a.preventDefault()
    }

    function hk() {
        var a = document.createElement("span");
        a.innerText = rd;
        a.style.fontSize = "12px";
        a.style.color = "#ffffff";
        a.style.padding = "5px 8px 4px";
        a.style.marginRight = "2px";
        a.style.backgroundColor = "#53843a";
        Ia() && (a.style.background = "linear-gradient(#87c667, #53843a)");
        a.style.borderRadius = "4px";
        a.style.boxSizing = "border-box";
        a.style.cursor = "pointer";
        a.style.display = "inline-block";
        z("mousedown", a, function (a) {
            a.stopPropagation()
        });
        z("click", a, gk);
        q(T, function (b) {
            a.style.display = !0 === b.h.gb ? "inline-block" : "none"
        });
        return a
    }

    function ik() {
        var a = document.createElement("img");
        a.width = 15;
        a.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-smile.gif";
        a.style.cursor = "pointer";
        a.style.display = "inline-block";
        a.style.marginRight = "6px";
        a.style.verticalAlign = "text-bottom";
        return a
    }

    function jk(a) {
        w.call(this);
        var b = this;
        this.Vc = a;
        this.lh = new n("addMessageHtml", {
            Rd: !1
        });
        this.Nl = new n("removeMessageHtml", {
            Rd: !1
        });
        this.wa = bk();
        this.Ma = ak();
        this.ln = new n("formSubmitted");
        this.pd = 0;
        this.Mi = new Map;
        this.Ca = new wa;
        this.a.style.fontSize = "12px";
        this.a.style.overflow = "";
        this.Ma.appendChild(this.wa);
        this.a.appendChild(this.Ma);
        var c = ck();
        this.Y = dk();
        this.K = ek();
        this.Ga = ik();
        this.hb = fk();
        this.ef = hk();
        c.appendChild(this.K);
        this.Y.appendChild(c);
        this.Y.appendChild(this.Ga);
        this.Y.appendChild(this.hb);
        this.Ga.onload = function () {
            x(b)
        };
        z("mousedown", this.Y, function (a) {
            if (a.target === b.Y || a.target === c) b.K.focus(), a.preventDefault()
        });
        z("submit", c, function (a) {
            a.preventDefault();
            b.ai()
        });
        z("click", this.hb, function (a) {
            a.stopPropagation();
            b.ai()
        });
        z("click", this.Ga, function (a) {
            a.stopPropagation();
            t(Bi, b.Ga)
        });
        this.Y.appendChild(this.ef);
        this.a.appendChild(this.Y);
        this.Ca.add(q(T, function (a) {
            b.a.style.fontSize = a.h.pa.fontSize
        }));
        this.Ca.add(q(lg, function (a) {
            b.a.style.fontSize = a.fontSize
        }));
        this.wh = this.N(new Qj({
            Lb: this.K,
            Qn: 2,
            Go: 167
        }))
    }
    m(jk, w);
    k = jk.prototype;
    k.xg = function () {
        xa(this.Ca);
        this.wh.xg()
    };
    k.ai = function () {
        if (!Ih('You must be logged in to send a message. Click "OK" to login.')) {
            this.oa();
            var a = this.K.value;
            this.K.value = "";
            if ("" !== a.trim()) {
                var b = Kj(a);
                void 0 !== b ? t(dg, b) : this.Vc(a)
            }
            t(this.ln, a)
        }
    };
    k.C = function () {
        var a = kk(this);
        lk(this);
        this.Y.style.width = this.a.clientWidth + "px";
        var b = this.Y.clientWidth - 18 - 6 - Math.ceil(this.ef.offsetWidth + this.hb.offsetWidth + this.Ga.offsetWidth) - 4;
        b = Math.max(0, b);
        this.K.style.width = b + "px";
        a || this.oa();
        this.wh.a.style.bottom = this.Y.offsetHeight + "px"
    };

    function lk(a) {
        a.Ma.style.height = Math.max(0, a.a.clientHeight - 27) + "px"
    }

    function kk(a) {
        return a.Ma.scrollTop <= a.Ma.scrollHeight - (a.Ma.offsetHeight + 20)
    }
    k.oa = function () {
        this.Ma.scrollTop = this.Ma.scrollHeight;
        this.Ma.scrollLeft = 0
    };
    k.ra = function (a, b) {
        var c = this.Ma.scrollTop,
            d = kk(this);
        this.wa.appendChild(a);
        if (d) lk(this), this.Ma.scrollTop = c;
        else {
            for (c = this.wa.childElementCount - 1E3; 0 < c; --c) d = this.wa.firstElementChild, null !== d && this.wa.removeChild(d);
            lk(this);
            this.oa()
        }
        void 0 !== b && this.Mi.set(a, b);
        t(this.lh, {
            ol: function () {
                return void 0 !== b ? b() : a.cloneNode(!0)
            }
        });
        this.pd += 1;
        return a
    };
    k.Mj = function (a) {
        this.Mi["delete"](a);
        this.wa.removeChild(a)
    };
    k.xh = function () {
        return this.pd
    };
    k.vj = function (a) {
        return this.pd - a
    };

    function mk(a) {
        for (var b = {}, c = l(a.wa.childNodes), d = c.next(); !d.done; b = {
                Di: b.Di
            }, d = c.next()) b.Di = d.value, t(a.lh, {
            ol: function (b) {
                return function () {
                    var c = a.Mi.get(b.Di);
                    return void 0 !== c ? c() : b.Di.cloneNode(!0)
                }
            }(b),
            br: !1
        })
    }
    k.Wb = function () {
        this.K.focus()
    };
    k.Ml = function (a) {
        t(this.Nl, a)
    };
    k.B = function () {
        this.wa.style.opacity = "0"
    };
    k.show = function () {
        this.wa.style.opacity = "1"
    };
    k.clear = function () {
        for (this.pd = 0; null !== this.wa.firstChild;) this.wa.removeChild(this.wa.firstChild);
        this.Mi.clear()
    };

    function nk(a) {
        if (void 0 === a) return pk();
        a = {
            name: I(a, "name", !1),
            yr: I(a, "template", !1),
            fn: J(a, "row1_label", !1),
            No: J(a, "row2_label", !1),
            fp: J(a, "row3_label", !1),
            gn: J(a, "row1_value", !1),
            Oo: J(a, "row2_value", !1),
            gp: J(a, "row3_value", !1)
        };
        return pk(a)
    }

    function pk(a) {
        var b = document.createElement("tr"),
            c = document.createElement("tr"),
            d = document.createElement("tr");
        if (void 0 !== a) {
            var e = a.yr,
                f = [],
                h = [];
            if ("" !== a.fn) {
                var g = document.createElement("th");
                g.style.padding = "2px";
                g.innerText = a.fn;
                f.push(g);
                b.appendChild(g);
                g = document.createElement("td");
                g.innerText = a.gn;
                b.appendChild(g);
                h.push(g);
                g.style.width = "50%";
                g.style.paddingLeft = "10px"
            } else g = document.createElement("td"), g.innerText = a.gn, g.colSpan = 2, h.push(g), b.appendChild(g), g.style.textAlign = "center";
            "" !== a.No ? (g = document.createElement("th"), g.style.padding = "2px", g.style.fontWeight = "bold", g.innerText = a.No, f.push(g), c.appendChild(g), g = document.createElement("td"), g.innerText = a.Oo, h.push(g), c.appendChild(g), g.style.width = "50%", g.style.paddingLeft = "10px") : (g = document.createElement("td"), g.innerText = a.Oo, g.colSpan = 2, h.push(g), c.appendChild(g), g.style.textAlign = "center");
            "" !== a.fp ? (g = document.createElement("th"), g.style.padding = "2px", g.innerText = a.fp, f.push(g), d.appendChild(g), g = document.createElement("td"), g.innerText = a.gp, h.push(g), d.appendChild(g), g.style.width = "50%", g.style.paddingLeft = "10px") : (g = document.createElement("td"), g.innerText = a.gp, g.colSpan = 2, h.push(g), d.appendChild(g), g.style.textAlign = "center");
            a = l(f);
            for (g = a.next(); !g.done; g = a.next()) g = g.value, g.style.overflow = "hidden", g.style.display = "block", g.style.cssFloat = "right", g.style.color = "#494949";
            a = l(h);
            for (g = a.next(); !g.done; g = a.next()) g.value.style.color = "#494949";
            if ("3_rows_of_labels" === e) f[0].style.display = "block", f[0].style.color = "#057205", f[0].style.margin = "0px auto", f[0].style.height = "16px", f[0].style.fontWeight = "bold";
            else if ("3_rows_11_21_31" === e || "3_rows_11_22_32" === e) h[0].style.color = "#0b5d81", h[0].style.fontWeight = "bold"
        } else e = document.createElement("td"), b.appendChild(e.cloneNode()), c.appendChild(e.cloneNode()), d.appendChild(e.cloneNode());
        b.style.backgroundColor = "#d5ebf8";
        b.style.height = "33.3333%";
        c.style.backgroundColor = "#f2f9fd";
        c.style.height = "33.3333%";
        d.style.backgroundColor = "#d5ebf8";
        d.style.height = "33.3333%";
        e = document.createElement("table");
        e.style.width = "100%";
        e.style.height = "100%";
        e.style.borderCollapse = "collapse";
        e.style.margin = "0 auto";
        e.style.color = "#000000";
        e.appendChild(b);
        e.appendChild(c);
        e.appendChild(d);
        return e
    };

    function qk(a) {
        a = new D(a);
        return {
            color: J(a, "color", !1),
            filename: J(a, "filename", !1),
            fontFamily: J(a, "font-family", !1),
            fontSize: J(a, "font-size", !1),
            fontStyle: J(a, "font-style", !1),
            fontWeight: J(a, "font-weight", !1),
            height: J(a, "height", !1),
            ij: J(a, "image_url", !1),
            Pn: J(a, "type", !1),
            left: J(a, "left", !1),
            maxWidth: J(a, "max-width", !1),
            opacity: J(a, "opacity", !1),
            text: J(a, "text", !1),
            textAlign: J(a, "text-align", !1),
            top: J(a, "top", !1),
            width: J(a, "width", !1)
        }
    }

    function rk(a) {
        var b = new D(a);
        a = {
            backgroundColor: J(b, "background-color", !1),
            color: J(b, "color", !1),
            textAlign: J(b, "text-align", !1),
            fontStyle: J(b, "font-style", !1),
            fontWeight: J(b, "font-weight", !1)
        };
        var c = nb(b, "col_1", !1);
        "" !== c && (a.aa = sk(c));
        b = nb(b, "col_2", !1);
        "" !== b && (a.data = sk(b));
        return a
    }

    function sk(a) {
        a = new D(a);
        return {
            backgroundColor: J(a, "background-color", !1),
            color: J(a, "color", !1),
            left: J(a, "left", !1),
            textAlign: J(a, "text-align", !1),
            fontStyle: J(a, "font-style", !1),
            fontWeight: J(a, "font-weight", !1),
            value: J(a, "value", !1),
            width: J(a, "width", !1)
        }
    }

    function tk(a) {
        var b = document.createElement("span");
        b.style.position = "absolute";
        b.style.whiteSpace = "nowrap";
        b.style.overflow = "hidden";
        b.style.textOverflow = "ellipsis";
        b.style.lineHeight = "normal";
        b.style.color = a.color;
        b.style.fontFamily = a.fontFamily;
        b.style.fontSize = a.fontSize;
        b.style.fontStyle = a.fontStyle;
        b.style.fontWeight = a.fontWeight;
        b.style.left = a.left;
        b.style.maxWidth = a.maxWidth;
        b.innerText = a.text;
        b.style.textAlign = a.textAlign;
        b.style.top = a.top;
        b.style.width = a.width;
        return b
    }

    function uk(a) {
        var b = document.createElement("img");
        b.style.position = "absolute";
        b.alt = a.filename;
        b.style.height = a.height;
        b.src = a.ij;
        b.style.left = a.left;
        b.style.top = a.top;
        b.style.width = a.width;
        return b
    }

    function vk(a) {
        var b = document.createElement("div");
        b.style.height = "23px";
        b.style.lineHeight = "23px";
        b.style.width = "270px";
        if (void 0 !== a) {
            b.style.backgroundColor = a.backgroundColor;
            b.style.color = a.color;
            b.style.fontStyle = a.fontStyle;
            b.style.fontWeight = a.fontWeight;
            b.style.textAlign = a.textAlign;
            if (void 0 !== a.aa) {
                var c = wk(a.aa);
                b.appendChild(c)
            }
            void 0 !== a.data && (a = wk(a.data), b.appendChild(a))
        }
        return b
    }

    function wk(a) {
        var b = document.createElement("div");
        b.style.position = "absolute";
        b.style.whiteSpace = "nowrap";
        b.style.overflow = "hidden";
        b.style.textOverflow = "ellipsis";
        b.style.position = "absolute";
        b.style.backgroundColor = a.backgroundColor;
        b.style.color = a.color;
        b.style.fontStyle = a.fontStyle;
        b.style.fontWeight = a.fontWeight;
        b.style.textAlign = a.textAlign;
        b.innerText = a.value;
        b.style.width = a.width;
        b.style.left = a.left;
        return b
    };

    function xk() {
        w.call(this);
        var a = this;
        this.Ej = new n("panelUpdated");
        this.Ke = !1;
        this.a.style.display = "inline-block";
        this.a.style.paddingLeft = "5px";
        this.a.style.paddingTop = "3px";
        this.a.style.paddingRight = "5px";
        this.a.style.paddingBottom = "3px";
        this.a.style.position = "";
        this.a.style.width = "270px";
        this.a.style.height = "69px";
        this.a.style.textShadow = "none";
        this.a.style.fontSize = "11px";
        this.a.style.lineHeight = "1.7em";
        q(T, function (b) {
            yk(a, b.j.i());
            q(b.j.event.Jj, function () {
                yk(a, b.j.i())
            });
            q(b.j.event.Ji, function () {
                yk(a, b.j.i())
            })
        });
        this.rf = nk();
        this.a.appendChild(this.rf)
    }
    m(xk, w);

    function yk(a, b) {
        A("api/panel_context/" + b + "/").then(function (b) {
            0 < a.a.children.length && a.a.removeChild(a.rf);
            if ("" === b.responseText) a.Ke = !1, a.rf = nk();
            else {
                a.Ke = !0;
                b = new D(b.responseText);
                var c = I(b, "template", !1);
                switch (c) {
                    case "image_template":
                        I(b, "name", !1);
                        I(b, "template", !1);
                        c = G(b, "layers");
                        if (void 0 !== c && c instanceof Array && 0 !== c.length) {
                            var e = [];
                            c = l(c);
                            for (var f = c.next(); !f.done; f = c.next()) e.push(qk(JSON.stringify(f.value)))
                        }
                        c = nb(b, "table", !1);
                        if (0 !== c.length) {
                            c = new D(c);
                            var h = {
                                backgroundColor: J(c, "background-color", !1),
                                color: J(c, "color", !1),
                                textAlign: J(c, "text-align", !1),
                                fontStyle: J(c, "font-style", !1),
                                fontWeight: J(c, "font-weight", !1)
                            };
                            f = nb(c, "row_1", !1);
                            "" !== f && (h.Yq = rk(f));
                            f = nb(c, "row_2", !1);
                            "" !== f && (h.$q = rk(f));
                            c = nb(c, "row_3", !1);
                            "" !== c && (h.Zq = rk(c))
                        }
                        c = document.createElement("div");
                        c.style.position = "absolute";
                        c.style.height = "69px";
                        c.style.width = "270px";
                        c.style.backgroundColor = "white";
                        c.style.overflow = "hidden";
                        c.style.font = "1em 'UbuntuRegular', Arial, Helvetica, sans-serif";
                        if (void 0 !== e)
                            for (e = l(e), f = e.next(); !f.done; f = e.next()) f = f.value, "text" === f.Pn ? c.appendChild(tk(f)) : "image" === f.Pn && c.appendChild(uk(f));
                        if (void 0 !== h) {
                            e = h;
                            h = document.createElement("div");
                            h.style.height = "69px";
                            h.style.width = "270px";
                            h.style.backgroundColor = e.backgroundColor;
                            h.style.color = e.color;
                            h.style.fontStyle = e.fontStyle;
                            h.style.fontWeight = e.fontWeight;
                            h.style.textAlign = e.textAlign;
                            e = l([e.Yq, e.$q, e.Zq]);
                            for (f = e.next(); !f.done; f = e.next()) f = f.value, f = void 0 !== f ? vk(f) : vk(), h.appendChild(f);
                            c.appendChild(h)
                        }
                        a.rf = c;
                        break;
                    case "3_rows_11_21_31":
                    case "3_rows_11_22_32":
                    case "3_rows_12_21_31":
                    case "3_rows_12_22_31":
                    case "3_rows_of_labels":
                        a.rf = nk(b);
                        break;
                    default:
                        a.Ke = !1, a.rf = nk(), r("template of type (" + c + "): is not supported")
                }
                M(b)
            }
            a.a.appendChild(a.rf);
            t(a.Ej, void 0)
        })["catch"](function (a) {
            v("Error fetching app panel (" + a + ")")
        })
    };

    function zk(a) {
        var b = this;
        this.F = a;
        this.zb = new xk;
        this.zb.a.style.width = "270px";
        this.zb.a.style.position = "relative";
        this.Ck = this.Ke = !1;
        q(T, function () {
            b.Ke = !1;
            b.Ck = !1;
            b.xi = void 0;
            b.Mc = void 0;
            setTimeout(function () {
                b.Ck = !0;
                b.Ke && Ak(b)
            }, 2E3)
        });
        q(this.zb.Ej, function () {
            b.Ke = !0;
            b.Ck && Ak(b)
        })
    }

    function Ak(a) {
        if (a.zb.Ke) {
            if (void 0 !== a.Mc) {
                for (var b = 0; b < a.Mc.children.length; b += 1) a.Mc.removeChild(a.Mc.children.item(b));
                a.Mc.appendChild(a.zb.a.cloneNode(!0))
            }
            void 0 === a.xi ? (a.F.ra(a.zb.a, function () {
                return Bk(a)
            }), a.xi = a.F.xh()) : (b = a.zb.a.offsetTop - a.F.oq(), (0 > b || b > a.F.nq() - 30) && 20 < a.F.vj(a.xi) && (a.F.Mj(a.zb.a), a.F.ra(a.zb.a, function () {
                return Bk(a)
            }), a.xi = a.F.xh()))
        }
    }

    function Bk(a) {
        void 0 !== a.Mc && null !== a.Mc.parentNode && a.Mc.parentNode.removeChild(a.Mc);
        a.Mc = document.createElement("div");
        a.Mc.appendChild(a.zb.a.cloneNode(!0));
        return a.Mc
    };

    function Ck() {
        X.call(this);
        var a = this;
        this.O = 0;
        this.a.id = "chat-box";
        this.a.style.overflow = "";
        this.w = new jk(function (b) {
            a.j.Yl(b)
        });
        this.N(this.w);
        this.rk = new zk({
            ra: function (b, c) {
                return a.w.ra(b, c)
            },
            Mj: function (b) {
                a.w.Mj(b)
            },
            xh: function () {
                return a.w.xh()
            },
            vj: function (b) {
                return a.w.vj(b)
            },
            oq: function () {
                return a.w.Ma.scrollTop
            },
            nq: function () {
                return a.w.a.offsetHeight
            }
        });
        q(T, function (b) {
            a.j = b.j;
            a.w.ra(Hj("Rules: No spamming. Do not insist the cam hosts to do as you please. Do not announce other rooms or websites that would conflict with this room. Avoid any argumentative and/or rude posts related to the cam viewing. Do not attempt to post your e-mail address in the public chat."));
            a.w.ra(Hj('To send a tip, press CTRL+S or type "/tip 25".'));
            0 < b.h.rg.length && a.w.ra(Jj(b.h.i, b.h.rg))
        });
        q(ng, function () {
            a.w.clear()
        })
    }
    m(Ck, X);
    k = Ck.prototype;
    k.C = function () {
        X.prototype.C.call(this)
    };
    k.oa = function () {
        this.w.oa()
    };
    k.Je = function () {
        return 99 < this.O ? pd + " (99+)" : 0 < this.O ? pd + " (" + this.O + ")" : pd
    };
    k.ee = function () {
        return "chat-tab-fvm"
    };
    k.Wb = function () {
        this.w.Wb()
    };
    k.Id = function () {};
    k.Ne = function () {
        return document.activeElement === this.w.K
    };

    function Dk(a) {
        Yi(a) || (a.O += 1);
        a.Db()
    }
    k.show = function () {
        X.prototype.show.call(this);
        this.O = 0;
        this.Db();
        this.w.oa();
        this.w.K.focus()
    };
    k.Yi = function (a) {
        for (var b = [], c = l(this.w.wa.childNodes), d = c.next(); !d.done; d = c.next()) d = d.value, d.getAttribute("data-nick") === a && b.push(d);
        a = l(b);
        for (b = a.next(); !b.done; b = a.next()) this.w.wa.removeChild(b.value)
    };
    k.Ef = function () {
        return this.w.K.value
    };
    k.fg = function (a) {
        this.w.K.value = a
    };
    k.Ie = function () {
        return this.w.K
    };

    function Ek() {
        this.yf = new rg;
        this.wf = new rg
    }
    Ek.prototype.cd = function (a) {
        this.wf.remove(a);
        this.yf.cd(a)
    };

    function Fk(a) {
        var b = a.yf.fd.shift();
        void 0 !== a.Ka && a.wf.cd(a.Ka);
        return a.Ka = b
    }

    function Gk(a) {
        for (;;) {
            var b = a.wf.fd.pop();
            if (void 0 === b) break;
            sg(a.yf, b)
        }
        void 0 !== a.Ka && (sg(a.yf, a.Ka), a.Ka = void 0)
    }
    Ek.prototype.remove = function (a) {
        this.wf.remove(a);
        this.yf.remove(a);
        this.Ka === a && (this.Ka = void 0)
    };

    function Hk(a, b) {
        a.cd(b);
        Fk(a)
    };
    var Ik = new $i;

    function Jk() {
        var a = void 0 === a ? "" : a;
        var b = document.createElement("div");
        b.style.fontFamily = "Tahoma,Arial,Helvetica,sans-serif";
        b.style.boxSizing = "border-box";
        b.style.width = "100%";
        b.style.paddingTop = "3px";
        b.style.paddingBottom = "3px";
        b.style.paddingLeft = "5px";
        b.style.paddingRight = "5px";
        b.style.fontSize = "12px";
        b.style.overflowX = "hidden";
        0 < a.length && b.setAttribute("data-nick", a);
        return b
    }

    function Kk(a, b) {
        return b.username === a ? "Broadcaster " : b.wc ? "Moderator " : b.uc ? "Fan club member " : ""
    }

    function Lk(a) {
        a = Ik.parse(a);
        a = new aj(a.red, a.green, a.blue);
        var b = a.brightness();
        bj(a, 255 - b / 3);
        return "rgb(" + a.red + ", " + a.green + ", " + a.blue + ")"
    };

    function Mk(a) {
        var b = document.createElement("div"),
            c = document.createElement("div"),
            d = document.createElement("div"),
            e = document.createElement("img");
        e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";
        e.height = 16;
        e.width = 16;
        d.style.padding = "5px 5px 0 10px";
        d.style.verticalAlign = "top";
        d.style.display = "inline-block";
        d.style.overflow = "hidden";
        c.innerText = a.eg.cc + " " + (0 === a.eg.O ? "" : "(" + a.eg.O + ")");
        c.style.whiteSpace = "nowrap";
        c.style.textOverflow = "ellipsis";
        c.style.overflow = "hidden";
        c.style.padding = "5px 5px 5px 15px";
        c.style.display = "inline-block";
        c.style.width = a.size - 16 - 5 - 10 - 20 + "px";
        b.style.color = "#423DB0";
        b.style.width = a.size + "px";
        b.onmouseenter = function () {
            e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-on.png";
            b.style.background = "#7E7E7E";
            b.style.cursor = "pointer";
            b.style.color = "#e1e1e1"
        };
        b.onmouseleave = function () {
            e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";
            b.style.background = "#e1e1e1";
            b.style.cursor = "default";
            b.style.color = "#423DB0"
        };
        z("click", c, function () {
            a.xl()
        });
        z("click", e, function () {
            a.yl()
        });
        b.appendChild(c);
        d.appendChild(e);
        b.appendChild(d);
        return b
    }

    function Nk(a, b) {
        X.call(this);
        var c = this;
        this.jl = b;
        this.O = 0;
        this.Uh = new n("incomingPm");
        this.za = new Map;
        this.ta = new Ek;
        this.a.style.overflow = "";
        this.Ii = a;
        q(Ci, function (a) {
            c.Kc();
            void 0 === c.za.get(a) && c.Fh(a, !1);
            Hk(c.ta, a);
            c.Db();
            c.te();
            Xi(c)
        });
        q(T, function (a) {
            c.j = a.j
        });
        q(ng, function () {
            for (var a = l(c.za.keys()), b = a.next(); !b.done; b = a.next()) c.hd(b.value)
        });
        q(Di, function (a) {
            c.hd(a)
        })
    }
    m(Nk, X);
    k = Nk.prototype;
    k.oa = function () {
        var a = Y(this);
        void 0 !== a && a.w.oa()
    };
    k.Je = function () {
        return 99 < this.O ? "PM (99+)" : 0 < this.O ? "PM (" + this.O + ")" : "PM"
    };
    k.Zg = function (a) {
        var b = this;
        O("FocusPMTab", {
            unread: this.O
        });
        if (1 === this.za.size) Xi(this), this.Kc(), Hk(this.ta, this.za.keys().next().value), this.te();
        else {
            var c = document.createElement("div"),
                d = document.createElement("div"),
                e = function () {
                    b.Ii.a.removeChild(c);
                    b.Ii.a.removeChild(d);
                    T.removeListener(e)
                };
            q(T, e, !1);
            var f = document.createElement("div"),
                h = document.createElement("span"),
                g = document.createElement("img");
            g.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/red-arrow-down.gif";
            g.height = 6;
            g.style.padding = "0 0 2px 4px";
            h.innerText = yd;
            h.style.padding = "0 5px 0 5px";
            h.style.whiteSpace = "nowrap";
            h.style.color = S.Fa;
            f.style.minWidth = "150px";
            f.appendChild(g);
            f.appendChild(h);
            h = document.createElement("hr");
            h.style.margin = "4px";
            c.appendChild(f);
            c.appendChild(h);
            c.style.border = "1px solid #6B6B6B";
            c.style.fontSize = "12px";
            c.style.position = "relative";
            c.style.background = "#e1e1e1";
            c.style.borderRadius = "4px";
            c.style.display = "none";
            c.style.padding = "6px 0 6px 0";
            c.style.maxHeight = "300px";
            c.style.overflow = "auto";
            f = [];
            h = l(this.za.keys());
            for (g = h.next(); !g.done; g = h.next()) f.push(g.value);
            h = f.sort();
            f = {};
            h = l(h);
            for (g = h.next(); !g.done; f = {
                    yd: f.yd
                }, g = h.next()) f.yd = g.value, g = this.za.get(f.yd), void 0 === g ? v("can't find pmsession") : c.appendChild(Mk({
                eg: g,
                yl: function (a) {
                    return function () {
                        b.hd(a.yd);
                        e()
                    }
                }(f),
                xl: function (a) {
                    return function () {
                        Xi(b);
                        b.Kc();
                        Hk(b.ta, a.yd);
                        b.te();
                        e()
                    }
                }(f),
                size: 250
            }));
            a = a.getBoundingClientRect();
            c.style.top = "-24px";
            c.style.left = "40px";
            c.style.width = "252px";
            c.style.zIndex = "999";
            this.Ii.a.appendChild(c);
            c.style.display = "block";
            d.style.position = "fixed";
            d.style.height = "100%";
            d.style.width = "100%";
            d.style.top = "0";
            d.style.left = "0";
            d.style.zIndex = "998";
            d.onclick = e;
            this.Ii.a.insertBefore(d, c);
            window.document.documentElement.clientHeight < c.offsetTop + c.offsetHeight && (c.style.height = window.document.documentElement.clientHeight - a.top - 18 + "px");
            window.document.documentElement.clientWidth < c.offsetLeft + c.offsetWidth + 8 && (c.style.left = window.document.documentElement.clientWidth - c.offsetWidth - 8 + "px")
        }
    };
    k.Hg = function () {
        return 0 === this.za.size
    };
    k.ee = function () {
        return "pm-tab-fvm"
    };
    k.Wb = function () {
        var a = Y(this);
        void 0 === a ? v("session undefined") : a.w.Wb()
    };
    k.Id = function () {};
    k.Ne = function () {
        var a = Y(this);
        return void 0 === a ? (v("session undefined"), !1) : document.activeElement === a.w.K
    };
    k.C = function () {
        X.prototype.C.call(this);
        var a = Y(this);
        void 0 !== a && a.w.oa()
    };
    k.Fh = function (a, b) {
        var c = this,
            d = this.za.get(a);
        if (void 0 === d) {
            var e = Jk();
            e.innerHTML = Mb(a);
            e.style.textAlign = "center";
            e.style.width = "auto";
            e.style.borderBottom = "1px solid #acacac";
            e.style.margin = "0 10px 5px 5px";
            e.style.display = "none";
            e.style.color = "#cfcfcf";
            d = {
                w: new jk(function (b) {
                    O("SendPrivateMessage", {
                        username: a
                    });
                    c.ta.cd(a);
                    c.j.Xl(b, a)
                }),
                O: 0,
                cc: a,
                qh: e
            };
            this.za.set(a, d);
            d.w.ra(Hj("Private conversation with " + a));
            d.w.ra(Hj(Pb()));
            d.w.a.style.display = "none";
            this.N(d.w);
            e = !0
        } else e = !1, d.qh.style.display = "";
        !0 === b && t(this.Uh, {
            username: a,
            oj: e
        });
        return d
    };
    k.ra = function (a, b, c) {
        this.ta.cd(c);
        var d = this.Fh(c, b !== this.j.username());
        this.j.username() === b || Yi(this) && this.ta.Ka === c ? Hk(this.ta, c) : (this.O += 1, d.O += 1, this.Db());
        return a = d.w.ra(a)
    };
    k.El = function (a) {
        if (Yi(this)) {
            var b = Y(this);
            void 0 !== b && b.w.ra(a)
        }
    };

    function Y(a) {
        if (void 0 !== a.ta.Ka) return a.za.get(a.ta.Ka)
    }

    function Ok(a) {
        a.Kc();
        if (void 0 === Fk(a.ta)) return !1;
        a.te();
        return !0
    }

    function Pk(a) {
        a.Kc();
        var b = a.ta,
            c = b.wf.fd.shift();
        void 0 !== b.Ka && b.yf.cd(b.Ka);
        b.Ka = c;
        if (void 0 === c) return !1;
        a.te();
        return !0
    }
    k.hd = function (a) {
        var b = this.za.get(a);
        if (void 0 !== b) {
            var c = Yi(this) && this.ta.Ka === a;
            this.ta.remove(a);
            b.w.xg();
            this.removeChild(b.w);
            this.za["delete"](a);
            c && (Ok(this) || this.jl());
            this.O -= b.O;
            this.Db();
            t(Di, b.cc)
        }
    };
    k.uf = function () {
        var a = Y(this);
        void 0 === a ? v("cannot close current tab") : this.hd(a.cc)
    };
    k.te = function () {
        if (void 0 === this.ta.Ka) v("no currentpmsession");
        else {
            var a = this.za.get(this.ta.Ka);
            void 0 === a ? v("no pm session") : (a.w.a.style.display = "block", x(a.w), a.w.K.focus(), 0 < a.O && (this.O -= a.O, a.O = 0, this.Db()), t(og, a.cc), a.w.ra(a.qh))
        }
    };
    k.Kc = function () {
        var a = Y(this);
        void 0 !== a && (a.w.a.style.display = "none")
    };
    k.Ef = function () {
        var a = Y(this);
        return void 0 === a ? "" : a.w.K.value
    };
    k.fg = function (a) {
        var b = Y(this);
        void 0 !== b && (b.w.K.value = a)
    };
    k.Ie = function () {
        var a = Y(this);
        if (void 0 !== a) return a.w.K
    };
    var Qk = new Set;

    function Rk() {
        for (var a = [], b = l(Qk), c = b.next(); !c.done; c = b.next()) a.push(c.value);
        y() && window.localStorage.setItem("ignorelist", JSON.stringify({
            we: a
        }))
    }

    function Sk(a) {
        try {
            Qk = new Set(JSON.parse(a).users)
        } catch (b) {
            v("Cannot parse ignore list: " + b)
        }
    }

    function Tk() {
        Uk();
        (0 === Qk.size || Vk()) && A("api/ignored_user_list/").then(function (a) {
            y() && (window.localStorage.setItem("ignorelist", a.responseText), window.localStorage.setItem("ignorelistlastfetch", Date.now().toString()));
            Sk(a.responseText)
        })["catch"](function (a) {
            v("Network error retrieving ignore list: " + a)
        })
    }

    function Vk() {
        if (!y()) return !0;
        var a = window.localStorage.getItem("ignorelistlastfetch");
        return null === a ? !0 : parseInt(a, 10) + 3E5 < Date.now()
    }

    function Uk() {
        if (y()) {
            var a = window.localStorage.getItem("ignorelist");
            null !== a && Sk(a)
        }
    };
    var Wk;
    q(T, function (a) {
        Wk = a.j
    });

    function Xk() {
        oj.call(this);
        var a = this;
        this.a.style.visibility = "hidden";
        this.a.style.position = "fixed";
        this.a.style.width = "410px";
        this.a.style.height = "307px";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.borderRadius = "6px";
        this.a.style.padding = "10px";
        this.a.style.fontSize = "12px";
        Ha() && (this.a.style.boxShadow = "0 0 18px rgba(0, 0, 0, 0.4)");
        this.P.style.backgroundColor = "#000000";
        this.P.style.opacity = "0.4";
        var b = document.createElement("img");
        b.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close.svg";
        b.style.position = "absolute";
        b.style.width = "10px";
        b.style.top = "9px";
        b.style.right = "9px";
        b.style.cursor = "pointer";
        b.style.opacity = "0.5";
        b.onclick = function () {
            a.B()
        };
        b.onmouseenter = function () {
            b.style.opacity = "1"
        };
        b.onmouseleave = function () {
            b.style.opacity = "0.5"
        };
        this.a.appendChild(b);
        var c = document.createElement("div");
        c.innerText = De;
        c.style.color = "#0C6A93";
        c.style.fontSize = "15px";
        c.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.a.appendChild(c);
        c = document.createElement("div");
        c.innerText = Ie;
        c.style.color = S.Ed;
        c.style.margin = "10px 0";
        this.a.appendChild(c);
        c = document.createElement("div");
        c.style.display = "inline-block";
        c.style.marginRight = "10px";
        var d = document.createElement("div");
        d.innerText = He;
        d.style.color = "#0C6A93";
        d.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        d.style.fontWeight = "bold";
        c.appendChild(d);
        this.Bb = document.createElement("select");
        this.Bb.multiple = !0;
        this.Bb.style.border = "1px solid #b1b1b1";
        this.Bb.style.borderRadius = "4px";
        this.Bb.style.marginTop = "4px";
        this.Bb.style.width = "200px";
        this.Bb.style.height = "200px";
        this.Bb.style.padding = "2px";
        this.Bb.onchange = function () {
            try {
                var b = a.Bb.selectedOptions[0]
            } catch (f) {
                b = a.Bb.options[a.Bb.selectedIndex]
            }
            b.selected = !1;
            a.Ib.appendChild(b)
        };
        c.appendChild(this.Bb);
        this.a.appendChild(c);
        c = document.createElement("div");
        c.style.display = "inline-block";
        d = document.createElement("div");
        d.innerText = Fe;
        d.style.color = "#0C6A93";
        d.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        d.style.fontWeight = "bold";
        c.appendChild(d);
        this.Ib = document.createElement("select");
        this.Ib.multiple = !0;
        this.Ib.style.border = "1px solid #b1b1b1";
        this.Ib.style.borderRadius = "4px";
        this.Ib.style.marginTop = "4px";
        this.Ib.style.width = "200px";
        this.Ib.style.height = "200px";
        this.Ib.style.padding = "2px";
        this.Ib.onchange = function () {
            try {
                var b = a.Ib.selectedOptions[0]
            } catch (f) {
                b = a.Ib.options[a.Ib.selectedIndex]
            }
            b.selected = !1;
            a.Bb.appendChild(b)
        };
        c.appendChild(this.Ib);
        this.a.appendChild(c);
        c = document.createElement("div");
        c.style.textAlign = "right";
        d = document.createElement("span");
        d.innerText = Kd;
        d.style.display = "inline-block";
        d.style.color = "#ffffff";
        d.style.backgroundColor = "#ff7002";
        Ia() && (d.style.background = "linear-gradient(180deg, #ff9735 0%, #ff9e36 50%, #ff7002 60%)");
        d.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        d.style.fontSize = "14px";
        d.style.textShadow = "#f18112 1px 1px 0px";
        d.style.padding = "5px 15px 5px 15px";
        d.style.marginTop = "10px";
        d.style.borderRadius = "4px";
        d.style.cursor = "pointer";
        d.onclick = function () {
            for (var b = l(a.Ib.options), c = b.next(); !c.done; c = b.next()) Wk.ik(c.value.value);
            a.B()
        };
        c.appendChild(d);
        this.a.appendChild(c);
        q(this.jc, function () {
            a.B()
        })
    }
    m(Xk, oj);
    Xk.prototype.C = function () {
        this.a.style.left = (document.documentElement.clientWidth - this.a.offsetWidth) / 2 + "px";
        this.a.style.top = (document.documentElement.clientHeight - this.a.offsetHeight) / 2 + "px"
    };
    Xk.prototype.show = function () {
        for (; null !== this.Bb.firstChild;) this.Bb.removeChild(this.Bb.firstChild);
        for (; null !== this.Ib.firstChild;) this.Ib.removeChild(this.Ib.firstChild);
        for (var a = l(Qk), b = a.next(); !b.done; b = a.next()) {
            b = b.value;
            var c = document.createElement("option");
            c.innerText = b;
            c.value = b;
            this.Bb.appendChild(c)
        }
        this.a.style.visibility = "visible";
        this.Dc();
        x(this)
    };
    Xk.prototype.B = function () {
        this.gc();
        this.a.style.visibility = "hidden"
    };

    function Yk(a, b, c) {
        Lj.call(this);
        var d = this;
        this.im = a;
        this.no = !1;
        this.oo = new n("pickerImgLoaded");
        this.a.style.visibility = "hidden";
        this.a.style.width = "auto";
        this.a.style.height = "auto";
        z("keydown", this.a, function (a) {
            27 === a.keyCode && d.B()
        });
        q(this.jc, function () {
            d.B()
        });
        var e = document.createElement("canvas");
        e.style.cursor = "crosshair";
        e.style.border = "1px solid #000001";
        this.a.appendChild(e);
        this.Sa = document.createElement("input");
        this.Sa.type = "text";
        this.Sa.style.display = "block";
        this.Sa.style.border = "1px solid #000000";
        this.Sa.style.padding = "2px 4px";
        this.Sa.style.position = "relative";
        this.Sa.style.top = "-3px";
        this.Sa.style.fontSize = "12px";
        this.Sa.oninput = function () {
            c(d.Sa.value)
        };
        z("keydown", this.Sa, function (a) {
            13 === a.keyCode && (b(d.Sa.value), d.B())
        });
        this.a.appendChild(this.Sa);
        var f = document.createElement("img");
        "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/colorPicker.png?v=1".startsWith("/") || f.setAttribute("crossorigin", "anonymous");
        f.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/colorPicker.png?v=1";
        f.onload = function () {
            e.width = f.width;
            e.height = f.height;
            e.onclick = function () {
                d.jj = d.Sa.value;
                b(d.Sa.value);
                d.B()
            };
            e.onmousemove = function (a) {
                var b = e.getContext("2d");
                if (null !== b && 0 < a.offsetX && 0 < a.offsetY && a.offsetX < e.clientWidth && a.offsetY < e.clientHeight) {
                    var f = b.getImageData(a.offsetX, a.offsetY, 1, 1).data;
                    a = f[0];
                    b = f[1];
                    f = f[2];
                    (255 < a || 255 < b || 255 < f || 0 > a || 0 > b || 0 > f) && v("Invalid rgb color value: r: " + a + ", g: " + b + ", b: " + f);
                    d.Sa.value = "#" + ("000000" + (a << 16 | b << 8 | f).toString(16)).slice(-6)
                } else d.Sa.value = d.jj;
                c(d.Sa.value)
            };
            e.onmouseleave = function () {
                d.Sa.value = d.jj;
                c(d.Sa.value)
            };
            var a = e.getContext("2d");
            null !== a && a.drawImage(f, 0, 0, f.width, f.height);
            d.Sa.style.width = e.width - 8 + "px";
            d.no = !0;
            t(d.oo, void 0)
        }
    }
    m(Yk, Lj);
    Yk.prototype.C = function () {
        this.a.style.left = this.im.offsetLeft + "px";
        this.a.style.top = this.im.offsetTop + this.im.offsetHeight + 2 + "px"
    };
    Yk.prototype.show = function (a) {
        function b() {
            c.Sa.value = c.jj;
            c.a.style.visibility = "visible";
            c.Dc();
            x(c)
        }
        var c = this;
        this.jj = a;
        if (this.no) b();
        else this.oo.once(b)
    };
    Yk.prototype.B = function () {
        this.gc();
        this.a.style.visibility = "hidden"
    };

    function Zk(a, b) {
        try {
            return new MouseEvent(a, b)
        } catch (d) {
            var c = document.createEvent("MouseEvent");
            c.initMouseEvent(a, void 0 !== b.bubbles ? b.bubbles : !1, void 0 !== b.cancelable ? b.cancelable : !1, window, 0, void 0 !== b.screenX ? b.screenX : 0, void 0 !== b.screenY ? b.screenY : 0, void 0 !== b.clientX ? b.clientX : 0, void 0 !== b.clientY ? b.clientY : 0, void 0 !== b.ctrlKey ? b.ctrlKey : !1, void 0 !== b.altKey ? b.altKey : !1, void 0 !== b.shiftKey ? b.shiftKey : !1, void 0 !== b.metaKey ? b.metaKey : !1, void 0 !== b.button ? b.button : 0, void 0 !== b.relatedTarget ? b.relatedTarget : null);
            return c
        }
    };

    function $k(a) {
        w.call(this);
        var b = this;
        this.F = a;
        this.value = 0;
        this.mk = new n("valueChanged");
        this.lk = new n("valueChangeStart");
        this.kk = new n("valueChangeEnd");
        this.a.style.position = "relative";
        this.a.style.overflow = "visible";
        this.a.style.cursor = "pointer";
        this.a.style.width = void 0 !== a.Hd ? a.Hd + a.fb + "px" : "90%";
        this.a.style.height = a.fb + "px";
        this.sf = void 0 !== a.sf ? a.sf : 2 * Math.round(.25 * a.fb / 2);
        void 0 !== a.vk ? (this.rc = document.createElement("img"), this.rc.src = a.vk, this.rc.style.width = "100%", this.rc.style.height = "100%") : (this.rc = document.createElement("div"), this.rc.style.position = "absolute", this.rc.style.boxSizing = "border-box", void 0 !== a.bn ? this.rc.style.backgroundColor = a.bn : (this.rc.style.backgroundColor = "#333333", Ha() && (this.rc.style.backgroundColor = "rgba(255, 255, 255, 0.2)")), this.rc.style.top = .5 * (a.fb - this.sf) + "px", this.rc.style.height = this.sf + "px", this.rc.style.width = "100%");
        this.a.appendChild(this.rc);
        void 0 !== a.vk ? (this.Md = document.createElement("div"), this.Md.style.visibility = "none") : (this.Md = document.createElement("div"), this.Md.style.position = "absolute", this.Md.style.boxSizing = "border-box", this.Md.style.backgroundColor = void 0 !== a.en ? a.en : "#ffffff", this.Md.style.top = .5 * (a.fb - this.sf) + "px", this.Md.style.height = this.sf + "px", this.a.appendChild(this.Md));
        void 0 !== a.vn ? (this.handle = document.createElement("img"), this.handle.style.position = "absolute", this.handle.style.top = "0", this.handle.src = a.vn, this.handle.style.height = a.fb + "px", this.handle.style.width = a.fb + "px", this.handle.style.cursor = "grab", this.handle.style.left = "0px") : (this.handle = document.createElement("div"), this.handle.style.position = "absolute", this.handle.style.top = "0", this.handle.style.backgroundColor = void 0 !== a.un ? a.un : "#ffffff", this.handle.style.borderRadius = "50%", this.handle.style.height = a.fb + "px", this.handle.style.height = a.fb + "px", this.handle.style.width = a.fb + "px", this.handle.style.cursor = "grab");
        this.a.appendChild(this.handle);
        this.Gr = new Xg(function () {
            t(b.mk, b.value)
        }, {
            tg: 100,
            Ni: Zg.qm
        });
        al(this, function (a) {
            bl(b, a, a.clientX)
        }, "mousedown", "mousemove", "mouseup");
        al(this, function (a) {
            if (1 === a.touches.length) {
                var c = a.touches.item(0);
                null !== c && bl(b, a, c.clientX)
            }
        }, "touchstart", "touchmove", "touchend");
        z("mousedown", this.a, function (a) {
            bl(b, a, a.clientX);
            b.handle.dispatchEvent(Zk(a.type, a))
        })
    }
    m($k, w);

    function al(a, b, c, d, e) {
        z(c, a.handle, function (c) {
            function f(c) {
                t(a.kk, a.value);
                a.handle.style.cursor = "grab";
                document.body.style.cursor = "";
                c.preventDefault();
                $a(d, document, b, !0);
                $a(e, document, f, !0)
            }
            t(a.lk, a.value);
            a.handle.style.cursor = "";
            document.body.style.cursor = "grabbing";
            c.preventDefault();
            c.stopPropagation();
            z(d, document, b, !0);
            z(e, document, f, !0)
        })
    }

    function bl(a, b, c) {
        var d = a.a.getBoundingClientRect().left;
        void 0 !== a.F.Hd ? cl(a, 100 / a.F.Hd * (Math.max(.5 * a.F.fb, Math.min(a.F.Hd + .5 * a.F.fb, c - d)) - .5 * a.F.fb)) : cl(a, 100 / a.a.offsetWidth * (Math.max(.5 * a.F.fb, Math.min(a.a.offsetWidth + .5 * a.F.fb, c - d)) - .5 * a.F.fb));
        Yg(a.Gr);
        b.preventDefault()
    }

    function cl(a, b) {
        void 0 !== a.F.Hd ? (a.handle.style.left = b * a.F.Hd / 100 + "px", a.Md.style.width = b * a.F.Hd / 100 + "px") : (a.handle.style.left = b * (a.a.offsetWidth - a.F.fb) / 100 + "px", a.Md.style.width = b * a.a.offsetWidth / 100 + "px");
        a.value = b
    };

    function dl(a) {
        switch (a) {
            case "orga":
                return 0;
            case "orgb":
                return 1;
            case "org":
                return 2;
            case "none":
                return 3;
            default:
                return 1
        }
    }

    function el(a) {
        switch (a) {
            case "away":
                return "away";
            case "group":
                return "groupnotwatching";
            case "group_watching":
                return "groupwatching";
            case "group_requesting":
                return "grouprequesting";
            case "private":
                return "privatenotwatching";
            case "private_watching":
                return "privatewatching";
            case "private_spying":
                return "privatespying";
            case "private_requesting":
                return "privaterequesting";
            case "public":
                return "public";
            case "hidden":
                return "hidden";
            case "offline":
                return "offline";
            case "password protected":
                return "passwordprotected";
            default:
                return v("unknown room status -- " + a), "unknown"
        }
    }
    var fl;

    function gl(a) {
        var b = [];
        if ("" !== a) try {
            JSON.parse(a).forEach(function (a) {
                b.push({
                    tk: a[0],
                    Im: a[1]
                })
            })
        } catch (c) {
            v("Error parsing apps " + c.toString())
        }
        return b
    }

    function hl(a) {
        var b = [];
        if ("" !== a) try {
            b = JSON.parse(a).map(function (a) {
                return {
                    text: a.text,
                    href: a.href
                }
            })
        } catch (c) {
            v("Error parsing anchors " + c.toString())
        }
        return b
    }

    function il(a) {
        return new Promise(function (b, c) {
            var d = new D(a);
            if (400 <= L(d, "status", !1)) c("Bad response from server: " + a);
            else {
                var e = mb(d, "chat_settings"),
                    f = mb(d, "ads_zone_ids"),
                    h = mb(d, "satisfaction_score"),
                    g = I(d, "flash_host"),
                    p = bb();
                void 0 !== p.edge && (g = "edge" + p.edge + ".stream.highwebmedia.com");
                p = I(d, "wschat_host");
                var u = I(d, "broadcaster_username"),
                    F = I(d, "room_pass"),
                    C = I(d, "room_title"),
                    N = el(I(d, "room_status")),
                    E = K(d, "is_supporter"),
                    P = I(d, "broadcaster_gender"),
                    da = I(d, "viewer_username"),
                    za = I(d, "chat_username"),
                    Ba = encodeURI(I(d, "edge_auth")),
                    Ca = I(d, "chat_password"),
                    wb = I(d, "viewer_gender"),
                    Ra = I(d, "hls_source"),
                    xb = K(d, "is_widescreen"),
                    Sa = gl(I(d, "apps_running")),
                    Ea = K(d, "allow_private_shows"),
                    Tb = K(d, "allow_group_shows"),
                    yb = L(d, "private_show_price"),
                    mq = L(d, "private_min_minutes"),
                    nq = K(d, "allow_show_recordings"),
                    oq = L(d, "group_show_price"),
                    pq = L(d, "spy_private_show_price"),
                    qq = K(d, "low_satisfaction_score"),
                    rq = K(d, "is_age_verified"),
                    sq = I(d, "hidden_message"),
                    tq = K(d, "following"),
                    uq = K(d, "is_moderator"),
                    vq = I(d, "recommender_hmac"),
                    wq = K(d, "broadcaster_on_new_chat"),
                    xq = L(d, "token_balance"),
                    yq = I(d, "server_name"),
                    zq = L(d, "num_followed"),
                    Aq = L(d, "num_followed_online"),
                    Bq = K(d, "has_studio"),
                    Cq = K(d, "is_mobile"),
                    Dq = ob(d, "ignored_emoticons"),
                    Eq = K(d, "hide_satisfaction_score"),
                    Fq = L(d, "tips_in_past_24_hours");
                var Ub = void 0 === Ub ? !0 : Ub;
                var Vb = G(d, "last_vote_in_past_24_hours");
                "number" !== typeof Vb ? (Ub && void 0 !== Vb && r("getNumberOrUndefined(last_vote_in_past_24_hours): " + Vb + " is wrong type", {
                    message: d.Bd
                }), Ub = void 0) : Ub = Vb;
                Vb = K(d, "last_vote_in_past_90_days_down");
                var $d = ob(d, "dismissible_messages"),
                    Ij = [];
                $d = l($d);
                for (var Wb = $d.next(); !Wb.done; Wb = $d.next()) Wb = Wb.value, Ij.push({
                    id: Wb.id,
                    Cq: Wb.message_html
                });
                e = {
                    host: p,
                    i: u,
                    Tl: F,
                    ab: C,
                    Za: N,
                    Lf: E,
                    Xh: P,
                    userName: da,
                    oh: za,
                    Yp: Ba,
                    Am: Ca,
                    Hr: wb,
                    Zp: g,
                    Ch: Ra,
                    xc: xb,
                    rg: Sa,
                    ed: Ea,
                    dd: Tb,
                    Ua: yb,
                    Ve: mq,
                    qf: nq,
                    Ra: oq,
                    sb: pq,
                    $i: qq,
                    gb: rq,
                    Dg: sq,
                    Df: tq,
                    hc: uq,
                    yo: vq,
                    Lp: wq,
                    Va: xq,
                    gs: yq,
                    Jq: zq,
                    Kq: Aq,
                    Zr: Bq,
                    Gg: Cq,
                    hj: Dq,
                    An: Eq,
                    Gc: Fq,
                    On: Ub,
                    xq: Vb,
                    uh: Ij,
                    sr: K(d, "show_mobile_site_banner_link"),
                    ao: L(d, "num_users_required_for_group"),
                    bo: L(d, "num_users_waiting_for_group"),
                    yj: L(d, "num_viewers"),
                    $e: {
                        mf: L(h, "up_votes", !1),
                        He: L(h, "down_votes", !1),
                        sd: L(h, "percent", !1)
                    },
                    zr: K(d, "tfa_enabled"),
                    ui: {
                        header: I(f, "468x60"),
                        rightTop: I(f, "160x600,top"),
                        rightMiddle: I(f, "160x600,middle"),
                        rightBottom: I(f, "160x600,bottom"),
                        footerLeft: I(f, "300x250,left"),
                        footerMiddle: I(f, "300x250,centre"),
                        footerRight: I(f, "300x250,right")
                    },
                    pa: {
                        jn: I(e, "font_color"),
                        fontFamily: I(e, "font_family"),
                        fontSize: I(e, "font_size"),
                        Wg: K(e, "show_emoticons"),
                        Si: I(e, "emoticon_autocomplete_delay"),
                        Bn: I(e, "highest_token_color"),
                        js: I(e, "sort_users_key"),
                        ud: dl(I(e, "room_entry_for")),
                        vd: dl(I(e, "room_leave_for")),
                        hs: I(e, "silence_broadcasters"),
                        $r: I(e, "ignored_users"),
                        Mr: I(e, "allowed_chat"),
                        ye: parseInt(I(e, "v_tip_vol")),
                        Rr: parseInt(I(e, "b_tip_vol"))
                    }
                };
                f = H(d, "staff_links");
                void 0 !== f && (e.Vj = {
                    em: hl(f),
                    Gp: K(d, "auto_load_admin_info"),
                    ro: H(d, "previous_usernames"),
                    Ym: H(d, "deletion_admin_notice")
                });
                M(d);
                b(e)
            }
        })
    }

    function jl(a) {
        void 0 !== fl && (fl.abort(), fl = void 0);
        return new Promise(function (b, c) {
            var d = jb("api/chatvideocontext/" + a + "/");
            fl = d[0];
            d[1].then(function (a) {
                b(il(a.responseText))
            })["catch"](function (a) {
                404 === a.ad.status ? (V("HTTP 404 - Page Not Found\n\nIt's probably just a broken link, or perhaps a cancelled broadcaster."), a.ad.abort()) : c(a)
            })
        })
    };

    function kl() {
        function a() {
            if (!Ih('You must be logged in to change chat settings. Click "OK" to login.')) {
                var a = {
                    color: C.value
                };
                B("choose_viewer_chat_color/", a)["catch"](function (a) {
                    v("Error saving user chat color: " + a)
                });
                a.font_family = decodeURIComponent(N.value);
                a.font_size = da.value;
                a.show_emoticons = "" + za.checked;
                a.emoticon_autocomplete_delay = Ba.value;
                a.highest_token_color = Ca.value;
                a.viewer_tip_volume = "" + Math.round(Ea.value);
                f.hc && (a.enter_notify = Ra.value, a.leave_notify = Sa.value, f.pa.ud = dl(Ra.value), f.pa.vd = dl(Sa.value));
                B("api/viewerchatsettings/" + f.da + "/", a).then(function () {
                    t(f.Fk, void 0);
                    f.pa.jn = C.value;
                    f.pa.fontFamily = decodeURIComponent(N.value);
                    f.pa.fontSize = da.value;
                    f.pa.Wg = za.checked;
                    f.pa.Si = Ba.value;
                    f.pa.Bn = Ca.value;
                    f.pa.ye = Math.round(Ea.value);
                    t(lg, f.pa)
                })["catch"](function (a) {
                    v("Error saving user chat settings: " + a)
                })
            }
        }

        function b(a) {
            Tb.innerText = Math.round(a) + "%"
        }

        function c() {
            Ih('You must be logged in to change chat color. Click "OK" to login.') || (f.Lf ? (void 0 === F && (F = f.N(new Yk(u, function (b) {
                d(b);
                a()
            }, function (a) {
                d(a)
            }))), F.show(C.value)) : V("You must be a supporter to change chat color"))
        }

        function d(a) {
            C.value = a;
            u.style.color = a;
            u.style.backgroundColor = a
        }

        function e() {
            var a = document.createElement("div");
            a.style.marginBottom = "16px";
            h.appendChild(a);
            var b = document.createElement("label");
            a.appendChild(b);
            return b
        }
        w.call(this);
        var f = this;
        this.Fk = new n("chatSettingsSavedRequest");
        this.pp = new n("updateTipVolume");
        this.a.style.width = "100%";
        this.a.style.overflow = "auto";
        this.a.style.boxSizing = "border-box";
        this.a.style.padding = "11px";
        var h = document.createElement("form");
        h.style.marginBottom = "40px";
        this.a.appendChild(h);
        var g = e(),
            p = document.createElement("span");
        p.innerText = Rb + ":";
        p.style.marginRight = "6px";
        g.appendChild(p);
        var u = document.createElement("span");
        u.style.display = "inline-block";
        u.style.width = "20px";
        u.style.height = "20px";
        u.style.border = "1px solid " + S.Fa;
        u.style.cursor = "pointer";
        u.style.verticalAlign = "middle";
        g.appendChild(u);
        var F;
        u.onclick = c;
        p.onclick = c;
        var C = document.createElement("input");
        C.type = "hidden";
        C.onchange = function () {
            a()
        };
        g.appendChild(C);
        g = e();
        p = document.createElement("span");
        p.innerText = Sb + ":";
        p.style.marginRight = "6px";
        g.appendChild(p);
        var N = document.createElement("select");
        N.style.border = "1px solid #b1b1b1";
        p = l(ll);
        for (var E = p.next(); !E.done; E = p.next()) {
            E = E.value;
            var P = document.createElement("option");
            P.innerText = E.label;
            P.value = E.value;
            N.appendChild(P)
        }
        z("mousedown", N, function (a) {
            Ih('You must be logged in to change font family. Click "OK" to login.') ? (a.preventDefault(), N.blur()) : f.Lf || (a.preventDefault(), N.blur(), V("You must be a supporter to change font family"))
        });
        N.onchange = function () {
            a()
        };
        g.appendChild(N);
        g = e();
        p = document.createElement("span");
        p.innerText = Xb + ":";
        p.style.marginRight = "6px";
        g.appendChild(p);
        var da = document.createElement("select");
        da.style.border = "1px solid #b1b1b1";
        for (p = 9; 20 >= p; p += 1) E = document.createElement("option"), E.innerText = p + "pt", E.value = p + "pt", da.appendChild(E);
        da.onchange = function () {
            a()
        };
        g.appendChild(da);
        g = e();
        p = document.createElement("span");
        p.innerText = Yb + ":";
        p.style.marginRight = "6px";
        g.appendChild(p);
        var za = document.createElement("input");
        za.type = "checkbox";
        za.onchange = function () {
            a()
        };
        g.appendChild(za);
        g = e();
        p = document.createElement("span");
        p.innerText = Zb + ":";
        p.style.marginRight = "6px";
        g.appendChild(p);
        var Ba = document.createElement("select");
        Ba.style.border = "1px solid #b1b1b1";
        p = l(ml);
        for (E = p.next(); !E.done; E = p.next()) E = E.value, P = document.createElement("option"), P.innerText = E.label, P.value = E.value, Ba.appendChild(P);
        Ba.onchange = function () {
            a()
        };
        g.appendChild(Ba);
        g = e();
        p = document.createElement("span");
        p.innerText = $b + ":";
        p.style.marginRight = "6px";
        g.appendChild(p);
        var Ca = document.createElement("select");
        Ca.style.border = "1px solid #b1b1b1";
        p = l(nl);
        for (E = p.next(); !E.done; E = p.next()) E = E.value, P = document.createElement("option"), P.innerText = E.label, P.value = E.value, Ca.appendChild(P);
        Ca.onchange = function () {
            a()
        };
        g.appendChild(Ca);
        var wb = e();
        wb.style.display = "none";
        g = document.createElement("span");
        g.innerText = "Notify on Entry For:";
        g.style.marginRight = "6px";
        wb.appendChild(g);
        var Ra = document.createElement("select");
        Ra.style.border = "1px solid #b1b1b1";
        g = l(ol);
        for (p = g.next(); !p.done; p = g.next()) p = p.value, E = document.createElement("option"), E.innerText = p.label, E.value = p.value, Ra.appendChild(E);
        Ra.onchange = function () {
            a()
        };
        wb.appendChild(Ra);
        var xb = e();
        xb.style.display = "none";
        g = document.createElement("span");
        g.innerText = "Notify on Leave For:";
        g.style.marginRight = "6px";
        xb.appendChild(g);
        var Sa = document.createElement("select");
        Sa.style.border = "1px solid #b1b1b1";
        g = l(ol);
        for (p = g.next(); !p.done; p = g.next()) p = p.value, E = document.createElement("option"), E.innerText = p.label, E.value = p.value, Sa.appendChild(E);
        Sa.onchange = function () {
            a()
        };
        xb.appendChild(Sa);
        g = e();
        p = document.createElement("span");
        p.innerText = ac + ":";
        p.style.marginRight = "6px";
        p.style.marginTop = "16px";
        g.appendChild(p);
        var Ea = this.N(new $k({
            fb: 16,
            Hd: 200,
            un: "#92b2d7",
            bn: "#cccccc",
            en: "#92b2d7"
        }));
        Ea.a.style.display = "inline-block";
        Ea.a.style.verticalAlign = "top";
        g.appendChild(Ea.a);
        var Tb = document.createElement("span");
        Tb.innerText = "100%";
        Tb.style.marginLeft = "6px";
        g.appendChild(Tb);
        q(Ea.lk, function (a) {
            b(a)
        });
        q(Ea.mk, b);
        q(Ea.kk, function (c) {
            t(f.pp, c);
            b(c);
            a();
            O("ChangeTipVolume", {
                volume: c
            })
        });
        var yb;
        g = e();
        this.yc = document.createElement("span");
        this.yc.innerText = "" + bc;
        this.yc.style.marginTop = "16px";
        this.yc.style.color = "#0a5a83";
        this.yc.style.cursor = "pointer";
        this.yc.onclick = function () {
            Ih('You must be logged in to edit ignored users. Click "OK" to login.') || (void 0 === yb && (yb = new Xk), yb.show())
        };
        this.yc.onmouseenter = function () {
            f.yc.style.textDecoration = "underline"
        };
        this.yc.onmouseleave = function () {
            f.yc.style.textDecoration = "none"
        };
        g.appendChild(this.yc);
        q(T, function (a) {
            f.pa = a.h.pa;
            f.da = a.h.i;
            f.hc = a.h.hc;
            f.Lf = a.h.Lf;
            d(a.h.pa.jn);
            var c = l(N.children);
            for (a = c.next(); !a.done; a = c.next()) a = a.value, a.selected = a.value === f.pa.fontFamily;
            c = l(da.children);
            for (a = c.next(); !a.done; a = c.next()) a = a.value, a.selected = a.value === f.pa.fontSize;
            za.checked = f.pa.Wg;
            c = l(Ba.children);
            for (a = c.next(); !a.done; a = c.next()) a = a.value, a.selected = a.value === f.pa.Si;
            c = l(Ca.children);
            for (a = c.next(); !a.done; a = c.next()) a = a.value, a.selected = a.value === f.pa.Bn;
            if (f.hc) {
                wb.style.display = "block";
                xb.style.display = "block";
                c = l(Ra.children);
                for (a = c.next(); !a.done; a = c.next()) a = a.value, a.selected = a.value === pl(f.pa.ud);
                c = l(Sa.children);
                for (a = c.next(); !a.done; a = c.next()) a = a.value, a.selected = a.value === pl(f.pa.vd)
            } else wb.style.display = "none", xb.style.display = "none";
            cl(Ea, f.pa.ye);
            b(f.pa.ye)
        });
        this.Bh = function () {
            void 0 !== F && F.B();
            void 0 !== yb && yb.B()
        }
    }
    m(kl, w);
    var ll = [{
            label: "Default",
            value: "default"
        }, {
            label: "Arial",
            value: "Arial, Helvetica"
        }, {
            label: "Bookman Old Style",
            value: "Bookman Old Style"
        }, {
            label: "Comic Sans",
            value: '"Comic Sans MS", cursive'
        }, {
            label: "Courier",
            value: '"Courier New"'
        }, {
            label: "Lucida",
            value: "Lucida"
        }, {
            label: "Palantino",
            value: "Palantino"
        }, {
            label: "Tahoma",
            value: "Tahoma, Geneva"
        }, {
            label: "Times New Roman",
            value: '"Times New Roman"'
        }],
        ml = [{
            label: "Turn Off Autocomplete",
            value: "-1"
        }, {
            label: "No Delay - 0 Seconds",
            value: "0"
        }, {
            label: "Short - 0.5 Seconds",
            value: "500"
        }, {
            label: "Medium - 1 Second",
            value: "1000"
        }, {
            label: "Long - 1.5 Seconds",
            value: "1500"
        }],
        nl = [{
            label: "Dark Purple (Tipped 1000 recently)",
            value: "darkpurple"
        }, {
            label: "Light Purple (Tipped 250 recently)",
            value: "lightpurple"
        }, {
            label: "Dark Blue (Tipped 50 recently)",
            value: "darkblue"
        }, {
            label: "Light Blue (Owns or purchased tokens)",
            value: "lightblue"
        }],
        ol = [{
            label: "All Registered Users",
            value: "orga"
        }, {
            label: "Mods, Fans, and Users With Tokens",
            value: "orgb"
        }, {
            label: "Mods and Fans",
            value: "org"
        }, {
            label: "No Users",
            value: "none"
        }];

    function pl(a) {
        switch (a) {
            case 0:
                return "orga";
            case 1:
                return "orgb";
            case 2:
                return "org";
            case 3:
                return "none";
            default:
                return v("Invalid enter/leave setting: " + a), "orgb"
        }
    }
    var ql = new kl;

    function rl() {
        function a() {
            ql.Bh();
            void 0 !== b.parent && b.parent.nh(0)
        }
        X.call(this);
        var b = this;
        this.a.id = "settings-tab";
        this.a.style.color = "#ffffff";
        this.a.style.fontSize = "12px";
        this.a.style.fontFamily = "Tahoma, Arial, Helvetica, sans-serif";
        ya(this, ql);
        ql.yc.style.color = "#85ffff";
        this.Y = dk();
        this.Y.style.position = "absolute";
        var c = ck();
        this.K = ek();
        this.K.onclick = a;
        this.K.onfocus = a;
        this.hb = fk();
        this.hb.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        this.ef = hk();
        this.ef.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        c.appendChild(this.K);
        this.Y.appendChild(c);
        this.Y.appendChild(this.hb);
        this.Y.appendChild(this.ef);
        this.a.appendChild(this.Y);
        var d = document.createElement("div");
        d.innerText = od;
        d.style.position = "absolute";
        d.style.top = "10px";
        d.style.right = "10px";
        d.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        d.style.color = "#000000";
        d.style.backgroundColor = "#d8deea";
        d.style.border = "1px solid #acacac";
        d.style.borderRadius = "4px";
        d.style.padding = "8px 12px";
        d.style.opacity = "0";
        this.a.appendChild(d);
        q(Mj, function (a) {
            b.T = a.Wa;
            "default" !== b.T && (ya(b, ql), ql.yc.style.color = "#85ffff")
        });
        var e;
        q(ql.Fk, function () {
            clearTimeout(e);
            pg(d, "250ms");
            d.style.opacity = "1";
            e = setTimeout(function () {
                pg(d, "1000ms");
                d.style.opacity = "0"
            }, 3E3)
        })
    }
    m(rl, X);
    k = rl.prototype;
    k.C = function () {
        if ("default" !== this.T) {
            this.Y.style.width = this.a.clientWidth + "px";
            var a = this.hb.getBoundingClientRect();
            a = a.right - a.left;
            var b = this.ef.getBoundingClientRect();
            a = this.Y.clientWidth - 12 - 6 - Math.ceil(b.right - b.left + a) - 4;
            a = Math.max(0, a);
            this.K.style.width = a + "px";
            ql.a.style.height = this.a.clientHeight - 27 + "px"
        }
    };
    k.Je = function () {
        return "&nbsp;"
    };
    k.Sk = function () {
        return "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-preferences.png)"
    };
    k.ee = function () {
        return "settings-tab-fvm"
    };
    k.Wb = function () {};
    k.Id = function () {
        this.K.blur()
    };
    k.Ne = function () {
        return document.activeElement === this.K
    };
    k.oa = function () {};
    k.Ef = function () {
        return this.K.value
    };
    k.fg = function (a) {
        this.K.value = a
    };
    k.Ie = function () {
        return this.K
    };

    function sl() {
        var a = this;
        this.Hj = new Map;
        this.Fm = function (b) {
            a.Hj.set(b, (new Date).getTime())
        };
        this.Co = function (b) {
            a.Hj["delete"](b)
        };
        setInterval(function () {
            for (var b = (new Date).getTime(), c = l(a.Hj), d = c.next(); !d.done; d = c.next()) d = d.value, 5E3 < b - d[1] && a.Co(d[0])
        }, 5E3);
        q(og, function (b) {
            a.Co(b)
        })
    }

    function tl(a, b) {
        var c = a.Hj.get(b);
        if (void 0 !== c && 5E3 > (new Date).getTime() - c) return a.Fm(b), !1;
        a.Fm(b);
        return !0
    };

    function ul() {
        Oi.call(this);
        var a = this;
        this.fl = !1;
        this.a.style.overflow = "";
        this.ba = Pi(this, new Ck);
        this.ua = Pi(this, new Nk(this, function () {
            Ui(a, a.ba)
        }));
        Pi(this, new rl);
        Ui(this, this.ba);
        q(T, function (b) {
            q(b.j.event.cg, function (b) {
                Dk(a.ba);
                a.ba.w.ra(Aj(b))
            });
            q(b.j.event.R, function (b) {
                a.ba.w.ra(Cj(b));
                b.W && a.ua.El(Cj(b))
            });
            q(b.j.event.Wf, function (b) {
                a.ua.ra(Aj(b), b.eb.username, b.Al)
            });
            q(b.j.event.Og, function (b) {
                a.ba.Yi(b.username);
                a.ba.w.Ml(b.username);
                a.ua.hd(b.username)
            })
        });
        var b = new sl;
        q(this.ua.Uh, function (c) {
            (a.fl || c.oj) && tl(b, c.username) && a.ba.w.ra(Cj({
                V: [
                    [{
                        Yb: 1,
                        message: "New private " + (c.oj ? "conversation" : "message") + " from " + c.username + " "
                    }, {
                        Yb: 1,
                        message: "(Press TAB to cycle through your conversations)",
                        ma: "#cd0000",
                        weight: "700"
                    }]
                ],
                W: !1
            }))
        })
    }
    m(ul, Oi);
    k = ul.prototype;
    k.C = function () {
        this.window.style.height = this.a.clientHeight - this.ub.offsetHeight + "px"
    };
    k.Ya = function () {
        return Oi.prototype.Ya.call(this)
    };
    k.children = function () {
        return Oi.prototype.children.call(this)
    };
    k.Mk = function () {
        ql.Bh();
        if (Oi.prototype.Ya.call(this) === this.ba) {
            if (!this.ua.Hg()) {
                Ui(this, this.ua);
                var a = this.ua;
                a.Kc();
                Gk(a.ta);
                Ok(this.ua) || v("no pmSessions")
            }
        } else 0 < this.ba.O ? Ui(this, this.ba) : Ok(this.ua) || Ui(this, this.ba)
    };

    function vl(a) {
        ql.Bh();
        if (Oi.prototype.Ya.call(a) === a.ba) {
            if (!a.ua.Hg()) {
                Ui(a, a.ua);
                var b = a.ua;
                b.Kc();
                for (b = b.ta;;) {
                    var c = b.yf.fd.pop();
                    if (void 0 === c) break;
                    sg(b.wf, c)
                }
                void 0 !== b.Ka && (sg(b.wf, b.Ka), b.Ka = void 0);
                Pk(a.ua) || v("no pmSessions")
            }
        } else Pk(a.ua) || Ui(a, a.ba)
    }
    k.uf = function () {
        Oi.prototype.Ya.call(this) === this.ua && this.ua.uf()
    };

    function wl(a, b, c) {
        var d = document.createElement("div");
        d.style.position = "absolute";
        d.style.height = "0";
        d.style.width = "0";
        d.style.top = "-8px";
        d.style.left = c;
        c = document.createElement("div");
        c.style.borderLeft = "8px solid transparent";
        c.style.borderRight = "8px solid transparent";
        c.style.borderBottom = "8px solid " + a;
        d.appendChild(c);
        a = document.createElement("div");
        a.style.position = "absolute";
        a.style.top = "3px";
        a.style.left = "3px";
        a.style.borderLeft = "5px solid transparent";
        a.style.borderRight = "5px solid transparent";
        a.style.borderBottom = "5px solid " + b;
        c.appendChild(a);
        return d
    }

    function xl(a) {
        var b = document.createElement("div");
        b.style.position = "absolute";
        b.style.height = "0";
        b.style.width = "0";
        b.style.bottom = "0";
        b.style.left = a;
        a = document.createElement("div");
        a.style.borderLeft = "8px solid transparent";
        a.style.borderRight = "8px solid transparent";
        a.style.borderTop = "8px solid #0b5d81";
        b.appendChild(a);
        var c = document.createElement("div");
        c.style.position = "absolute";
        c.style.top = "0";
        c.style.left = "3px";
        c.style.borderLeft = "5px solid transparent";
        c.style.borderRight = "5px solid transparent";
        c.style.borderTop = "5px solid #ffffff";
        a.appendChild(c);
        return b
    }

    function yl() {
        var a = document.createElement("div");
        a.style.position = "absolute";
        a.style.height = "0";
        a.style.width = "0";
        a.style.left = "-8px";
        a.style.top = "30px";
        var b = document.createElement("div");
        b.style.borderTop = "8px solid transparent";
        b.style.borderBottom = "8px solid transparent";
        b.style.borderRight = "8px solid #0b5d81";
        a.appendChild(b);
        var c = document.createElement("div");
        c.style.position = "absolute";
        c.style.top = "3px";
        c.style.left = "3px";
        c.style.borderTop = "5px solid transparent";
        c.style.borderBottom = "5px solid transparent";
        c.style.borderRight = "5px solid #ffffff";
        b.appendChild(c);
        return a
    };
    var zl = new n("emoticonAdded");

    function Al(a) {
        function b(a) {
            var b = d.ia.Ya().Ie();
            ":" === a[0] && (a = a.slice(1));
            void 0 !== b && (b.value = "" === b.value ? ":" + a + " " : b.value + " :" + a + " ", t(zl, void 0))
        }

        function c(a, c) {
            var f = document.createElement("img");
            f.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/emoticons/" + a + "." + (void 0 === c ? "gif" : c);
            f.style.margin = "1px";
            f.style.cursor = "pointer";
            f.onclick = function () {
                b(a);
                d.B()
            };
            e.appendChild(f)
        }
        Lj.call(this);
        var d = this;
        this.ia = a;
        this.a.style.visibility = "hidden";
        this.a.style.width = "356px";
        this.a.style.height = "146px";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.border = "2px solid #0b5d81";
        this.a.style.borderRadius = "4px";
        this.a.style.top = "";
        this.a.style.right = "0";
        this.a.style.overflow = "";
        this.a.appendChild(xl("313px"));
        z("keydown", document.documentElement, function (a) {
            27 === a.keyCode && d.B()
        });
        a = document.createElement("div");
        a.innerText = Ld;
        a.style.color = "#0b5d81";
        a.style.backgroundColor = "#e0e0e0";
        a.style.fontSize = "15px";
        a.style.fontFamily = "UbuntuBold, Arial, Helvetica, sans-serif";
        a.style.fontWeight = "bold";
        a.style.padding = "6px";
        this.a.appendChild(a);
        var e = document.createElement("div");
        e.style.width = "100%";
        e.style.padding = "8px";
        e.style.boxSizing = "border-box";
        this.a.appendChild(e);
        c("lmao");
        c("oo", "png");
        c("kissy", "png");
        c("gangsta", "png");
        c("yawn");
        c("innocent");
        c("help");
        c("rofl");
        c("bow");
        c("upset");
        c("what");
        c("hearts");
        c("yes");
        c("thumbsup");
        c("hello");
        c("crazy");
        c("smoke");
        c("bounce");
        c("angel");
        c("woot");
        c("wink");
        c("thumbup");
        c("thumbdown");
        c("smile");
        c("ohmy");
        c("mellow");
        c("roll");
        c("huh");
        c("drool");
        c("cry");
        c("cool");
        c("confused");
        c("curse");
        c("blush");
        var f = document.createElement("a");
        f.innerHTML = Md + " &#9656;";
        f.href = "/emoticons/";
        f.style.fontSize = "13px";
        f.style.cssFloat = "right";
        f.style.color = "#dc5500";
        f.style.cursor = "pointer";
        f.style.margin = "12px 4px";
        f.onmouseenter = function () {
            f.style.textDecoration = "underline"
        };
        f.onmouseleave = function () {
            f.style.textDecoration = "none"
        };
        f.onclick = function () {
            Eg(f.href, "_blank", "height=615, width=850");
            d.B();
            return !1
        };
        e.appendChild(f);
        q(this.jc, function () {
            d.B()
        });
        window.use_uploaded_emoticon = function (a) {
            b(a)
        }
    }
    m(Al, Lj);
    Al.prototype.C = function () {
        if (void 0 === this.Ok) this.B();
        else {
            var a = this.ia.Ya().Ie();
            void 0 !== a && (this.a.style.bottom = a.offsetHeight + 20 + "px", this.a.style.left = this.Ok.offsetLeft + this.Ok.offsetWidth - this.a.offsetWidth + 25 + "px")
        }
    };
    Al.prototype.show = function (a) {
        this.Ok = a;
        this.Dc();
        this.C();
        this.a.style.visibility = "visible"
    };
    Al.prototype.B = function () {
        this.gc();
        this.a.style.visibility = "hidden"
    };
    var Bl = window.$;

    function Cl() {
        return void 0 === Bl || void 0 === Bl.login_box_showing ? !1 : Bl.login_box_showing()
    };

    function Dl(a) {
        var b = new ul;
        jh.call(this, a, b, {
            $c: "Chat",
            minWidth: 150,
            minHeight: 100,
            Ld: 400,
            Kd: 250,
            Jd: [1, 3],
            Xe: !0,
            Aj: function () {
                c.ia.Ya().Wb()
            },
            eo: function () {
                c.ia.Ya().oa()
            },
            Uk: [b.ub]
        });
        var c = this;
        Ha() ? this.qa.style.background = "rgba(0,0,0,0.6)" : this.qa.style.background = "#000";
        this.qa.style.borderColor = "#ccc";
        q(b.ba.w.ln, function () {
            c.blur()
        });
        z("blur", b.ba.w.K, function () {
            if (a.fj !== c || Cl()) a.Jb = void 0, t(a.Qk, void 0)
        });
        z("mouseleave", this.a, function () {
            a.fj = void 0;
            t(a.Bm, void 0)
        });
        var d = !0;
        q(T, function (a) {
            d = a.j.yb
        });
        var e;
        q(Mj, function (a) {
            e = a.Wa;
            void 0 !== f && "default" === e && f.B()
        });
        var f;
        q(Bi, function (a) {
            d ? t(kg, void 0) : "default" !== e && (void 0 === f && (f = c.N(new Al(b))), f.show(a))
        });
        this.ia = b
    }
    m(Dl, jh);
    var El;
    q(T, function (a) {
        El = a.j.i()
    });
    var Fl = {
        "---": "---",
        underage: "Broadcaster is underage",
        advertising: "Broadcaster is advertising",
        abusive: "Broadcaster is abusive",
        intoxicated: "Broadcaster is intoxicated",
        "large toy": "Broadcaster is using a toy that is too large",
        "offline payments": "Broadcaster is asking for offline payments",
        "public broadcast": "Broadcaster is broadcasting in public",
        "service uniform": "Broadcaster is broadcasting in service uniform",
        sleeping: "Broadcaster is sleeping",
        gender: "Broadcaster is wrong gender",
        other: "Other"
    };

    function Gl() {
        w.call(this);
        var a = this;
        this.Ki = new n("closeReportAbuseRequest");
        this.a.style.color = "#454545";
        this.a.style.fontFamily = "UbuntuBold, Arial, Helvetica, sans-serif";
        this.a.style.fontSize = "11px";
        var b = document.createElement("form"),
            c = document.createElement("div");
        this.Be = document.createElement("label");
        this.Be.style.color = S.Fa;
        this.Be.style.margin = "6px";
        this.Be.htmlFor = "abuse-category";
        this.Be.innerText = "Choose a category:";
        c.appendChild(this.Be);
        this.gd = document.createElement("select");
        this.gd.id = "abuse-category";
        this.gd.style.margin = "6px";
        this.gd.style.boxSizing = "border-box";
        for (var d in Fl) {
            var e = document.createElement("option");
            e.value = d;
            e.innerText = Fl[d];
            this.gd.appendChild(e)
        }
        c.appendChild(this.gd);
        b.appendChild(c);
        c = document.createElement("div");
        c.style.paddingTop = "6px";
        d = document.createElement("label");
        d.style.margin = "6px";
        d.htmlFor = "abuse-comments";
        d.innerText = "Additional Comments:";
        c.appendChild(d);
        this.Rb = document.createElement("textarea");
        this.Rb.id = "abuse-comments";
        this.Rb.maxLength = 255;
        this.Rb.style.width = "100%";
        this.Rb.style.resize = "none";
        this.Rb.style.margin = "6px";
        this.Rb.style.padding = "4px";
        this.Rb.style.border = "1px solid #4b4c4b";
        this.Rb.style.borderRadius = "4px";
        this.Rb.style.boxSizing = "border-box";
        this.Rb.style.display = "block";
        c.appendChild(this.Rb);
        b.appendChild(c);
        this.ug = document.createElement("div");
        this.ug.style.cssFloat = "right";
        this.ug.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
        c = document.createElement("span");
        c.innerText = "REPORT";
        c.style.color = "#ffffff";
        c.style.padding = "3px 6px 4px 5px";
        c.style.marginRight = "6px";
        c.style.backgroundColor = "#eb3404";
        Ia() && (c.style.background = "linear-gradient(#f66d51, #eb3404)");
        c.style.borderRadius = "4px";
        c.style.boxSizing = "border-box";
        c.style.cursor = "pointer";
        c.style.display = "inline-block";
        d = document.createElement("span");
        d.innerText = "CANCEL";
        d.style.color = "#ffffff";
        d.style.padding = "3px 6px 4px 5px";
        d.style.marginRight = "6px";
        d.style.backgroundColor = "#383838";
        Ia() && (d.style.background = "linear-gradient(#8b8b8b, #686868)");
        d.style.borderRadius = "4px";
        d.style.boxSizing = "border-box";
        d.style.cursor = "pointer";
        d.style.display = "inline-block";
        this.ug.appendChild(d);
        this.ug.appendChild(c);
        b.appendChild(this.ug);
        z("click", c, function (b) {
            b.preventDefault();
            "other" === a.gd.value && "" === a.Rb.value ? V("Please add a description of the abuse being reported.") : "---" === a.gd.value ? V("Please choose a category.") : (Hl(a).then(function (a) {
                a.Cd ? V("Your abuse report has been submitted.") : void 0 !== a.Fn && V(a.Fn)
            })["catch"](function (a) {
                403 === a.ad.status ? V(a.ad.responseText) : V("Error sending abuse report (" + a + ")")
            }), t(a.Ki, void 0))
        });
        z("click", d, function () {
            t(a.Ki, void 0)
        });
        this.a.appendChild(b)
    }
    m(Gl, w);
    Gl.prototype.C = function () {
        this.gd.style.width = Math.max(0, this.a.clientWidth - 12 - (this.Be.offsetWidth + 2 * this.Be.offsetLeft)) + "px";
        this.Rb.style.width = Math.max(0, this.a.clientWidth - 12) + "px";
        this.Rb.style.height = Math.max(0, this.a.clientHeight - (this.ug.offsetHeight + 4 * this.Be.offsetHeight + 6 + 10)) + "px"
    };

    function Hl(a) {
        return new Promise(function (b, c) {
            return B("abuse/report/" + El + "/", {
                category: a.gd.value,
                additional_comments: a.Rb.value
            }).then(function (a) {
                a = new D(a.responseText);
                var c = {
                    Cd: "success" === I(a, "result"),
                    Fn: H(a, "html")
                };
                M(a);
                b(c)
            })["catch"](function (a) {
                c(a)
            })
        })
    };
    var Il = "1" === bb().signup_notice;

    function Jl() {
        w.call(this);
        var a = this;
        this.a.style.backgroundColor = "#f7f6a8";
        this.a.style.fontSize = "12px";
        this.a.style.padding = "3px 10px";
        this.a.style.boxSizing = "border-box";
        this.a.style.display = "none";
        this.a.style.width = "auto";
        this.a.style.height = "auto";
        var b = document.createElement("a");
        b.innerText = Sc;
        b.onclick = function () {
            O("Subscribe")
        };
        this.a.appendChild(b);
        this.a.appendChild(document.createTextNode(" -- totally free, no email needed"));
        Il && q(T, function (c) {
            b.href = "/accounts/register/?next=" + encodeURIComponent(window.location.pathname) +
                "?b=" + c.h.i;
            a.a.style.display = c.j.yb ? "block" : "none"
        })
    }
    m(Jl, w);

    function Kl(a) {
        w.call(this);
        var b = this;
        this.Qf = a;
        this.a.style.position = "static";
        this.a.style.overflow = "auto";
        this.a.style.padding = "4px 7px";
        this.a.style.boxSizing = "border-box";
        this.a.style.fontSize = "12px";
        this.a.style.minWidth = "230px";
        this.a.style.maxWidth = "230px";
        this.a.style.height = "auto";
        a = l(this.children());
        for (var c = a.next(); !c.done; c = a.next()) c.value.a.style.margin = "2px 0";
        q(T, function (a) {
            var c = !0 === a.h.ed,
                d = !0 === a.h.dd;
            Ll(b, c, d, a.j.status);
            q(a.j.event.ib, function (a) {
                Ll(b, c, d, a.ya)
            });
            q(a.j.event.Td, function (e) {
                c = e.ed;
                d = e.dd;
                Ll(b, c, d, a.j.status)
            })
        })
    }
    m(Kl, w);

    function Ll(a, b, c, d) {
        Da(a);
        a: switch (d) {
            case "privatewatching":
            case "privatespying":
            case "groupwatching":
                var e = !0;
                break a;
            default:
                e = !1
        }
        if (e) void 0 === a.Tm && (a.Tm = new Ml), a.N(a.Tm);
        else {
            a: switch (d) {
                case "privaterequesting":
                    b = !0;
                    break a;
                case "privatespying":
                case "privatewatching":
                case "privatenotwatching":
                case "groupwatching":
                case "grouprequesting":
                case "groupnotwatching":
                case "away":
                    b = !1
            }
            b && (void 0 === a.vo && (a.vo = new Nl(a.Qf)), a.N(a.vo));a: switch (d) {
                case "grouprequesting":
                case "groupnotwatching":
                    c = !0;
                    break a;
                case "groupwatching":
                case "privatewatching":
                case "privatespying":
                case "privaterequesting":
                case "privatenotwatching":
                case "away":
                    c = !1
            }
            c && (void 0 === a.tn && (a.tn = new Ol(a.Qf)), a.N(a.tn))
        }
        a.Qf()
    }

    function Pl() {
        w.call(this);
        this.a.style.display = "inline-block";
        this.a.style.height = "auto";
        this.a.style.position = "relative";
        this.a.style.padding = "5px 5px";
        this.a.style.backgroundColor = "#F3F3F3";
        this.a.style.border = "1px solid #DEDEDE";
        this.a.style.boxSizing = "border-box";
        this.a.style.borderRadius = "3px";
        this.a.style.font = "UbuntuRegular, Arial, Helvetica, sans-serif";
        this.a.style.fontSize = "12px";
        this.a.style.lineHeight = "14px";
        this.a.style.textAlign = "center"
    }
    m(Pl, w);

    function Ql(a) {
        var b = document.createElement("div");
        b.innerText = a;
        b.style.width = "100%";
        b.style.margin = "5px 0";
        b.style.fontSize = "14px";
        b.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
        b.style.fontWeight = "500";
        b.style.letterSpacing = "-0.05em";
        b.style.color = "#033E58";
        return b
    }

    function Rl(a) {
        var b = document.createElement("div");
        Ia() && (b.style.background = "linear-gradient(180deg, #4083A1 30.21%, #4063A1 78.45%)");
        Ha() && (b.style.textShadow = "0px 1px 2px rgba(0, 0, 0, 0.25)");
        b.style.display = "inline-block";
        b.innerText = a;
        b.style.border = "1px solid #3C5464";
        b.style.boxSizing = "border-box";
        b.style.borderRadius = "4px";
        b.style.color = "#FFF";
        b.style.fontWeight = "bold";
        b.style.padding = "6px 10px";
        b.style.margin = "5px 0";
        b.style.cursor = "pointer";
        b.style.textDecoration = "none";
        return b
    }

    function Nl(a) {
        Pl.call(this);
        var b = this;
        this.Qf = a;
        this.aa = Ql(Hf);
        this.button = Rl(Ff);
        this.Ve = this.Ua = 0;
        this.qf = !1;
        this.a.appendChild(this.aa);
        this.Ng = document.createElement("div");
        this.Ng.style.margin = "5px 0";
        this.Ng.style.lineHeight = "16px";
        this.Ng.style.letterSpacing = "-0.05em";
        this.ve = document.createElement("div");
        this.ve.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
        this.ve.style.color = "#49494F";
        this.Ng.appendChild(this.ve);
        this.wj = document.createElement("div");
        this.wj.style.color = "#999";
        this.Ng.appendChild(this.wj);
        this.a.appendChild(this.Ng);
        this.a.appendChild(this.button);
        this.Vf = document.createElement("div");
        this.Vf.innerText = yf;
        this.Vf.style.fontSize = "9px";
        this.Vf.style.color = "#49494F";
        this.Vf.style.lineHeight = "125%";
        this.Vf.style.margin = "5px 0";
        this.a.appendChild(this.Vf);
        q(T, function (a) {
            q(a.j.event.ib, function (c) {
                "privaterequesting" === c.ya ? (b.button.innerText = Ef, b.button.onclick = function () {
                    a.j.Lh().then(function (a) {
                        "" !== a && V(a)
                    })
                }) : (b.button.innerText = Ff, b.button.onclick = function () {
                    hj(a.j)
                }, b.update())
            });
            q(a.j.event.Td, function (c) {
                Sl(b, c.qf, c.Ua, c.Ve);
                switch (a.j.status) {
                    case "grouprequesting":
                    case "privaterequesting":
                        break;
                    default:
                        b.update()
                }
            });
            Sl(b, a.h.qf, a.h.Ua, a.h.Ve);
            b.update()
        })
    }
    m(Nl, Pl);

    function Sl(a, b, c, d) {
        void 0 !== b && (a.qf = b);
        void 0 !== c && (a.Ua = c);
        void 0 !== d && (a.Ve = d)
    }
    Nl.prototype.update = function () {
        this.ve.innerText = Ib(this.Ua);
        var a = this.wj;
        var b = this.Ve;
        b = R(Q("(minimum %(minMinutes)s minutes)"), {
            minMinutes: b
        }, !0);
        a.innerText = b;
        this.wj.style.display = 0 === this.Ve ? "none" : "block";
        this.Vf.style.display = this.qf ? "block" : "none";
        this.Qf()
    };

    function Ol(a) {
        Pl.call(this);
        var b = this;
        this.Qf = a;
        this.ve = document.createElement("div");
        this.oi = document.createElement("div");
        this.aa = Ql(zf);
        this.button = Rl(Bf);
        this.lg = this.Fd = this.Ra = 0;
        this.a.appendChild(this.aa);
        this.ve.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
        this.ve.style.color = "#49494F";
        this.oi.style.color = "#999";
        a = document.createElement("div");
        a.appendChild(this.ve);
        a.appendChild(this.oi);
        this.a.appendChild(a);
        this.a.appendChild(this.button);
        q(T, function (a) {
            Tl(b, a.j.status, a.h.Ra, a.h.bo, a.h.ao);
            q(a.j.event.Cg, function (c) {
                Tl(b, a.j.status, void 0, c.Fd, c.lg)
            });
            q(a.j.event.Td, function (c) {
                Tl(b, a.j.status, c.Ra, void 0, c.rl)
            });
            q(a.j.event.ib, function (c) {
                "grouprequesting" === c.ya ? (Tl(b, c.ya), b.button.onclick = function () {
                    a.j.Kh()
                }) : ("groupnotwatching" === c.ya && "groupwatching" === c.Qc && --b.Fd, Tl(b, c.ya), b.button.onclick = function () {
                    jj(a.j)
                })
            });
            q(a.j.event.Qg, function (c) {
                "groupwatching" === a.j.status && (b.Fd = c - 1, Tl(b, a.j.status))
            })
        })
    }
    m(Ol, Pl);

    function Tl(a, b, c, d, e) {
        void 0 !== c && (a.Ra = c);
        void 0 !== d && (a.Fd = d);
        void 0 !== e && (a.lg = e);
        "grouprequesting" === b ? (a.oi.style.display = "block", a.button.innerText = Cf) : (a.button.innerText = Bf + " ( " + a.Fd + " / " + a.lg + " )", a.oi.style.display = "none");
        a.oi.innerText = Fc + " ( " + a.Fd + " / " + a.lg + " )";
        a.ve.innerText = Ib(a.Ra);
        a.Qf()
    }

    function Ml() {
        w.call(this);
        var a = this;
        this.dh = document.createElement("div");
        this.a.style.display = "inline-block";
        this.a.style.height = "auto";
        this.a.style.position = "relative";
        this.a.style.boxSizing = "border-box";
        this.a.style.borderRadius = "3px";
        this.a.style.font = "UbuntuRegular, Arial, Helvetica, sans-serif";
        this.a.style.fontSize = "12px";
        this.a.style.lineHeight = "14px";
        this.a.style.minWidth = "200px";
        this.a.style.textAlign = "center";
        this.dh.style.display = "block";
        this.dh.style.fontSize = "16px";
        this.dh.style.lineHeight = "18px";
        this.dh.style.margin = "5px 0";
        this.a.appendChild(this.dh);
        var b = document.createElement("div");
        Ha() && (b.style.textShadow = "0px 1px 2px rgba(0, 0, 0, 0.25)");
        Ia() ? b.style.background = "linear-gradient(180deg, #FD5035 16.39%, #C51B01 86.03%)" : b.style.backgroundColor = "#FD5035";
        b.style.display = "inline-block";
        b.style.boxSizing = "border-box";
        b.style.borderRadius = "4px";
        b.style.color = "#FFF";
        b.style.padding = "6px 10px";
        b.style.margin = "5px 0";
        b.style.cursor = "pointer";
        b.style.textDecoration = "none";
        this.a.appendChild(b);
        q(T, function (c) {
            Ul(a, c.h.Va);
            q(c.j.event.bk, function (b) {
                b.eb.username === c.j.username() && Ul(a, a.Hp - b.Ja)
            });
            q(c.j.event.ib, function (a) {
                function d() {
                    Fh(xf, function () {
                        c.j.Lh().then(function (a) {
                            "" !== a && V(a)
                        })
                    })
                }
                switch (a.ya) {
                    case "privatewatching":
                        b.innerText = Df;
                        b.onclick = d;
                        break;
                    case "privatespying":
                        b.innerText = Gf;
                        b.onclick = d;
                        break;
                    case "groupwatching":
                        b.innerText = Af;
                        b.onclick = function () {
                            kj(c.j)
                        };
                        break;
                    default:
                        b.onclick = function () {}
                }
            })
        });
        q(li, function (b) {
            Ul(a, b.qc)
        })
    }
    m(Ml, w);

    function Ul(a, b) {
        a.Hp = b;
        a.dh.innerText = b + " " + vb(b)
    };

    function Vl(a, b) {
        a = void 0 === a ? "fullvideo" : a;
        w.call(this);
        var c = this;
        this.Tg = b;
        this.Pp = [];
        this.kh = new rg;
        this.eq = new n("focusChanging", {
            Rd: !1
        });
        this.Qk = new n("focusChanged", {
            Rd: !1
        });
        this.Lr = new n("windowOpened", {
            Rd: !1
        });
        this.Kr = new n("windowClosed", {
            Rd: !1
        });
        this.Bm = new n("windowHover", {
            Rd: !1
        });
        this.a.style.overflow = "";
        this.X = Wl(this, new Dl(this));
        q(Ci, function () {
            c.X.ob || (c.X.a.style.display = "", c.X.ob = !0);
            lh(c, c.X);
            x(c.X)
        });
        q(cg, function () {
            if (void 0 !== c.zm && c.zm.ob) c.removeChild(c.zm);
            else {
                Xl(c, "Users");
                var a = new Ni,
                    b = ["privatewatching", "groupwatching"],
                    d = function (c) {
                        (0 <= b.indexOf(c.Qc) || 0 <= b.indexOf(c.ya)) && setTimeout(function () {
                            a.refresh(!1)
                        }, 2E3);
                        "notconnected" === c.Qc && (a.refresh(!1), a.a.scrollTop = 0)
                    },
                    e = !0,
                    f = function (b) {
                        q(b.j.event.ib, d, !1);
                        e || void 0 === b.h.yj || a.clear(b.h.yj);
                        e = !1
                    };
                q(T, f);
                var C = Wl(c, new jh(c, a, {
                    title: sd,
                    Xe: !0,
                    $c: "Users",
                    minWidth: 100,
                    minHeight: 100,
                    Ld: 190,
                    Kd: 230,
                    Jd: [0, 2]
                }));
                a.a.style.overflowY = "auto";
                x(c);
                q(a.vm, function (a) {
                    oh(C, sd + " (" + a + ")")
                });
                C.Te = function () {
                    T.removeListener(f)
                };
                c.zm = C
            }
        });
        q(hg, function () {
            c.X.ob ? (c.X.a.style.display = "none", c.X.ob = !1) : (c.X.a.style.display = "", c.X.ob = !0, lh(c, c.X));
            x(c)
        });
        q(zi, function () {
            void 0 !== c.ul && c.ul.ob ? c.removeChild(c.ul) : (Yl(c), x(c))
        });
        q(bg, function (a) {
            function b(a) {
                oh(e, a.h.i)
            }
            Xl(c, "Bio");
            var d = new Ig(a),
                e = Wl(c, new jh(c, d, {
                    title: a,
                    Xe: !0,
                    $c: "Bio",
                    Kd: 400,
                    Ld: 360,
                    minWidth: 360,
                    minHeight: 100,
                    Jd: [0, 2],
                    Te: function () {
                        T.removeListener(b)
                    }
                }));
            q(T, b, !1);
            x(c)
        });
        var d;
        q(T, function (a) {
            void 0 !== a.h.gb ? d = a.h.gb : v("isAgeVerified is not defined.")
        });
        var e;
        q(dg, function (b) {
            if (void 0 !== c.ac && c.ac.ob) void 0 !== c.Pb && c.Pb.fm || c.removeChild(c.ac);
            else {
                O("OpenTipCallout");
                void 0 === c.Pb && (c.Pb = new si(a), q(c.Pb.$n, function (a) {
                    e = a.Ja;
                    void 0 !== c.ac && t(dg, {})
                }));
                void 0 === b.Ja && (b.Ja = e);
                var f = function () {
                    void 0 !== c.ac && c.removeChild(c.ac)
                };
                if (d) var h = !Ih('You must be logged in to tip. Click "OK" to login.');
                else V("This broadcaster doesn't accept tips."), h = !1;
                h && (void 0 !== c.Tg && c.Tg.Lm(c.Pb), c.Pb.show(b), void 0 !== c.ac ? lh(c, c.ac) : (h = l(c.Pb.sn()), b = h.next().value, h = h.next().value, c.ac = Wl(c, new jh(c, c.Pb, {
                    title: jc,
                    Xe: !1,
                    $c: "Tip",
                    minWidth: b + 4,
                    minHeight: h + 4,
                    Ld: b,
                    Kd: h,
                    Jd: [4],
                    Te: function () {
                        T.removeListener(f);
                        c.ac = void 0
                    },
                    Aj: function () {
                        void 0 !== c.Pb && ti(c.Pb)
                    },
                    zl: function (a) {
                        if (void 0 === c.ac) return v("undefined tipwindow"), !0;
                        27 === a.keyCode ? c.removeChild(c.ac) : 83 === a.keyCode && a.ctrlKey && c.removeChild(c.ac);
                        return !0
                    }
                })), c.ac.qa.style.boxSizing = "", q(T, f, !1), x(c)))
            }
        });
        var f;
        q(T, function (a) {
            0 < a.h.rg.length && (f = a.h.rg[0].tk, void 0 !== c.Dp && oh(c.Dp, "App: " + f));
            void 0 !== c.pb && c.pb.ob && c.removeChild(c.pb);
            var b = a.j.status,
                d = !0 !== a.h.gb || !0 !== a.h.ed && !0 !== a.h.dd;
            q(a.j.event.ib, function (a) {
                b = a.ya;
                switch (a.ya) {
                    case "unknown":
                    case "offline":
                    case "notconnected":
                    case "away":
                    case "hidden":
                    case "privatenotwatching":
                    case "passwordprotected":
                        void 0 !== c.pb && c.pb.ob && c.removeChild(c.pb);
                        break;
                    case "privaterequesting":
                    case "privatewatching":
                    case "privatespying":
                    case "grouprequesting":
                    case "groupwatching":
                        break;
                    default:
                        d && void 0 !== c.pb && c.pb.ob && c.removeChild(c.pb)
                }
            });
            var e = ["privaterequesting", "privatespying", "privatewatching", "grouprequesting", "groupwatching"];
            q(a.j.event.Td, function (a) {
                (d = !a.ed && !a.dd) && -1 === e.indexOf(b) && void 0 !== c.pb && c.pb.ob && c.removeChild(c.pb)
            })
        });
        q(fg, function () {
            void 0 !== c.Gd && c.Gd.ob ? c.removeChild(c.Gd) : (void 0 !== c.Gd && c.removeChild(c.Gd), c.Yd = new Gl, c.Gd = Wl(c, new jh(c, c.Yd, {
                title: ud,
                Xe: !0,
                $c: "Abuse",
                minWidth: 270,
                minHeight: 200,
                Ld: 270,
                Kd: 200,
                Jd: [3, 1],
                Aj: function () {
                    void 0 !== c.Yd && c.Yd.gd.focus()
                },
                zl: function () {
                    return !0
                },
                Te: function () {
                    c.Gd = void 0
                }
            })), x(c), q(c.Yd.Ki, function () {
                void 0 !== c.Gd && c.removeChild(c.Gd)
            }))
        });
        q(gg, function () {
            void 0 !== c.pb && c.pb.ob ? c.removeChild(c.pb) : (void 0 === c.uo && (c.uo = new Kl(function () {
                void 0 !== c.pb && c.pb.ob && c.pb.Dl.apply()
            })), c.pb = Wl(c, new jh(c, c.uo, {
                title: wf,
                Xe: !1,
                $c: "PrivateAndGroup",
                zi: !0,
                minWidth: 248,
                minHeight: 270,
                Ld: 248,
                Kd: 270,
                Jd: [2, 1]
            })), x(c))
        });
        this.wi = new Jl;
        this.a.appendChild(this.wi.a);
        "1" === bb().room_list && Yl(this);
        lh(this, void 0)
    }
    m(Vl, w);

    function Yl(a) {
        Xl(a, "Rooms");
        var b = new $h,
            c = 225 + Mg();
        a.ul = Wl(a, new jh(a, b, {
            title: wd,
            Xe: !0,
            $c: "Rooms",
            minWidth: c,
            minHeight: 100,
            Ld: c,
            Kd: 385,
            Jd: [1, 2],
            Te: function () {
                b.close()
            }
        }))
    }
    Vl.prototype.C = function () {
        w.prototype.C.call(this);
        for (var a = l([].concat(this.kh.fd)), b = a.next(); !b.done; b = a.next()) b.value.Dl.apply();
        void 0 !== this.wi && (this.wi.a.style.left = (this.a.clientWidth - this.wi.a.offsetWidth) / 2 + "px")
    };

    function lh(a, b) {
        if (!a.Tq && a.Jb !== b) {
            if (void 0 !== a.Jb) {
                var c = a.Jb;
                c.qa.style.opacity = void 0 !== c.F.Kp ? c.F.Kp : "1";
                void 0 !== c.F.eo && c.F.eo();
                if (document.activeElement !== document.body && void 0 !== document.activeElement && null !== document.activeElement) try {
                    document.activeElement.blur()
                } catch (f) {}
            }
            t(a.eq, b);
            if (void 0 !== b) {
                O("FocusWindow", {
                    windowName: b.F.$c
                });
                a.kh.cd(b);
                c = a.children().length + 10;
                for (var d = l([].concat(a.kh.fd)), e = d.next(); !e.done; e = d.next()) e.value.a.style.zIndex = "" + c, --c;
                d = l(a.Pp);
                for (e = d.next(); !e.done; e = d.next()) e.value.a.style.zIndex = "" + c, --c;
                b.qa.style.opacity = "1";
                void 0 !== b.F.Aj && b.F.Aj()
            }
            a.Jb = b;
            t(a.Qk, b)
        }
    }
    Vl.prototype.N = function () {
        throw Error("addChild not supported");
    };

    function Wl(a, b) {
        q(b.an, function (b) {
            a.Tq = b
        });
        z("mousedown", b.a, function (c) {
            a.Jb !== b && (lh(a, b), c.preventDefault())
        });
        z("mouseover", b.a, function () {
            a.fj = b;
            t(a.Bm, b)
        });
        a.kh.cd(b);
        w.prototype.N.call(a, b, void 0);
        lh(a, b);
        t(a.Lr, b);
        b.ob = !0;
        return b
    }
    Vl.prototype.removeChild = function (a) {
        a.ob = !1;
        void 0 !== a.Te && a.Te();
        lh(this, void 0);
        this.kh.remove(a);
        w.prototype.removeChild.call(this, a);
        t(this.Kr, a)
    };

    function Xl(a, b) {
        for (var c = l([].concat(a.kh.fd)), d = c.next(); !d.done; d = c.next())
            if (d = d.value, d.F.$c === b) {
                a.removeChild(d);
                d === a.Jb && lh(a, void 0);
                break
            }
    };

    function Zl(a) {
        Lj.call(this);
        var b = this;
        this.u = a;
        this.Xf = new Map;
        this.a.style.visibility = "hidden";
        this.a.style.width = "auto";
        this.a.style.minWidth = "100px";
        this.a.style.height = "auto";
        this.a.style.position = "absolute";
        this.a.style.borderRadius = "2px";
        this.a.style.fontSize = "14px";
        this.a.style.textAlign = "center";
        Ha() ? this.a.style.backgroundColor = "rgba(0, 0, 0, 0.3)" : this.a.style.backgroundColor = "black";
        this.a.onclick = function () {
            b.B()
        };
        q(this.u.Oc, function (a) {
            b.Xf.clear();
            b.clear();
            for (var c = l(a), e = c.next(); !e.done; e = c.next()) e = e.value, b.Xf.set(e.label, e.value), b.a.appendChild(b.Hk(e));
            0 === a.length ? b.u.mb.zn() : b.u.mb.Ro()
        });
        q(this.jc, function () {
            b.B()
        });
        this.B()
    }
    m(Zl, Lj);
    k = Zl.prototype;
    k.C = function () {
        this.a.style.right = "0px";
        this.a.style.bottom = this.u.mb.Kb() + "px"
    };
    k.Hk = function (a) {
        var b = this,
            c = document.createElement("div");
        c.innerText = a.label;
        c.style.color = "#ffffff";
        c.style.padding = "1px";
        c.style.width = "100%";
        Ha() ? c.style.border = "1px solid rgba(255, 255, 255, 0.5)" : c.style.border = "1px solid black";
        c.onmouseenter = function () {
            c.style.color = "#fc760c";
            c.style.borderColor = "#fc760c"
        };
        c.onmouseleave = function () {
            c.style.color = "#FFFFFF";
            Ha() ? c.style.borderColor = "rgba(255, 255, 255, 0.5)" : c.style.borderColor = "black"
        };
        a.bh ? Ha() ? c.style.backgroundColor = "rgba(204, 204, 204, 0.6)" : c.style.backgroundColor = "lightgrey" : c.onclick = function () {
            O("clickMenuLink:QualitySelect-" + a.label);
            b.se(a.label)
        };
        return c
    };
    k.se = function (a) {
        a = this.Xf.get(a);
        void 0 === a ? v("Undefined quality level key", {}, "VIDEO_") : this.u.se(a)
    };
    k.clear = function () {
        for (; null !== this.a.firstChild;) this.a.removeChild(this.a.firstChild)
    };
    k.show = function () {
        this.Dc();
        this.a.style.visibility = "visible";
        this.C()
    };
    k.B = function () {
        this.gc();
        this.a.style.visibility = "hidden"
    };

    function $l(a, b) {
        function c(a) {
            a !== d.state.volume && d.gh(a)
        }
        w.call(this);
        var d = this;
        this.u = a;
        this.state = {
            volume: 60,
            na: !0
        };
        this.Qq = b;
        this.state.na = am();
        this.state.volume = bm();
        this.a.style.bottom = "0px";
        this.a.style.left = "0px";
        this.a.style.height = "32px";
        this.a.style.background = "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ConfigBarNoEdge.png) repeat-x";
        this.Oa = this.N(new $k({
            fb: 11,
            Hd: 66,
            sf: 4,
            vn: "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/SliderKnob.png",
            vk: "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/SliderBar.png"
        }));
        this.Oa.a.style.position = "absolute";
        this.Oa.a.style.left = "30px";
        this.Oa.a.style.bottom = "10px";
        cl(this.Oa, this.state.volume);
        q(this.Oa.lk, function (a) {
            d.u.zd(!1);
            d.ki();
            c(a)
        });
        q(this.Oa.mk, c);
        q(this.Oa.kk, function (a) {
            c(a);
            0 === d.state.volume && d.u.zd(!0);
            O("ChangeVolume", {
                volume: a
            })
        });
        var e = document.createElement("div");
        e.style.width = "115px";
        e.style.height = "100%";
        e.style.cssFloat = "left";
        this.a.appendChild(e);
        this.Tj = document.createElement("img");
        this.Tj.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ConfigBar.png";
        this.Tj.style.width = "100%";
        this.Tj.style.height = "100%";
        e.appendChild(this.Tj);
        this.Ea = document.createElement("img");
        this.Ea.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume0.png";
        this.Ea.style.position = "absolute";
        this.Ea.style.bottom = "6px";
        this.Ea.style.left = "5px";
        this.Ea.onclick = function () {
            O("ToggleMute", {
                newState: !d.state.na
            });
            O("ChangeVolume", {
                volume: d.state.volume
            });
            d.state.na ? d.ki() : d.Ph()
        };
        e.appendChild(this.Ea);
        var f = Bg();
        document[Dg()] = function () {
            U() || (f = !1, d.Qa.style.display = "none", V("Full screen is unavailable."))
        };
        this.Qa = document.createElement("img");
        this.Qa.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonFullscreen.png";
        this.Qa.style.position = "relative";
        this.Qa.style.top = "1px";
        this.Qa.style.cssFloat = "right";
        Bg() || (this.Qa.style.display = "none");
        this.Qa.onclick = function () {
            f && d.u.zf()
        };
        this.a.appendChild(this.Qa);
        this.bb = document.createElement("img");
        this.bb.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQuality.png";
        this.bb.style.position = "relative";
        this.bb.style.top = "1px";
        this.bb.style.display = "none";
        this.bb.style.cssFloat = "right";
        this.bb.onclick = function () {
            d.Qq.show()
        };
        this.a.appendChild(this.bb);
        this.af = document.createElement("img");
        this.af.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonScale.png";
        this.af.style.position = "relative";
        this.af.style.top = "1px";
        this.af.style.cssFloat = "right";
        this.af.style.display = U() ? "" : "none";
        this.af.onclick = function () {
            var a = d.u;
            a.cl = !a.cl;
            cm(a)
        };
        this.a.appendChild(this.af);
        q(T, function (a) {
            void 0 === a.h.gb ? v("Dossier is missing context.") : (d.nf(), dm(d))
        });
        q(Ai, function () {
            d.Ph()
        });
        q(a.Oc, function (a) {
            if (0 === a.length) d.bb.style.display = "none";
            else {
                d.bb.style.display = "";
                var b = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQuality.png";
                a = l(a);
                for (var c = a.next(); !c.done; c = a.next())
                    if (c = c.value, c.label.includes("4K") || c.label.includes("HD")) {
                        if (b = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQualityHDAvil.png", !0 === c.bh) {
                            b = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQualityHDSel.png";
                            break
                        }
                    } else c.label.includes("Auto") && 720 <= parseInt(c.label.slice(6, -2)) && (b = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQualityHDSel.png");
                d.bb.src = b
            }
        });
        dm(this);
        this.B()
    }
    m($l, w);
    k = $l.prototype;
    k.xd = function () {
        y() && window.localStorage.setItem("videoControls", JSON.stringify({
            volume: this.state.volume,
            isMuted: this.state.na
        }))
    };

    function bm() {
        if (y()) {
            var a = window.localStorage.getItem("videoControls");
            if (null !== a) return JSON.parse(a).volume
        }
        return 60
    }

    function am() {
        if (y()) {
            var a = window.localStorage.getItem("videoControls");
            if (null !== a) return JSON.parse(a).isMuted
        }
        return !1
    }
    k.show = function () {
        this.a.style.visibility = "visible"
    };
    k.B = function () {
        this.a.style.visibility = "hidden"
    };
    k.Ph = function () {
        !0 !== this.state.na && (this.state.na = !0, dm(this))
    };
    k.ki = function () {
        !1 !== this.state.na && (this.state.na = !1, 0 === this.state.volume && (this.state.volume = 60), dm(this))
    };
    k.C = function () {
        this.af.style.display = U() ? "" : "none"
    };

    function dm(a) {
        a.nf();
        a.u.Vg(a.state.volume, a.state.na);
        cl(a.Oa, a.state.volume);
        a.xd()
    }
    k.nf = function () {
        this.Ea.src = !0 === this.state.na ? "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume0.png" : 0 === this.state.volume ? "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume1.png" : 40 > this.state.volume ? "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume2.png" : 70 > this.state.volume ? "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume3.png" : "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume4.png"
    };
    k.gh = function (a) {
        this.state.volume !== a && (this.state.volume = a, 0 !== a && (this.state.na = !1), dm(this))
    };
    k.jg = function (a) {
        this.state.na = a;
        dm(this)
    };
    k.sm = function (a) {
        this.gh(a);
        this.xd()
    };
    k.li = function (a) {
        this.jg(a);
        this.xd()
    };
    k.Ah = function () {
        this.B()
    };
    k.Kb = function () {
        return "hidden" === this.a.style.visibility ? 0 : 32
    };
    k.zn = function () {
        this.bb.style.display = "none"
    };
    k.Ro = function () {
        this.bb.style.display = ""
    };
    var em = window.Hls;

    function fm(a) {
        a = void 0 === a ? {} : a;
        a.tabHidden = document.hidden;
        O("VideoMetric", a, !0)
    }

    function gm() {
        return Wa() ? window.performance.now() : (new Date).getTime()
    }

    function hm() {
        Wa() && (this.start = gm())
    }
    hm.prototype.send = function (a, b, c) {
        if (Wa() && void 0 !== this.start) {
            var d = gm() - this.start - b,
                e = this.start = gm();
            a = {
                eventName: "autoPlayDuration",
                autoPlayDuration: e / 1E3,
                autoPlayDurationMS: e,
                autoPlayDurationNoDelay: d / 1E3,
                autoPlayDurationNoDelayMS: d,
                autoPlayable: a
            };
            0 !== b && (a.autoPlayHiddenDelay = b / 1E3, a.autoPlayHiddenDelayMS = b);
            void 0 !== c && null !== c && (a.autoPlayError = c);
            fm(a)
        }
    };

    function im(a) {
        var b = this;
        this.Sl = this.Cm = !1;
        this.re = function (a) {
            a = void 0 === a ? {} : a;
            var c = {
                    playerType: b.Oq
                },
                e;
            for (e in a) c[e] = a[e];
            fm(c)
        };
        this.er = function () {
            var a = {
                    eventName: "playerCreated"
                },
                d = bb().player;
            void 0 !== d && (a.playerOverride = d);
            b.re(a);
            b.Rp = gm()
        };
        this.ho = function () {
            b.Nj = gm()
        };
        this.io = function () {
            b.Cm || b.Pj()
        };
        this.Cj = function () {
            b.Cm || (b.Pj(), b.Cm = !0, b.Lj())
        };
        this.Oq = a;
        this.er()
    }

    function jm(a) {
        a.Lj();
        q(T, a.ho);
        q(ng, a.io);
        z("beforeunload", window, a.Cj);
        z("unload", window, a.Cj);
        a.Sl = !0
    }
    im.prototype.Pj = function () {
        if (void 0 !== this.Nj && Wa()) {
            this.Ul = gm();
            var a = this.Ul - this.Nj;
            this.re({
                eventName: "viewerDuration",
                viewerDuration: a / 1E3,
                viewerDurationMS: a
            });
            return a
        }
    };
    im.prototype.Lj = function () {
        this.Sl && ($a("beforeunload", window, this.Cj), $a("unload", window, this.Cj), T.removeListener(this.ho), ng.removeListener(this.io), this.Sl = !1)
    };

    function km(a) {
        im.call(this, a);
        var b = this;
        this.dj = this.Gn = this.Yk = this.gj = !1;
        this.dr = function () {
            if (!b.Yk) {
                var a = {
                        eventName: "videoPlaying",
                        isAjax: !1
                    },
                    d = b.Tp();
                void 0 !== d && b.re({
                    eventName: "broadcastDelay",
                    broadcastDelayMS: d,
                    broadcastDelay: d / 1E3
                });
                d = gm();
                if (void 0 === b.Xk) r("Playing metric has triggered but htmlMediaLoadStartTime is undefined...skipping");
                else {
                    var e = d - b.Xk;
                    a.timeSinceMediaLoadStart = e / 1E3;
                    a.timeSinceMediaLoadStartMS = e
                }
                void 0 !== b.Wk && (e = d - b.Wk, a.timeSinceMediaAttaching = e / 1E3, a.timeSinceMediaAttachingMS = e);
                if (b.Gn) {
                    if (void 0 === b.Nj) {
                        r("Playing metric is for AJAX reload but roomLoadedTime is undefined...skipping");
                        return
                    }
                    e = d - b.Nj;
                    a.timeSinceLoadAjax = e / 1E3;
                    a.timeSinceLoadAjaxMS = e;
                    a.isAjax = !0;
                    void 0 === b.Ul ? r("Playing metric is for AJAX reload but roomUnloadedTime is undefined") : (e = d - b.Ul, a.timeSinceUnloadAjax = e / 1E3, a.timeSinceUnloadAjaxMS = e)
                } else d -= b.Rp, a.timeSincePlayerCreated = d / 1E3, a.timeSincePlayerCreatedMS = d;
                b.re(a);
                b.Yk = !0;
                b.Gn = !0
            }
        };
        this.cr = function () {
            var a = b.Da instanceof HTMLMediaElement ? b.Da.error : b.Da.error_;
            void 0 !== a && null !== a && b.re({
                eventName: "playerError",
                errorCode: a.code,
                errorMessage: a.message,
                errorSource: "HTMLMediaElement",
                errorReadyState: b.Da.readyState,
                errorNetworkState: b.Da.networkState
            })
        };
        this.Mb = function (a) {
            b.gj && ("playing" === a.type ? b.dr() : "loadstart" === a.type ? b.Xk = gm() : "error" === a.type ? b.cr() : "stalled" === a.type ? (a = a.target, void 0 !== a && null !== a && b.re({
                eventName: "playerStalled",
                stalledReadyState: a.readyState,
                stalledNetworkState: a.networkState
            })) : r("Received unknown HTMLMediaElement event: ", a))
        };
        this.Ip = function (a) {
            b.Ao();
            b.ie = a;
            b.ie.on(em.Events.ERROR, b.oe);
            b.ie.on(em.Events.FRAG_CHANGED, b.oe);
            Wa() && (b.ie.on(em.Events.LEVEL_SWITCHING, b.oe), b.ie.on(em.Events.LEVEL_SWITCHED, b.oe), b.ie.on(em.Events.MEDIA_ATTACHING, b.oe));
            b.dj = !0
        };
        this.zp = function (a) {
            var c = a.level;
            if (void 0 === c) r("Received Hls.Events.LEVEL_SWITCHING without a level: ", a);
            else {
                for (var e = l(["bitrate", "height", "width"]), f = e.next(); !f.done; f = e.next())
                    if (f = f.value, isNaN(a[f])) {
                        r("Level " + f + " is not a number: " + a[f] + "...skipping");
                        return
                    } b.Dn[c] = a;
                b.En.unshift({
                    level: c,
                    ts: gm()
                })
            }
        };
        this.gr = function (a) {
            var c = a.level;
            if (void 0 === c) r("Received Hls.Events.LEVEL_SWITCHED without a level: ", a);
            else {
                var e = b.Dn[c];
                if (void 0 === e) r("Received unknown Hls.Events.LEVEL_SWITCHED level: ", a);
                else {
                    a = l(b.En);
                    for (var f = a.next(); !f.done; f = a.next())
                        if (f = f.value, f.level === c) {
                            b.Vk.push(gm() - f.ts);
                            break
                        } if (void 0 === b.Nd || e.bitrate > b.Nd.bitrate) b.Nd = e
                }
            }
        };
        this.Tp = function () {
            if (void 0 !== b.ej) {
                var a = b.Da.currentTime() - b.ej.start;
                if (!(0 > a || (a = (new Date).getTime() -
                        b.ej.programDateTime + 1E3 * a, 0 > a || 3E5 < a))) return a
            }
        };
        this.oe = function (a, d) {
            if (b.dj)
                if (a === em.Events.LEVEL_SWITCHING) b.zp(d);
                else if (a === em.Events.LEVEL_SWITCHED) b.gr(d);
            else if (a === em.Events.FRAG_CHANGED) b.ej = d.frag;
            else if (a === em.Events.MEDIA_ATTACHING) b.Wk = gm();
            else if (a === em.Events.ERROR) {
                var c = b.Da.tech().el();
                b.re({
                    eventName: "playerError",
                    errorCode: d.type,
                    errorMessage: d.details,
                    errorSource: "hls.js",
                    errorReadyState: c.readyState,
                    errorNetworkState: c.networkState
                })
            } else r("Received unknown Hls.Event: ", a)
        };
        this.Ao = function () {
            b.dj && (b.ie.off(em.Events.ERROR, b.oe), b.ie.off(em.Events.FRAG_CHANGED, b.oe), Wa() && (b.ie.off(em.Events.LEVEL_SWITCHING, b.oe), b.ie.off(em.Events.LEVEL_SWITCHED, b.oe)), b.dj = !1)
        };
        this.Bo = function () {
            b.gj && (b.Da instanceof HTMLMediaElement ? (Wa() && ($a("playing", b.Da, b.Mb), $a("loadstart", b.Da, b.Mb)), $a("error", b.Da, b.Mb), $a("stalled", b.Da, b.Mb)) : (Wa() && (b.Da.off("playing", b.Mb), b.Da.off("loadstart", b.Mb)), b.Da.off("error", b.Mb), b.Da.off("stalled", b.Mb)), b.gj = !1)
        };
        this.reset = function () {
            b.Yk = !1;
            b.Dn = new Map;
            b.En = [];
            b.Vk = [];
            b.Nd = void 0;
            b.ej = void 0;
            b.Xk = void 0;
            b.Wk = void 0
        };
        this.reset()
    }
    m(km, im);

    function lm(a, b) {
        a.Bo();
        a.Da = b;
        a.Da instanceof HTMLMediaElement ? (Wa() && (z("playing", a.Da, a.Mb), z("loadstart", a.Da, a.Mb)), z("error", a.Da, a.Mb), z("stalled", a.Da, a.Mb)) : (Wa() && (a.Da.on("playing", a.Mb), a.Da.on("loadstart", a.Mb)), a.Da.on("error", a.Mb), a.Da.on("stalled", a.Mb));
        a.gj = !0
    }
    km.prototype.Pj = function () {
        var a = im.prototype.Pj.call(this);
        if (void 0 !== a && 5E3 < a) {
            void 0 !== this.Nd && this.re({
                eventName: "levelMax",
                levelMaxName: this.Nd.name,
                levelMaxBitrate: this.Nd.bitrate,
                levelMaxAudioCodec: this.Nd.audioCodec,
                levelMaxVideoCodec: this.Nd.videoCodec,
                levelMaxHeight: this.Nd.height,
                levelMaxWidth: this.Nd.width
            });
            var b = this.Vk.reduce(function (a, b) {
                return a + b
            }, 0) / this.Vk.length;
            isNaN(b) || this.re({
                eventName: "levelSwitchAvg",
                levelSwitchAvg: b / 1E3,
                levelSwitchAvgMS: b
            })
        }
        this.reset();
        return a
    };
    km.prototype.Lj = function () {
        im.prototype.Lj.call(this);
        this.Ao();
        this.Bo()
    };

    function mm() {
        w.call(this);
        var a = this;
        this.Yj = this.Yg = !0;
        this.Wo = "10.2.0";
        this.Qd = "xmovie";
        this.Wn = "xmovieContainer";
        this.zk = !1;
        this.Oc = new n("possibleQualityLevelsChanged");
        this.xe = new n("videoOfflineChange");
        this.volume = 0;
        this.muted = !0;
        this.cl = !1;
        this.Np = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/CBV_TS_v1.0.swf";
        this.rd = {
            allowScriptAccess: "always",
            allowFullScreen: "true",
            quality: "high",
            wmode: "opaque",
            id: this.Qd,
            scale: "noborder"
        };
        this.attributes = {
            id: "xmovie",
            name: this.Qd,
            align: "middle"
        };
        jm(new im("FlashPlayer"));
        this.pj = !1;
        if (y()) {
            var b = window.localStorage.getItem("isTheaterMode");
            null !== b && JSON.parse(b).pj && (this.pj = !0)
        }
        this.hl = !0;
        this.cq = this.N(new Zl(this));
        this.mb = this.N(new $l(this, this.cq));
        this.pj ? this.mb.B() : this.mb.show();
        this.a.style.backgroundColor = "#000";
        nm(this);
        this.a.className = "videoPlayerDiv";
        window.updateQualityLevels = function (b) {
            t(a.Oc, b)
        };
        window.showQualitySelect = function () {
            t(a.Oc, om(a))
        };
        window.hideQualitySelect = function () {
            t(a.Oc, [])
        };
        window.statusUpdate = function (b) {
            "offline" === el(b) ? t(a.xe, !0) : t(a.xe, !1)
        };
        window.callbacksRegistered = function () {
            a.zk = !0
        };
        window.setFVMFlashMaxQ = function (a) {
            eb("cbv_maxq", a, 365)
        };
        window.getFVMFlashMaxQ = function () {
            return db("cbv_maxq")
        }
    }
    m(mm, w);

    function nm(a) {
        null === document.getElementById(a.Wn) && (a.Ia = document.createElement("div"), a.Ia.id = a.Wn, a.Ia.style.height = "calc(100% - " + a.mb.Kb() + "px)", a.Ia.style.width = "100%", a.Ia.style.position = "relative", a.Ia.style.top = "0px", a.Ia.style.left = "0px", a.a.appendChild(a.Ia));
        a.Of = document.createElement("div");
        a.Of.id = a.Qd;
        a.Of.style.margin = "0";
        a.Of.style.padding = "0";
        a.Of.style.width = "100%";
        a.Of.style.height = "100%";
        a.Of.style["object-fit"] = "cover";
        a.Ia.appendChild(a.Of);
        a.a.style.position = "static"
    }
    k = mm.prototype;
    k.Zi = function (a) {
        this.context = a;
        var b = "anonymous";
        this.context.j.yb || (b = a.h.Am);
        this.rd.FlashVars = "pid=" + a.h.i + "&address=" + a.h.Zp + "&uid=" + a.h.userName + "&pw=" + encodeURIComponent(b) + "&rpw=" + encodeURIComponent(a.h.Tl) + "&auth=" + a.h.Yp + "&flash_debug=" + ("1" === bb().flash_debug ? "1" : "0");
        a = document.getElementById(this.Qd);
        null === a ? v("id " + this.Qd + " for div not found for flash player in " + this.constructor.name, {}, "VIDEO_") : (a.appendChild(pm(this)), swfobject.embedSWF(this.Np.toString(), this.Qd, "100%", "100%", this.Wo, void 0, void 0, this.rd, this.attributes), t(this.Oc, om(this)), qm(this))
    };

    function pm(a) {
        var b = document.createElement("div");
        b.style.textAlign = "center";
        b.style.marginTop = "50px";
        b.style.zIndex = "999";
        b.style.position = "relative";
        var c = document.createElement("a");
        c.href = "https://www.adobe.com/go/getflashplayer";
        c.target = "_blank";
        c.style.border = "0";
        b.appendChild(c);
        var d = document.createElement("img");
        d.alt = "Get Adobe Flash player";
        d.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/160x41_Get_Flash_Player.jpg";
        c.appendChild(d);
        c = document.createElement("p");
        c.appendChild(document.createTextNode("We've detected that you are missing the latest version of Flash Player."));
        c.style.margin = "0";
        b.appendChild(c);
        c = document.createElement("p");
        c.appendChild(document.createTextNode("This version of the Chaturbate Viewer requires Flash Player " + a.Wo + " or later."));
        c.style.margin = "0";
        b.appendChild(c);
        a = document.createElement("a");
        a.href = "https://www.adobe.com/go/getflashplayer";
        a.innerText = "Click here to update your Flash Player for free";
        b.appendChild(a);
        return b
    }

    function qm(a) {
        var b = a.muted ? 0 : a.volume,
            c = window[a.Qd];
        void 0 !== c && (void 0 === c.SetCamVol ? setTimeout(function () {
            qm(a)
        }, 100) : (a.mb.gh(a.volume), a.mb.jg(a.muted), void 0 !== a.S && (a.S.gh(a.volume), a.S.jg(a.muted)), c.SetCamVol(b)))
    }
    k.Ug = function (a) {
        this.volume !== a && (this.volume = a, this.muted || qm(this))
    };
    k.Ag = function () {
        return this.muted ? 0 : this.volume
    };
    k.zd = function (a) {
        this.muted !== a && (this.muted = a, qm(this))
    };
    k.Vg = function (a, b) {
        if (this.volume !== a || this.muted !== b) this.volume = a, this.muted = b, qm(this)
    };
    k.se = function (a) {
        var b = window[this.Qd];
        void 0 === b ? v("Cannot find movie to set quality level.", {}, "VIDEO_") : void 0 === b.SetQualityLevel ? v("SetQualityLevel is not available on this player.", {}, "VIDEO_") : (b.SetQualityLevel(a), t(this.Oc, om(this)))
    };

    function om(a) {
        var b = window[a.Qd];
        if (!a.zk) return [];
        if (void 0 === b) return v("Cannot find movie to get quality level.", {}, "VIDEO_"), [];
        if (void 0 === b.GetQualityLevels) return v("GetQualityLevel is not available on this player.", {}, "VIDEO_"), [];
        var c = [];
        b.GetQualityLevels().forEach(function (a) {
            c.push({
                label: a.label,
                bh: a.toggled,
                value: a.value
            })
        });
        return c
    }
    k.stop = function () {
        swfobject.removeSWF(this.Qd);
        this.zk = !1;
        nm(this)
    };
    k.paused = function () {
        return !1
    };
    k.Ad = function () {
        void 0 !== this.S && this.S.B();
        this.mb.show();
        cm(this)
    };
    k.Vd = function () {
        void 0 !== this.S && this.S.show();
        this.mb.B();
        cm(this)
    };

    function cm(a) {
        if (U() && U() === a.a)
            if (a.cl) a.Ia.style.height = "calc(100% - " + a.mb.Kb() + "px)", a.Ia.style.width = "100%", a.Ia.style.left = "0px", a.Ia.style.top = "0px";
            else {
                var b = window.innerWidth,
                    c = window.innerHeight - a.Kb(),
                    d = c / (a.hl ? .5625 : .75);
                b < d && (d = b, c = d * (a.hl ? .5625 : .75));
                b = [d, c];
                a.Ia.style.width = b[0] + "px";
                a.Ia.style.left = (window.innerWidth - b[0]) / 2 + "px";
                a.Ia.style.height = b[1] + "px";
                a.Ia.style.top = (window.innerHeight - (b[1] + a.mb.Kb())) / 2 + "px"
            }
        else a.Ia.style.height = "calc(100% - " + a.mb.Kb() + "px)", a.Ia.style.width = "100%", a.Ia.style.left = "0px", a.Ia.style.top = "0px"
    }
    k.C = function () {
        cm(this)
    };
    k.zf = function () {
        var a = this;
        this.kp();
        setTimeout(function () {
            cm(a);
            x(a)
        }, 500)
    };
    k.Kb = function () {
        return this.mb.Kb()
    };
    k.Qj = function (a) {
        this.S = a
    };
    k.ci = function () {
        return this.pj || !!U()
    };
    k.kp = function () {
        !0 !== !!U() ? (zg(this.a), this.Ad(), null === this.Ia.style.width && (this.Ia.style.left = "0px")) : (Ag(), this.Ia.style.height = "calc(100% - " + this.mb.Kb() + "px)", this.Ia.style.width = "100%", x(this))
    };

    function rm(a) {
        w.call(this);
        var b = this;
        this.Fb = a;
        this.Yg = !0;
        this.Yj = !1;
        this.Oc = new n("possibleQualityLevelsChanged");
        this.xe = new n("videoOfflineChange");
        this.il = 0;
        this.sj = !1;
        this.Wj = this.muted = !0;
        this.url = "";
        this.rj = 0;
        this.Ca = new wa;
        this.dl = !0;
        jm(new im("JpegPushPlayer"));
        this.a.style.background = "#333333 url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover";
        this.a.className = "videoPlayerDiv";
        this.a.style.position = "static";
        this.zc = document.createElement("img");
        this.zc.style.width = "100%";
        this.zc.style.height = "100%";
        this.zc.style.ds = "contain";
        this.zc.onload = function () {
            b.zc.style.display = "inline";
            b.sj = !1
        };
        this.zc.onerror = function () {
            b.zc.style.display = "none";
            b.rj -= 100;
            b.sj = !1
        };
        this.a.appendChild(this.zc);
        this.requestAnimationFrame = Pa();
        sm(this, 0)
    }
    m(rm, w);

    function tm(a) {
        a.rj = Date.now();
        void 0 !== a.da && B("get_edge_hls_url_ajax/", {
            room_slug: a.da,
            jpeg: "1"
        }).then(function (b) {
            var c = new D(b.responseText),
                d = K(c, "success");
            "offline" === el(I(c, "room_status")) ? (t(a.xe, !0), a.stop()) : (t(a.xe, !1), c.tc("url"), c.tc("hidden_message"), M(c), d ? a.url = I(c, "cbjpeg_url", !1) : v("Unable to refresh JPEG stream", {
                error: b.responseText
            }, "VIDEO_"))
        })["catch"](function (a) {
            v("Unable to refresh JPEG stream", {
                error: a
            }, "VIDEO_")
        })
    }

    function sm(a, b) {
        5E3 < Date.now() - a.rj && tm(a);
        a.Wj || "" === a.url ? "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" !== a.zc.src && (a.zc.src = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D") : (0 === a.il || 140 < b - a.il) && !a.sj && (a.sj = !0, a.il = b, a.zc.src = a.url + "&f=" + Math.random());
        a.requestAnimationFrame.call(window, function (b) {
            sm(a, b)
        })
    }
    k = rm.prototype;
    k.Zi = function (a) {
        var b = this;
        this.Wj = !1;
        xa(this.Ca);
        va(q(a.j.event.ib, function (a) {
            void 0 !== b.Fb.Wd.get(a.ya) || b.Hc ? b.stop() : b.Wj = !1
        }), this.Ca);
        this.da = a.h.i;
        this.url = "https://cbjpeg.stream.highwebmedia.com/stream?room=" + this.da;
        void 0 !== this.S && this.S.show()
    };
    k.Ug = function (a) {
        this.volume = a
    };
    k.Ag = function () {
        return this.muted ? 0 : this.volume
    };
    k.zd = function (a) {
        this.muted = a
    };
    k.stop = function () {
        this.zc.src = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";
        this.Wj = !0
    };
    k.se = function () {};
    k.Ad = function () {
        this.dl = !1;
        void 0 !== this.S && this.S.show()
    };
    k.Vd = function () {
        this.dl = !0;
        void 0 !== this.S && this.S.show()
    };
    k.ci = function () {
        return this.dl
    };
    k.Kb = function () {
        return 0
    };
    k.zf = function () {
        zg(this.zc)
    };
    k.Vg = function () {};
    k.Qj = function (a) {
        this.S = a
    };
    k.$d = function () {
        this.stop();
        xa(this.Ca)
    };

    function um(a, b) {
        w.call(this);
        this.Fb = a;
        this.Yj = this.Yg = !0;
        this.M = document.createElement("video");
        this.Oe = !1;
        this.Ee = document.createElement("div");
        this.rh = [];
        this.Oc = new n("possibleQualityLevelsChanged");
        this.xe = new n("videoOfflineChange");
        this.Hc = this.al = !1;
        this.a.style.position = "static";
        this.a.style.background = "#333333 url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover";
        this.a.className = "videoPlayerDiv";
        this.M.setAttribute("webkit-playsinline", "");
        this.M.setAttribute("playsinline", "");
        this.M.setAttribute("autoplay", "");
        this.M.style.margin = "0";
        this.M.style.padding = "0";
        this.M.style.width = "100%";
        this.M.style.height = "100%";
        this.M.style["object-fit"] = "contain";
        Ha() && (this.M.style.backgroundColor = "rgba(0, 0, 0, 0.0)");
        this.a.appendChild(this.M);
        window.videoElement = this.M;
        this.Ee.style.backgroundColor = "#000000";
        this.Ee.style.opacity = "0.6";
        this.Ee.style.position = "absolute";
        this.Ee.style.width = "inherit";
        this.Ee.style.height = "inherit";
        this.nk = new km(b);
        jm(this.nk)
    }
    m(um, w);

    function vm(a, b) {
        return new Promise(function (c, d) {
            if (b.h.Ch !== a.Nn && void 0 !== b.h.Ch && "" !== b.h.Ch) {
                a.Nn = b.h.Ch;
                var e = b.j.status;
                a.Hc && (e = "offline");
                c([wm(b.h.Ch), e])
            } else B("get_edge_hls_url_ajax/", {
                room_slug: b.h.i,
                bandwidth: "high",
                current_edge: ""
            }).then(function (b) {
                var e = JSON.parse(b.responseText);
                e.success ? (a.Nn = e.url, c([wm(e.url), el(e.room_status)])) : d(b.responseText)
            })["catch"](d)
        })
    }

    function wm(a) {
        var b = bb();
        return void 0 !== b.edge ? a.replace(/(^https:\/\/edge)\d*(.+)/, "$1" + b.edge + "$2") : a
    }

    function xm(a, b) {
        a.stop();
        b.h.i === a.i && vm(a, b).then(function (c) {
            var d = l(c);
            c = d.next().value;
            d = d.next().value;
            "offline" === a.Za && d !== a.Za && (a.Oe = !0);
            a.Hc = "offline" === d;
            t(a.xe, a.Hc);
            "notconnected" !== a.Za && "offline" === d ? ym(a, b) : a.Rn(b, c)
        })["catch"](function (a) {
            v("Unable to refresh HLS stream", {
                error: a
            })
        })
    }
    k = um.prototype;
    k.play = function () {
        var a = this,
            b = this.Th.play();
        void 0 !== b && b["catch"](function (c) {
            "NotAllowedError" === c.name ? (t(Ai, void 0), a.M.muted || a.zd(!0), b = a.Th.play(), void 0 !== b && b["catch"](function (b) {
                a.Oe || r("Unable to play twice in a row", {
                    err: b
                }, "VIDEO_");
                a.Tk()
            })) : a.M.paused && 0 === a.M.currentTime && (O("NoPromiseAutoplayPolicy"), t(Ai, void 0), a.M.muted || a.zd(!0), a.Th.play())
        })
    };
    k.stop = function () {
        void 0 !== this.Fb.Wd.get(this.Za) && (zm(this), Am(this));
        this.Oe && Am(this)
    };

    function Am(a) {
        for (var b = l(a.rh), c = b.next(); !c.done; c = b.next()) clearTimeout(c.value);
        clearTimeout(a.zj);
        a.zj = void 0;
        clearTimeout(a.Rf);
        a.Rf = void 0
    }
    k.Ug = function (a) {
        this.M.volume = a / 100
    };
    k.Ag = function () {
        return this.M.muted ? 0 : 100 * this.M.volume
    };
    k.Ad = function () {
        this.al = !1;
        void 0 !== this.S && this.S.B();
        this.M.setAttribute("controls", "")
    };
    k.Vd = function () {
        this.al = !0;
        this.M.removeAttribute("controls");
        void 0 !== this.S && this.S.show()
    };
    k.Vg = function () {};
    k.zf = function () {};
    k.Qj = function (a) {
        this.S = a
    };
    k.Kb = function () {
        return 0
    };
    k.Tk = function () {
        Bm(this)
    };
    k.Zi = function (a) {
        var b = this;
        this.Hc = !1;
        this.M.poster = "https://cbjpeg.stream.highwebmedia.com/stream?room=" + a.h.i + "&f=" + Math.random();
        this.i = a.h.i;
        q(a.j.event.ib, function (c) {
            b.Za = c.ya;
            if (void 0 !== b.Fb.Wd.get(c.ya) || b.Hc) b.stop(), Bm(b), b.Hc ? ym(b, a) : Cm(b, a);
            else switch (clearTimeout(b.Rf), b.Rf = void 0, c.Qc) {
                case "notconnected":
                case "grouprequesting":
                case "privaterequesting":
                    break;
                default:
                    switch (c.ya) {
                        case "notconnected":
                            Dm(b, a.h.i);
                            setTimeout(function () {
                                xm(b, a)
                            }, 0);
                            break;
                        case "grouprequesting":
                        case "privaterequesting":
                            switch (c.Qc) {
                                case "groupnotwatching":
                                    b.rh.push(setTimeout(function () {
                                        Dm(b, a.h.i)
                                    }, 0)), b.rh.push(setTimeout(function () {
                                        xm(b, a)
                                    }, 3E3))
                            }
                            break;
                        default:
                            b.rh.push(setTimeout(function () {
                                Dm(b, a.h.i)
                            }, 0)), b.rh.push(setTimeout(function () {
                                xm(b, a)
                            }, 3E3))
                    }
            }
        })
    };

    function Dm(a, b) {
        a.a.style.background = "#333333 url(https://cbjpeg.stream.highwebmedia.com/stream?room=" + b + "&f=" + Math.random() + ") center center / cover";
        var c = a.Fb;
        c.aa.innerText = "Connecting";
        c.text.innerText = "Please wait while we connect you to this webcam broadcast.";
        c.a.style.display = "block";
        c.Xb.style.display = "none";
        c.Kg.style.display = "none";
        c.Gh = !0;
        a.a.insertBefore(a.Ee, a.a.firstChild);
        a.Oe = !0
    }

    function zm(a) {
        a.Oe = !1;
        var b = a.Fb;
        b.Gh && (b.aa.innerText = "", b.text.innerText = "", b.a.style.display = "none", b.Gh = !1);
        a.Ee.parentElement === a.a && a.a.removeChild(a.Ee);
        a.a.style.background = "#333333 url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover"
    }

    function Cm(a, b) {
        void 0 === a.Rf && (a.Rf = setTimeout(function () {
            vm(a, b).then(function (c) {
                c = l(c);
                c.next();
                "offline" === c.next().value ? (a.Hc = !0, a.Rf = void 0, ym(a, b), t(a.xe, a.Hc)) : (a.Rf = void 0, Cm(a, b))
            })
        }, 1E4))
    }

    function ym(a, b) {
        void 0 === a.zj && (a.zj = setTimeout(function () {
            a.zj = void 0;
            xm(a, b)
        }, 1E4))
    }

    function Em(a, b, c) {
        c = void 0 === c ? function () {} : c;
        Bm(a);
        a.eh = setTimeout(function () {
            Pg("Video seems to be stuck, refreshing");
            xm(a, b);
            c()
        }, 1E4)
    }

    function Bm(a) {
        void 0 !== a.eh && (clearTimeout(a.eh), a.eh = void 0)
    }
    k.ci = function () {
        return this.al
    };

    function Fm(a) {
        um.call(this, a, "HlsNativePlayer");
        this.Pe = 0;
        this.Th = this.M;
        this.a.appendChild(this.M);
        lm(this.nk, this.M)
    }
    m(Fm, um);
    k = Fm.prototype;
    k.Rn = function (a, b) {
        var c = this;
        Em(this, a);
        this.M.ontimeupdate = function () {
            var b = c.M.currentTime;
            5 < b - c.Pe && (c.Pe = b, Em(c, a, function () {
                c.Pe = 0
            }))
        };
        this.M.onclick = function () {
            c.play()
        };
        this.M.onactivate = function () {};
        this.M.onpause = function () {};
        this.M.onplay = function () {};
        this.M.oncanplay = function () {
            c.Oe && zm(c)
        };
        this.M.oncanplaythrough = function () {
            c.play()
        };
        this.M.onseeking = function () {};
        this.M.onerror = function (a) {
            v(a, {}, "VIDEO_")
        };
        this.M.onvolumechange = function () {
            var a = c.M.volume,
                b = c.M.muted;
            0 === a && (b = !0);
            void 0 !== c.S && (c.S.li(b), c.S.sm(100 * a))
        };
        "WebKitPlaybackTargetAvailabilityEvent" in window && (this.M.onwebkitcurrentplaybacktargetiswirelesschanged = function () {
            c.M.webkitCurrentPlaybackTargetIsWireless ? O("Video_CastStart", {
                CastType: "airplay"
            }) : O("Video_CastStop", {
                CastType: "airplay"
            })
        });
        "" !== b ? this.M.src = b : this.M.removeAttribute("src");
        this.M.load();
        this.M.style.display = "inline";
        "oncanplaythrough" in window || this.play();
        "" === b && (this.stop(), Bm(this))
    };
    k.Ug = function (a) {
        this.M.volume = a / 100
    };
    k.Ag = function () {
        return this.M.muted ? 0 : 100 * this.M.volume
    };
    k.zd = function (a) {
        this.M.muted = a;
        void 0 !== this.S && this.S.li(a);
        a ? this.M.setAttribute("muted", "") : this.M.removeAttribute("muted")
    };
    k.stop = function () {
        um.prototype.stop.call(this);
        this.Pe = 0;
        this.M.style.display = "none";
        this.M.pause();
        this.M.removeAttribute("src");
        this.M.load()
    };
    k.Ud = function () {
        this.M.setAttribute("controls", "")
    };
    k.Ah = function () {
        this.M.removeAttribute("controls")
    };
    k.Ad = function () {
        this.Ud();
        void 0 !== this.S && this.S.B()
    };
    k.Vd = function () {
        this.Ah();
        void 0 !== this.S && this.S.show()
    };
    k.se = function () {};
    k.Vg = function (a, b) {
        this.M.volume = a / 100;
        0 === a || b ? (this.M.muted = !0, this.M.setAttribute("muted", "")) : (this.M.muted = !1, this.M.removeAttribute("muted"))
    };
    k.Kb = function () {
        return 0
    };
    k.zf = function () {
        zg(this.M);
        this.Ad()
    };
    k.kp = function () {
        this.zf()
    };
    var Gm = window.videojs;

    function Hm(a) {
        um.call(this, a, "VideoJsPlayer");
        var b = this;
        this.Lg = !1;
        this.Pe = 0;
        this.na = !0;
        this.wl = !1;
        this.M.className = "video-js vjs-default-skin";
        Gm.log.level("error");
        var c = this;
        this.a.onclick = function () {
            b.wl && void 0 !== b.S && (b.ci() ? b.Vd() : b.Ad(), b.wl = !1)
        };
        var d = Gm(this.M, {
            autoplay: !0,
            html5: {
                hlsjsConfig: {
                    debug: !1,
                    liveSyncDuration: 3,
                    liveSyncDurationCount: void 0,
                    liveDurationInfinity: Infinity,
                    liveMaxLatencyDuration: 7,
                    liveMaxLatencyDurationCount: void 0,
                    liveBackBufferLength: 30
                }
            },
            controlBar: {
                playToggle: !1,
                progressControl: !1,
                remainingTimeDisplay: !1,
                durationDisplay: !1,
                currentTimeDisplay: !1,
                timeDivider: !1
            }
        });
        this.ha = d;
        if (void 0 !== d) {
            lm(this.nk, d);
            void 0 !== Gm.Html5Hlsjs && Gm.Html5Hlsjs.addHook("beforeinitialize", function (a, c) {
                a === d && b.nk.Ip(c)
            });
            this.Th = d;
            d.on("playing", function () {
                void 0 !== c.eh && (clearTimeout(c.eh), c.eh = void 0)
            });
            d.on("volumechange", function () {
                c.Ug(c.Ag())
            });
            d.on("canplay", function () {
                c.play();
                c.Oe && zm(c)
            });
            d.on("canplaythrough", function () {
                c.play()
            });
            var e = this.Oc;
            d.on("updateVideoControlQuality", function (a, b) {
                for (var c = [], d = l(b), f = d.next(); !f.done; f = d.next()) f = f.value, c.push({
                    label: f.label,
                    bh: f.selected,
                    value: f.id
                });
                t(e, c)
            })
        }
        d.controls(this.Lg);
        window.videoJsPlayer = d
    }
    m(Hm, um);
    k = Hm.prototype;
    k.Rn = function (a, b) {
        var c = this;
        if ("" === b) this.stop();
        else {
            Em(this, a);
            var d = this;
            void 0 !== this.ha ? (this.ha.off("waiting"), this.ha.on("waiting", function () {
                void 0 !== d && Em(d, a)
            }), this.ha.on("timeupdate", function () {
                if (void 0 !== d.ha) {
                    var b = d.ha.currentTime();
                    5 < b - d.Pe && (d.Pe = b, Em(d, a, function () {
                        d.Pe = 0
                    }))
                }
            }), this.ha.off("error"), this.ha.on("error", function (b) {
                if (void 0 !== d.ha) {
                    var c = d.ha.error();
                    null === c || 2 !== c.code && 4 !== c.code || (d.Oe || xm(d, a), v(c.message, b, "VIDEO_"))
                } else v("Videojs error type undefined", b, "VIDEO_")
            }), this.ha.src({
                src: b,
                type: "application/x-mpegURL"
            }), this.ha.qualityPickerPlugin(), this.ha.show(), this.ha.muted(this.na), this.Th = this.ha, this.M.style.display = "inline", this.xr = this.ha.tech(), this.xr.on("loadedqualitydataTS", function (a, b) {
                for (var d = [], e = l(b.qualityData.video), f = e.next(); !f.done; f = e.next()) f = f.value, d.push({
                    label: f.label,
                    bh: f.selected,
                    value: f.id
                });
                t(c.Oc, d)
            })) : V("something went wrong")
        }
    };
    k.Ug = function (a) {
        void 0 !== this.S && void 0 !== this.ha && (this.na = 0 === a || this.ha.muted(), this.S.sm(a), this.S.li(this.na))
    };
    k.zd = function (a) {
        this.na = a;
        void 0 !== this.S && this.S.li(a);
        void 0 !== this.ha && this.ha.muted(a)
    };
    k.Vg = function (a, b) {
        this.na = b;
        void 0 !== this.ha && (this.ha.volume(a / 100), this.ha.muted(b))
    };
    k.Ag = function () {
        return void 0 !== this.ha ? this.ha.muted() ? 0 : 100 * this.ha.volume() : 0
    };
    k.stop = function () {
        um.prototype.stop.call(this);
        void 0 !== this.ha && (this.ha.reset(), this.ha.hide(), this.ha.muted(this.na))
    };
    k.se = function (a) {
        void 0 !== this.ha && this.ha.selectQualityButton(a)
    };
    k.Tk = function () {
        um.prototype.Tk.call(this);
        void 0 !== this.S && (this.S.show(), this.wl = !0)
    };
    k.Ad = function () {
        this.Lg = !0;
        void 0 !== this.S && this.S.B();
        void 0 !== this.ha && this.ha.controls(this.Lg)
    };
    k.Vd = function () {
        this.Lg = !1;
        void 0 !== this.S && this.S.show();
        void 0 !== this.ha && this.ha.controls(this.Lg)
    };
    k.zf = function () {
        void 0 !== this.ha && (this.ha.requestFullscreen(), this.Ad())
    };
    k.Kb = function () {
        return 0
    };
    k.ci = function () {
        return !this.Lg
    };

    function Im(a, b) {
        w.call(this);
        this.Eg = a;
        this.Fb = b;
        var c = Jm(this);
        switch (c) {
            case "flash":
                this.Eg = !0;
                this.L = this.N(new mm);
                break;
            case "videojs":
                this.L = this.N(new Hm(this.Fb));
                break;
            case "hlsnative":
                this.L = this.N(new Fm(this.Fb));
                break;
            case "jpeg":
                this.Eg = !1;
                this.L = this.N(new rm(this.Fb));
                break;
            default:
                v("received unexpected player name: " + c), V("unknown player: " + c)
        }
        this.Fb.Mg = this.L.Yg;
        Km(this.Fb, this.L.xe);
        this.dc = document.createElement("img");
        this.dc.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/logo.svg";
        this.dc.className = "cbLogo";
        this.dc.style.position = "fixed";
        this.dc.style.width = "90px";
        this.dc.style.top = "8px";
        this.dc.style.right = "8px";
        this.a.appendChild(this.dc);
        this.gm()
    }
    m(Im, w);
    Im.prototype.gm = function () {};

    function Lm() {
        return (void 0 === navigator.userAgent ? 0 : /android/i.test(navigator.userAgent)) || !Oa() ? "videojs" : "hlsnative"
    }

    function Jm(a) {
        var b = bb().player;
        if (void 0 !== b) return "hls" === b && (b = Lm()), b;
        if (b = Il) a: {
            b = navigator.userAgent.match(/Firefox\/([0-9]+)/);
            if (null !== b && 2 === b.length && (b = parseInt(b[1]), !isNaN(b) && 55 <= b)) {
                b = !0;
                break a
            }
            b = !1
        }
        return b || 0 >= swfobject.getFlashPlayerVersion().major ? Oa() || Fa.isSupported() ? a.Eg ? Lm() : "jpeg" : (fm({
            eventName: "jpegFallback",
            hlsNativeSupported: Oa(),
            hlsJsSupported: em.isSupported()
        }), "jpeg") : "flash"
    }

    function Mm(a, b, c) {
        a.Eg = !0;
        a.removeChild(a.L);
        var d = "hlsnative" === Lm() ? new Fm(a.Fb) : new Hm(a.Fb);
        z("loadeddata", d.M, function () {
            d.zd(!1)
        });
        d.Zi(b);
        xm(d, b);
        d.Ug(100);
        d.zd(!1);
        d.Qj(c);
        a.L.ci() ? d.Vd() : d.Ad();
        a.L = ya(a, d);
        a.gm()
    }

    function Nm(a, b, c) {
        var d = b / (c ? .5625 : .75);
        d > a && (d = a, b = d * (c ? .5625 : .75));
        return [d, b]
    };
    var Om = new Set;

    function Pm() {
        for (var a = [], b = l(Om), c = b.next(); !c.done; c = b.next()) a.push(c.value);
        y() && window.localStorage.setItem("ignorelist", JSON.stringify({
            we: a
        }))
    }

    function Qm(a) {
        try {
            Om = new Set(JSON.parse(a).users)
        } catch (b) {
            v("Cannot parse ignore list: " + b)
        }
    }

    function Rm() {
        Sm();
        (0 === Om.size || Tm()) && A("api/ignored_user_list/").then(function (a) {
            y() && (window.localStorage.setItem("ignorelist", a.responseText), window.localStorage.setItem("ignorelistlastfetch", Date.now().toString()));
            Qm(a.responseText)
        })["catch"](function (a) {
            v("Network error retrieving ignore list: " + a)
        })
    }

    function Tm() {
        if (!y()) return !0;
        var a = window.localStorage.getItem("ignorelistlastfetch");
        return null === a ? !0 : parseInt(a, 10) + 3E5 < Date.now()
    }

    function Sm() {
        if (y()) {
            var a = window.localStorage.getItem("ignorelist");
            null !== a && Qm(a)
        }
    };

    function Um(a) {
        return {
            Yb: 1,
            message: a
        }
    };
    var Vm;
    q(T, function (a) {
        Vm = a.h.i
    });

    function Wm(a) {
        var b = Xm(a);
        b.zg = H(a, "gender", !1);
        return b
    }

    function Xm(a) {
        var b = lb(a);
        1 !== b.size && v('getStrings(["from_username", "user", "username"]): ' + b + " length is not 1 in " + a.Bd);
        b = b.values().next().value;
        return {
            username: b,
            Le: b === Vm,
            uc: K(a, "in_fanclub"),
            ge: K(a, "has_tokens"),
            wc: K(a, "is_mod"),
            hf: K(a, "trecently"),
            gf: K(a, "tlots"),
            jf: K(a, "ttons")
        }
    }
    var Ym = {
        o: "room-owner",
        m: "moderator",
        f: "fanclub-user",
        tr: "tipped-recently-user",
        g: "standard-user",
        t: "tipped-user",
        p: "tipped-lots-user",
        l: "tipped-tons-user"
    };

    function Zm(a) {
        this.ae = this.kf = 0;
        this.we = [];
        var b = a.split(",");
        a = ~~b[0];
        b = b.slice(1);
        var c = [];
        b = l(b);
        for (var d = b.next(); !d.done; d = b.next()) {
            var e = l(d.value.split("|"));
            d = e.next().value;
            e = e.next().value;
            e = Ym[e];
            d = {
                username: d,
                Le: !1,
                uc: !1,
                ge: !1,
                wc: !1,
                hf: !1,
                gf: !1,
                jf: !1
            };
            "room-owner" === e ? d.Le = !0 : "fanclub-user" === e ? d.uc = !0 : "tipped-user" === e ? d.ge = !0 : "moderator" === e ? d.wc = !0 : "tipped-recently-user" === e ? d.hf = !0 : "tipped-lots-user" === e ? d.gf = !0 : "tipped-tons-user" === e && (d.jf = !0);
            c.push(d)
        }
        this.kf = a + c.length;
        this.ae = a;
        this.we = c
    };

    function $m(a) {
        this.Gb = [];
        this.Gf = [];
        var b = a.match(/#[a-z0-9\-_]{2,50}/g);
        if (null !== b) {
            b = l(b);
            for (var c = b.next(); !c.done; c = b.next()) this.Gf.push(c.value.substr(1))
        }
        this.Gb = a.split(/#[a-z0-9\-_]{2,50}/g)
    };

    function an(a) {
        return 0 === a.length ? Promise.resolve([]) : A("tags/approved/?tags=" + a.join(",")).then(function (a) {
            return a.responseText.split(",")
        })
    };
    var An = {
        connected: bn,
        error: cn,
        roomMessage: dn,
        privateMessage: en,
        roomNotice: fn,
        roomEntry: gn,
        roomLeave: hn,
        stateChange: jn,
        privateRequest: kn,
        groupRequestUpdate: ln,
        notifyTokenUpdate: mn,
        updateRoomCount: nn,
        titleChange: on,
        settingsUpdate: pn,
        removeUserMessages: qn,
        tipAlert: rn,
        soundNotice: sn,
        shuttingDown: tn,
        notifyAppTabRefresh: un,
        notifyAppClear: vn,
        notifyRefreshPanel: wn,
        notifyHiddenShowMessageChange: xn,
        log: yn,
        ping: zn
    };

    function Bn(a) {
        this.A = a
    }
    Bn.prototype.Gl = function (a) {
        var b = I(a, "t", !1);
        if (0 <= Object.keys(An).indexOf(b)) An[b]({
            A: this.A,
            p: a
        });
        else v("Unknown message method: " + b + " data: " + a)
    };

    function bn(a) {
        a.A.am()
    }

    function cn(a) {
        if (K(a.p, "allow_reconnect", !0)) {
            var b = I(a.p, "errortype");
            a = I(a.p, "message", !1);
            v("Error: " + b + " Mesage: " + a)
        } else a.A.disconnect()
    }

    function gn(a) {
        var b = new D(nb(a.p, "profile"));
        a.A.Ql(Wm(b))
    }

    function hn(a) {
        var b = new D(nb(a.p, "profile"));
        a.A.Rl(Wm(b))
    }

    function jn(a) {
        var b = I(a.p, "state");
        a.A.la({
            offline: "offline",
            away: "away",
            "public": "public",
            hidden: "hidden",
            hidden_watching: "public",
            group_requesting: "grouprequesting",
            group_not_watching: "groupnotwatching",
            group: "groupwatching",
            private_requesting: "privaterequesting",
            private_not_watching: "privatenotwatching",
            "private": "privatewatching",
            private_spying: "privatespying",
            password_protect: "passwordprotected"
        } [b])
    }

    function dn(a) {
        var b = new D(nb(a.p, "profile"));
        b = {
            eb: Wm(b),
            message: I(a.p, "msg"),
            font: H(a.p, "f", !1),
            Ed: H(a.p, "c", !1),
            backgroundColor: H(a.p, "background", !1)
        };
        a.A.le(b.eb.username) || t(a.A.event.cg, b)
    }

    function en(a) {
        var b = new D(nb(a.p, "profile"));
        b = {
            eb: Wm(b),
            message: I(a.p, "msg"),
            font: H(a.p, "f", !1),
            Ed: H(a.p, "c", !1),
            backgroundColor: H(a.p, "background", !1),
            Al: I(a.p, "otherUsername")
        };
        a.A.le(b.eb.username) || t(a.A.event.Wf, b)
    }

    function fn(a) {
        var b = [],
            c = [],
            d = nb(a.p, "profile", !1);
        "" !== d && (d = new D(d), c.push({
            Yb: 0,
            cc: Xm(d)
        }));
        c.push(Um(I(a.p, "message")));
        b.push(c);
        b = {
            V: b,
            W: K(a.p, "show_in_pm", !1)
        };
        c = I(a.p, "bg", !1);
        "" !== c && (b.background = c);
        c = I(a.p, "fg", !1);
        "" !== c && (b.ma = c);
        c = I(a.p, "weight", !1);
        "" !== c && (b.weight = c);
        t(a.A.event.R, b)
    }

    function on(a) {
        function b(b) {
            for (var e = 0; e < f.Gb.length; e += 1) {
                var h = Um(f.Gb[e]);
                h.Bl = !1;
                d.push(h);
                e < f.Gf.length && (h = f.Gf[e], d.push(-1 !== b.indexOf(h) ? {
                    Yb: 2,
                    message: h
                } : Um("#" + h)))
            }
            t(a.A.event.R, {
                V: [d],
                ma: "#DC5500",
                weight: "bold",
                W: !1
            });
            t(a.A.event.gk, c)
        }
        var c = I(a.p, "title"),
            d = [],
            e = Ab(c),
            f = new $m(e);
        an(f.Gf).then(b)["catch"](function () {
            b([])
        })
    }

    function kn(a) {
        var b = new D(nb(a.p, "profile"));
        t(a.A.event.Fl, {
            Dr: I(b, "username"),
            om: L(a.p, "tokens_per_minute")
        })
    }

    function ln(a) {
        t(a.A.event.Cg, {
            Fd: L(a.p, "users_waiting"),
            lg: L(a.p, "users_required"),
            om: L(a.p, "tokens_per_minute", !1)
        })
    }

    function mn(a) {
        t(a.A.event.ji, {
            qc: L(a.p, "tokens")
        })
    }

    function nn(a) {
        t(a.A.event.Qg, L(a.p, "count"))
    }

    function pn(a) {
        var b = a.p,
            c = {
                ed: K(b, "allow_privates"),
                Ua: L(b, "private_price"),
                sb: L(b, "spy_price"),
                Ve: L(b, "private_min_minutes"),
                qf: K(b, "allow_show_recordings"),
                dd: K(b, "allow_groups"),
                Ra: L(b, "group_price"),
                rl: L(b, "minimum_users_for_group_show")
            };
        M(b);
        t(a.A.event.Td, c);
        a.A.Ua !== c.Ua && (a.A.Ua = c.Ua, b = Um(Gb(a.A.i(), c.Ua)), t(a.A.event.R, {
            V: [
                [b]
            ],
            W: !0
        }));
        a.A.Ra !== c.Ra && (a.A.Ra = c.Ra, b = Um(Fb(a.A.i(), c.Ra)), t(a.A.event.R, {
            V: [
                [b]
            ],
            W: !0
        }));
        a.A.sb !== c.sb && 0 !== c.sb && (a.A.sb = c.sb, c = Um(Hb(a.A.i(), c.sb)), t(a.A.event.R, {
            V: [
                [c]
            ],
            W: !0
        }))
    }

    function qn(a) {
        t(a.A.event.Og, {
            username: I(a.p, "username")
        })
    }

    function un(a) {
        t(a.A.event.sk, {})
    }

    function vn(a) {
        t(a.A.event.Ji, {})
    }

    function wn(a) {
        t(a.A.event.Jj, {})
    }

    function xn(a) {
        t(a.A.event.bj, I(a.p, "hidden_message"))
    }

    function rn(a) {
        var b = new D(nb(a.p, "profile"));
        b = {
            eb: Wm(b),
            message: I(a.p, "message", !1),
            Ja: L(a.p, "amount")
        };
        a.A.i() !== G(a.p, "to_username") && v("Username does not match in tip");
        a.A.nb && t(a.A.event.bk, b)
    }

    function yn(a) {
        void 0 === H(a.p, "msg") && v("handleLog with an empty msg")
    }

    function zn(a) {
        a.A.bi({
            t: "pong"
        })
    }

    function sn(a) {
        var b = I(a.p, "sound");
        "" !== b ? t(a.A.event.pe, b) : v("Sound is missing for soundNotice")
    }

    function tn(a) {
        var b = I(a.p, "migrate_to");
        "" === b ? v("Missing migrateTo server for shutdownhandler") : (a = a.A, a.Lk = b, Cn(a), a.We(b))
    };

    function Dn() {
        this.yg = 0
    }

    function En(a) {
        a.yg += 1;
        return Math.min(1E4, 500 * a.yg)
    }
    Dn.prototype.reset = function () {
        this.yg = 0
    };

    function Fn(a) {
        this.d = a;
        this.status = "offline";
        this.bd = void 0;
        this.gg = !0;
        this.nb = this.hc = !1;
        this.event = {
            Nf: new n("messageSent"),
            cg: new n("roomMessage"),
            R: new n("roomNotice"),
            Wf: new n("privateMessage"),
            ib: new n("statusChange", {
                nd: 15
            }),
            bj: new n("hiddenMessageChange"),
            Jj: new n("refreshPanel"),
            gk: new n("titleChange"),
            Ji: new n("clearApp"),
            Og: new n("removeMessages"),
            Td: new n("settingsUpdate"),
            Qg: new n("roomCountUpdate"),
            sl: new n("modStatusChange"),
            ji: li,
            Fl: new n("privateShowRequest"),
            Cg: new n("groupShowUpdate"),
            pe: new n("playSound"),
            sk: new n("appTabRefresh"),
            bk: new n("tipAlert")
        };
        this.nb = this.username() === this.i();
        this.Yf = new Dn;
        this.ql = new Bn(this);
        this.yb = 0 === a.oh.indexOf("__anonymous__");
        !1 === this.yb && Rm();
        this.Lk = a.host;
        this.We(a.host);
        this.hc = a.hc;
        this.ud = a.pa.ud;
        this.vd = a.pa.vd;
        this.Ua = a.Ua;
        this.sb = a.sb;
        this.Ra = a.Ra;
        this.Uo = this.nb ? "public" : a.Za;
        this.la("notconnected")
    }
    k = Fn.prototype;
    k.disconnect = function () {
        this.gg = !1;
        Cn(this)
    };

    function Cn(a) {
        void 0 !== a.bd && (a.bd.close(), a.bd = void 0)
    }
    k.la = function (a) {
        if (a !== this.status) {
            var b = this.status;
            this.status = a;
            t(this.event.ib, {
                Qc: b,
                ya: this.status
            })
        }
    };
    k.mp = function (a, b) {
        this.ud = a;
        this.vd = b
    };
    k.Pk = function () {
        var a = this;
        if ("offline" === this.status || "notconnected" === this.status || "unknown" === this.status) return new Promise(function (a) {
            a({
                kf: 0,
                ae: 0,
                we: []
            })
        });
        if (void 0 !== this.wd) return this.wd;
        var b = {
            roomname: this.i(),
            "private": Gn(this)
        };
        return this.wd = new Promise(function (c, d) {
            A("api/getchatuserlist/?" + ab(b)).then(function (b) {
                b = new Zm(b.responseText);
                c(b);
                a.wd = void 0
            })["catch"](function (b) {
                d(b);
                a.wd = void 0
            })
        })
    };

    function Gn(a) {
        switch (a.status) {
            case "groupwatching":
            case "privatewatching":
                return !0;
            case "privaterequesting":
            case "privatenotwatching":
            case "passwordprotected":
            case "grouprequesting":
            case "groupnotwatching":
            case "public":
            case "away":
            case "hidden":
            case "offline":
            case "privatespying":
            case "notconnected":
                return !1;
            default:
                return r("unexpected status: " + a.status), !1
        }
    }
    k.We = function (a) {
        var b = this,
            c;
        if (0 < a.length) {
            var d = new SockJS(this.Lk + "/connect/");
            this.bd = d;
            d.onclose = function (d) {
                Hn("Connection closed:" + JSON.stringify(d));
                void 0 !== c ? t(b.event.R, {
                    V: [
                        [Um("Trying to reconnect")]
                    ],
                    W: !0
                }) : (t(b.event.R, {
                    V: [
                        [Um("Chat disconnected")]
                    ],
                    W: !0
                }), b.gg && a === b.Lk && (c = setTimeout(function () {
                    t(b.event.R, {
                        V: [
                            [Um("Trying to reconnect")]
                        ],
                        W: !0
                    });
                    b.We(a)
                }, En(b.Yf))))
            };
            d.onerror = function (d) {
                Hn("Connection error:" + JSON.stringify(d));
                void 0 === c && b.gg && (c = setTimeout(function () {
                    b.We(a)
                }, En(b.Yf)))
            };
            d.onmessage = function (a) {
                b.ql.Gl(new D(a.data))
            };
            d.onopen = function () {
                d.send(JSON.stringify({
                    t: "connect",
                    username: b.username(),
                    password: b.d.Am,
                    room: b.i(),
                    room_password: b.d.Tl
                }))
            }
        }
    };
    k.am = function () {
        t(this.event.R, {
            V: [
                [Um("Connection established")]
            ],
            W: !0
        });
        this.Yf.reset()
    };
    k.bi = function (a) {
        a = JSON.stringify(a);
        this.bd.send(a)
    };
    k.Yl = function (a) {
        t(this.event.Nf, void 0);
        O("SendRoomMessage");
        this.bi({
            t: "sendMessage",
            from_username: this.username(),
            message: a
        })
    };
    k.Xl = function (a, b) {
        t(this.event.Nf, void 0);
        this.bi({
            t: "sendMessage",
            from_username: this.username(),
            to_username: b,
            message: a
        })
    };
    k.tm = function () {};
    k.Eo = function (a, b) {
        var c = this;
        return new Promise(function (d, e) {
            "public" !== c.status ? e("unexpected status: " + c.status) : B("tipping/private_show_request/" + c.i() + "/", {
                chat_username: c.username(),
                price: "" + a,
                private_show_minimum_minutes: "" + b
            }).then(function (a) {
                a = new D(a.responseText);
                var b = I(a, "message", !1);
                K(a, "success") ? d("") : ("" === b && (v("unknown cannot start private show reason"), b = "Cannot start private show."), d(b))
            })
        })
    };
    k.Fo = function () {
        var a = this;
        return new Promise(function (b) {
            B("tipping/spy_on_private_show_request/" + a.i() + "/", {
                chat_username: a.username()
            }).then(function (a) {
                a = new D(a.responseText);
                var c = K(a, "success"),
                    e = I(a, "message", !1);
                M(a);
                c ? b("") : ("" === e && (e = "Error joining spy show"), b(e))
            })
        })
    };
    k.Kh = function () {
        var a = this;
        switch (this.status) {
            case "groupwatching":
                break;
            case "grouprequesting":
                break;
            default:
                r("unexpected status: " + this.status)
        }
        return new Promise(function (b) {
            return B("tipping/group_show_cancel/" + a.i() + "/", {}).then(function () {
                b("")
            })
        })
    };
    k.Lh = function () {
        var a = this;
        return new Promise(function (b) {
            var c = "tipping/private_show_cancel/" + a.i() + "/",
                d = a.status;
            B(c, {}).then(function (a) {
                a = new D(a.responseText);
                var c = K(a, "success"),
                    e = L(a, "remaining_seconds"),
                    g = J(a, "private_show_minimum_minutes");
                M(a);
                switch (d) {
                    case "privatewatching":
                        if (!c) {
                            a = "You have started a private show with a " + g + " minute minimum. You cannot cancel your private show yet." + (" It still has " + e + " seconds remaining.");
                            b(a);
                            break
                        }
                        b("");
                        break;
                    case "privatespying":
                        if (!c) {
                            b("Unable to cancel spy show");
                            break
                        }
                        b("");
                        break;
                    case "privaterequesting":
                        break;
                    default:
                        r("leave private show from status: " + d), b("")
                }
            })
        })
    };
    k.Do = function (a) {
        var b = this;
        return "public" !== this.status && "groupnotwatching" !== this.status ? new Promise(function (a, d) {
            d("unexpected status: " + b.status)
        }) : new Promise(function (c, d) {
            B("tipping/group_show_request/" + b.i() + "/", {
                chat_username: b.username(),
                price: "" + a
            }).then(function (a) {
                a = new D(a.responseText);
                var b = I(a, "message", !1);
                K(a, "success") ? (M(a), c("")) : ("" === b && (v("unknown cannot start group show reason"), b = "Cannot start group show."), c(b))
            })["catch"](function (a) {
                d(a)
            })
        })
    };
    k.i = function () {
        return this.d.i
    };
    k.username = function () {
        return this.d.oh
    };
    k.tc = function (a) {
        var b = this;
        B("chat_ignore_list/", {
            username: a
        }).then(function (c) {
            "max" === c.responseText ? t(b.event.R, {
                V: [
                    [Um("Please signup/login to enable this feature.")]
                ],
                W: !0
            }) : (Om.add(a), Pm())
        })["catch"](function (a) {
            v("Error posting ignore user: " + a)
        });
        t(this.event.R, {
            V: [
                [Um("Ignoring " + a)]
            ],
            W: !0
        })
    };
    k.ik = function (a) {
        B("chat_ignore_list/", {
            username: a,
            remove: "1"
        }).then(function () {
            Om["delete"](a);
            Pm()
        })["catch"](function (a) {
            v("Error posting unignore user: " + a)
        });
        t(this.event.R, {
            V: [
                [Um("No longer ignoring " + a)]
            ],
            W: !0
        })
    };
    k.le = function (a) {
        var b = Om;
        return void 0 === b ? (v("ignoreSet should not be undefined"), !1) : b.has(a)
    };
    k.Ql = function (a) {
        this.di(this.ud, a) && t(this.event.R, {
            V: [
                [Um(Kk(this.i(), a)), {
                    Yb: 0,
                    cc: a
                }, Um(" has joined the room.")]
            ],
            W: a.username === this.username()
        })
    };
    k.Rl = function (a) {
        this.di(this.vd, a) && t(this.event.R, {
            V: [
                [Um(Kk(this.i(), a)), {
                    Yb: 0,
                    cc: a
                }, Um(" has left the room.")]
            ],
            W: a.username === this.username()
        })
    };
    k.di = function (a, b) {
        return b.username === this.username() || 3 === a && (this.nb || this.hc) ? !1 : 1 === a || !this.nb && !this.hc || 2 === a && (b.username === this.i() || b.wc || b.uc) ? !0 : !1
    };
    var In;
    q(T, function (a) {
        In = a.h.i
    });

    function Jn(a) {
        var b = Kn(a);
        b.zg = H(a, "gender", !1);
        return b
    }

    function Kn(a) {
        var b = lb(a);
        1 !== b.size && v('getStrings(["from_username", "user", "username"]): ' + b + " length is not 1 in " + a.Bd);
        b = b.values().next().value;
        return {
            username: b,
            Le: b === In,
            uc: K(a, "in_fanclub"),
            ge: K(a, "has_tokens"),
            wc: K(a, "is_mod"),
            hf: K(a, "tipped_recently"),
            gf: K(a, "tipped_alot_recently"),
            jf: K(a, "tipped_tons_recently")
        }
    }

    function Ln(a) {
        var b = new D(a[1]),
            c = {
                eb: Jn(b),
                message: I(b, "m"),
                font: H(b, "f", !1),
                Ed: H(b, "c", !1),
                backgroundColor: H(b, "background", !1)
            };
        c.eb.username !== a[0] && v("Parsing username match failed");
        !0 !== G(b, "X-Successful") && v("X-Successful not true?");
        M(b);
        return c
    }

    function Mn(a, b) {
        var c = {
            eb: Jn(b),
            message: I(b, "message"),
            Ja: L(b, "amount")
        };
        a !== G(b, "to_username") && v("Username does not match in tip");
        !0 !== G(b, "history") && v("history != true? " + history);
        "" !== G(b, "dont_send_to") && G(b, "dont_send_to") !== a && v("dont_send_to not unexpected value: " + G(b, "dont_send_to"));
        return c
    };

    function Z(a) {
        return {
            Yb: 1,
            message: a
        }
    }

    function Nn(a) {
        return {
            Yb: 0,
            cc: a
        }
    };

    function On(a) {
        this.A = a
    }
    On.prototype.Gl = function (a) {
        var b = JSON.parse(a);
        b = {
            method: b.method,
            Sr: b.callback,
            G: b.args
        };
        if (0 <= Object.keys(Pn).indexOf(b.method)) Pn[b.method](this.A, b);
        else v("Unknown message method: " + b.method + " args: " + a)
    };
    window.debugAllMessages = function () {};
    var Pn = {
        onAuthResponse: Qn,
        onRoomCountUpdate: Rn,
        onRoomMsg: Sn,
        onNotify: Tn,
        onTitleChange: Un,
        onPrivateMsg: Vn,
        onPromotion: Wn,
        onRevoke: Xn,
        onPersonallyKicked: Yn,
        onSilence: Zn,
        onKick: $n,
        onNotifyPrivateShowRequest: ao,
        onNotifyPrivateShowApprove: bo,
        onNotifyPrivateShowCancel: co,
        onNotifyLeavePrivateRoom: eo,
        onNotifyGroupShowRequest: fo,
        onNotifyGroupShowApprove: go,
        onNotifyGroupShowCancel: ho,
        onNotifyTokenBalanceUpdate: io,
        onNotifyAwayModeCancel: jo
    };

    function Rn(a, b) {
        1 > b.G.length ? v("Invalid onRoomCountUpdate args: " + b.G) : "" !== b.G[0] && t(a.event.Qg, parseInt(b.G[0]))
    }

    function Qn(a, b) {
        if (1 <= b.G.length && "1" === b.G[0]) {
            var c = a.Uo;
            "notconnected" !== a.status && (c = a.status);
            switch (c) {
                case "offline":
                case "away":
                case "grouprequesting":
                case "groupnotwatching":
                case "privaterequesting":
                case "privatenotwatching":
                case "privatespying":
                case "hidden":
                case "public":
                    ko(a);
                    a.la(c);
                    break;
                case "privatewatching":
                case "groupwatching":
                    "notconnected" === a.status ? (lo(a), a.la(c)) : jl(a.i()).then(function (b) {
                        "privatewatching" === b.Za || "groupwatching" === b.Za ? lo(a) : ko(a);
                        a.la(b.Za)
                    })["catch"](function (b) {
                        v("Error getting room dossier on reconnect: " +
                            b, {
                                room: a.i()
                            })
                    });
                    break;
                default:
                    r("unexpected status: " + c)
            }
            a.am()
        } else 0 < b.G.length && "0" === b.G[0] || v("Error connecting!", {
            message: b
        })
    }

    function Un(a, b, c) {
        1 > b.G.length ? v("Invalid onTitleChange args: " + b.G) : 1 < b.G.length && "0" === b.G[1] || mo(a, b.G[0], c)
    }

    function mo(a, b, c) {
        if ("" !== b) {
            var d = [],
                e = Ab(b),
                f = new $m(e),
                h = function (c) {
                    for (var e = 0; e < f.Gb.length; e += 1) {
                        var g = Z(f.Gb[e]);
                        g.Bl = !1;
                        d.push(g);
                        e < f.Gf.length && (g = f.Gf[e], d.push(-1 !== c.indexOf(g) ? {
                            Yb: 2,
                            message: g
                        } : Z("#" + g)))
                    }
                    t(a.event.R, {
                        V: [d],
                        ma: "#DC5500",
                        weight: "bold",
                        W: !1
                    });
                    t(a.event.gk, b)
                };
            void 0 !== c ? h(c) : an(f.Gf).then(h)["catch"](function () {
                h([])
            })
        }
    }

    function Vn(a, b) {
        if ("" === b.G[0]) 1 < b.G.length ? t(a.event.R, {
            V: [
                [Z(b.G[1])]
            ],
            W: !0
        }) : v("handlePrivateMessage args: " + b.G);
        else {
            var c = b.G,
                d = Ln(c);
            d.Al = "" !== c[2] ? c[2] : c[0];
            a.le(d.eb.username) || t(a.event.Wf, d)
        }
    }

    function Wn(a, b) {
        if (2 !== b.G.length) v("Invalid onPromotion args: " + b.G);
        else {
            b.G[0] === a.username() && t(a.event.sl, {});
            var c = b.G[1];
            var d = b.G[0];
            c = R(Q("%(from)s has granted moderator privileges to %(to)s."), {
                from: c,
                to: d
            }, !0);
            t(a.event.R, {
                V: [
                    [Z(c)]
                ],
                W: 0 <= b.G.indexOf(a.username())
            })
        }
    }

    function Xn(a, b) {
        if (2 !== b.G.length) v("Invalid onRevoke args: " + b.G);
        else {
            b.G[0] === a.username() && t(a.event.sl, {});
            var c = b.G[1];
            var d = b.G[0];
            c = R(Q("%(from)s has revoked moderator privileges from %(to)s."), {
                from: c,
                to: d
            }, !0);
            t(a.event.R, {
                V: [
                    [Z(c)]
                ],
                W: 0 <= b.G.indexOf(a.username())
            })
        }
    }

    function Yn(a, b) {
        if (1 !== b.G.length) v("Invalid onPersonallyKicked args: " + b.G);
        else {
            var c = b.G[0];
            "rejoined" === c ? c = Pc : "kicked" === c ? c = Qc : (r("createPersonallyKickedMessage called with unknown argument " + c), c = Rc);
            t(a.event.R, {
                V: [
                    [Z(c)]
                ],
                W: !0
            })
        }
    }

    function Zn(a, b) {
        if (2 !== b.G.length) v("Invalid onSilence args: " + b.G);
        else {
            t(a.event.Og, {
                username: b.G[0]
            });
            var c = b.G[0];
            var d = b.G[1];
            c = R(Q("User %(username)s was silenced by %(silencer)s and his/her messages have been removed"), {
                username: c,
                silencer: d
            }, !0);
            t(a.event.R, {
                V: [
                    [Z(c)]
                ],
                W: 0 <= b.G.indexOf(a.username())
            })
        }
    }

    function $n(a, b) {
        if (1 !== b.G.length) v("Invalid onKick args: " + b.G);
        else {
            t(a.event.Og, {
                username: b.G[0]
            });
            var c = a.event.R;
            var d = b.G[0];
            d = R(Q("User %(username)s was kicked out of the room and his/her messages have been removed"), {
                username: d
            }, !0);
            t(c, {
                V: [
                    [Z(d)]
                ],
                W: b.G[0] === a.username()
            })
        }
    }

    function Sn(a, b) {
        if ("" === b.G[0]) 1 < b.G.length ? "Chat disconnected. The broadcaster has set a new password on this room." === b.G[1] ? (a.la("passwordprotected"), t(a.event.R, {
            V: [
                [Z(sc)]
            ],
            W: !0
        })) : t(a.event.R, {
            V: [
                [Z(b.G[1])]
            ],
            W: !0
        }) : v("roomMessage invalid args: " + b.G);
        else {
            var c = Ln(b.G);
            a.le(c.eb.username) || t(a.event.cg, c)
        }
    }

    function ao(a, b) {
        if (2 > b.G.length) v("PrivateShowRequest invalid args: " + b.G);
        else if (t(a.event.Fl, {
                Dr: b.G[0],
                om: parseInt(b.G[1])
            }), a.nb) {
            switch (a.status) {
                case "grouprequesting":
                case "public":
                case "away":
                    break;
                default:
                    r("unexpected status: " + a.status)
            }
            a.la("privaterequesting");
            a.nb && t(a.event.pe, "show")
        }
    }

    function bo(a, b) {
        if (1 !== b.G.length) v("Invalid privateShowApprove args: " + b.G);
        else {
            switch (a.status) {
                case "public":
                    a.la("privatenotwatching");
                    break;
                case "grouprequesting":
                    a.Kh();
                    a.la("privatenotwatching");
                    break;
                case "privaterequesting":
                    no(a);
                    lo(a);
                    a.la("privatewatching");
                    break;
                default:
                    r("private show approve unexpected status: " + a.status)
            }
            var c = Z(wc);
            "privatewatching" === a.status ? t(a.event.R, {
                V: [
                    [c]
                ],
                ma: "#222",
                background: "#ff8b45",
                weight: "bold",
                W: !0
            }) : t(a.event.R, {
                V: [
                    [c, Z(" ("), {
                        Yb: 3
                    }, Z(")")]
                ],
                ma: "#222",
                background: "#ff8b45",
                weight: "bold",
                W: !0
            })
        }
    }

    function co(a, b) {
        function c() {
            a.la("away");
            t(a.event.R, {
                V: [
                    [Z(xc)]
                ],
                ma: "#222",
                background: "#ff8b45",
                weight: "bold",
                W: !0
            })
        }
        0 !== b.G.length && v("Invalid privateShowCancel args: " + b.G);
        switch (a.status) {
            case "privaterequesting":
                a.la("public");
                t(a.event.R, {
                    V: [
                        [Z(yc)]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !0
                });
                break;
            case "away":
            case "grouprequesting":
            case "hidden":
            case "public":
                break;
            case "privatewatching":
                oo(a);
                ko(a);
                c();
                break;
            case "privatespying":
            case "privatenotwatching":
                c();
                break;
            default:
                r("privateShowCancel wrong room status: " +
                    a.status)
        }
    }

    function eo(a, b) {
        1 !== b.G.length && r("Invalid leavePrivateRoom args: " + b.G);
        if (b.G[0] === a.username()) switch (a.status) {
            case "groupwatching":
                a.la("groupnotwatching");
                oo(a);
                ko(a);
                t(a.event.R, {
                    V: [
                        [Z(Kc)]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !0
                });
                break;
            default:
                v("unexpected status: " + a.status)
        }
    }

    function fo(a, b) {
        3 !== b.G.length && r("Invalid groupShowRequest args: " + b.G);
        var c = Number(b.G[0]),
            d = Number(b.G[1]);
        t(a.event.Cg, {
            Fd: c,
            lg: d,
            om: Number(b.G[2])
        });
        switch (a.status) {
            case "groupwatching":
            case "groupnotwatching":
                break;
            default:
                0 !== c && (a.nb ? ("grouprequesting" !== a.status && a.la("grouprequesting"), c === d && t(a.event.pe, "show"), t(a.event.R, {
                    V: [
                        [Z(Eb(c, d))]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !1
                })) : t(a.event.R, {
                    V: [
                        [Z(Eb(c, d)), Z(" ("), {
                            Yb: 4
                        }, Z(")")]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !1
                }))
        }
    }

    function go(a, b) {
        1 !== b.G.length && v("Invalid groupShowApprove args: " + b.G);
        switch (a.status) {
            case "groupnotwatching":
                break;
            case "grouprequesting":
                no(a);
                lo(a);
                a.la("groupwatching");
                break;
            case "public":
            case "privaterequesting":
                a.la("groupnotwatching");
                break;
            default:
                r("unexpected status: " + a.status)
        }
        t(a.event.R, {
            V: [
                [Z(Lc)]
            ],
            ma: "#222",
            background: "#ff8b45",
            weight: "bold",
            W: !0
        })
    }

    function ho(a, b) {
        t(a.event.Cg, {
            Fd: 0
        });
        0 !== b.G.length && v("Invalid groupShowCancel args: " + b.G);
        var c = {
            V: [
                [Z(Mc)]
            ],
            ma: "#222",
            background: "#ff8b45",
            weight: "bold",
            W: !0
        };
        switch (a.status) {
            case "grouprequesting":
                a.la("public");
                t(a.event.R, {
                    V: [
                        [Z(Nc)]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !0
                });
                break;
            case "away":
            case "hidden":
            case "public":
            case "privaterequesting":
                break;
            case "groupwatching":
                oo(a);
                ko(a);
                a.la("away");
                t(a.event.R, c);
                break;
            case "groupnotwatching":
                a.la("away");
                t(a.event.R, c);
                break;
            default:
                r("groupShowCancel wrong room status: " +
                    a.status)
        }
    }

    function io(a, b) {
        2 !== b.G.length ? v("Invalid tokenBalanceUpdate args: " + b.G) : t(a.event.ji, {
            qc: Number(b.G[1])
        })
    }

    function jo(a, b) {
        0 !== b.G.length && r("Invalid awayModeCancel args: " + b.G);
        switch (a.status) {
            case "away":
            case "public":
            case "grouprequesting":
            case "privaterequesting":
                t(a.event.R, {
                    V: [
                        [Z(Oc)]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !0
                });
                a.la("public");
                break;
            default:
                v("unexpected state: " + a.status)
        }
    }

    function Tn(a, b) {
        var c = new D(b.G[0]),
            d = I(c, "type");
        c.tc("send_to");
        c.tc("to_user");
        if ("function" !== typeof po[d]) v("Unhandled onNotify type " + d, {
            message: b
        });
        else(0, po[d])({
            A: a,
            p: c,
            mn: 1 < b.G.length && "true" === b.G[1]
        })
    }
    var po = {
        tip_alert: qo,
        log: ro,
        refresh_panel: so,
        app_tab_refresh: to,
        appnotice: uo,
        apperrorlog: vo,
        clear_app: wo,
        room_entry: xo,
        room_leave: yo,
        purchase_notification: zo,
        settingsupdate: Ao,
        hidden_show_status_change: Bo,
        hidden_show_approve: Co,
        hidden_show_deny: Do,
        is_restricted_hls_allowed: Eo
    };

    function qo(a) {
        var b = Mn(a.A.i(), a.p);
        void 0 !== a.mn && a.mn || t(a.A.event.pe, Fo(b.Ja));
        a.A.nb && t(a.A.event.bk, b);
        var c = [Nn(b.eb), Z(" tipped " + b.Ja + " " + (1 < b.Ja ? "tokens" : "token"))];
        a.A.nb && ("" !== b.message && c.push(Z(" -- " + b.message)), A("tipping/get_token_balance/").then(function (b) {
            b = new D(b.responseText);
            K(b, "success") && t(a.A.event.ji, {
                qc: L(b, "token_balance")
            })
        }));
        t(a.A.event.R, {
            V: [c],
            background: "#ff3",
            ma: "#000",
            weight: "bold",
            W: b.eb.username === a.A.username() || a.A.nb
        })
    }

    function ro(a) {
        void 0 === H(a.p, "msg") && v("handleLog with an empty msg")
    }

    function to(a) {
        t(a.A.event.sk, {})
    }

    function so(a) {
        t(a.A.event.Jj, {})
    }

    function uo(a) {
        var b = G(a.p, "msg"),
            c = [];
        if ("string" === typeof b) c.push([Z("Notice: " + b)]);
        else if (b instanceof Array) {
            b = l(b);
            for (var d = b.next(); !d.done; d = b.next()) c.push([Z("Notice: " + d.value)])
        } else {
            v("handleAppNotice error: Invalid message type " + (void 0 === b ? "undefined" : b.toString()));
            return
        }
        t(a.A.event.R, {
            V: c,
            background: H(a.p, "background", !1),
            ma: H(a.p, "foreground", !1),
            weight: H(a.p, "weight", !1),
            W: !1
        })
    }

    function vo(a) {
        if (a.A.nb) {
            var b = G(a.p, "msg"),
                c = [];
            c.push([Z("Error: ")]);
            if ("string" === typeof b) c.push([Z(b)]);
            else if (b instanceof Array) {
                b = l(b);
                for (var d = b.next(); !d.done; d = b.next()) c.push([Z(d.value)])
            } else {
                v("handleAppErrorLog error: Invalid message type " + (void 0 === b ? "undefined" : b.toString()));
                return
            }
            t(a.A.event.R, {
                V: c,
                W: !1
            })
        }
    }

    function wo(a) {
        t(a.A.event.Ji, {})
    }

    function xo(a) {
        a.A.Ql(Kn(a.p))
    }

    function yo(a) {
        a.A.Rl(Kn(a.p))
    }

    function zo(a) {
        var b = Kn(a.p);
        !0 !== K(a.p, "history") && r("purchase history is not true?");
        for (var c = [], d = l(I(a.p, "message").split(new RegExp("\\b" + b.username + "\\b", "gi"))), e = d.next(); !e.done; e = d.next()) e = e.value, "" !== e && c.push(Z(e)), c.push(Nn(b));
        c.pop();
        b.username === a.A.username() && A("tipping/get_token_balance/").then(function (b) {
            b = new D(b.responseText);
            K(b, "success") && t(a.A.event.ji, {
                qc: L(b, "token_balance")
            })
        });
        t(a.A.event.R, {
            V: [c],
            background: "#33ff33",
            ma: "#000",
            weight: "bold",
            W: b.username === a.A.username()
        })
    }

    function Ao(a) {
        var b = a.p,
            c = {
                ed: K(b, "allow_privates"),
                Ua: L(b, "private_price"),
                sb: L(b, "spy_price"),
                Ve: L(b, "private_min_minutes"),
                qf: K(b, "allow_show_recordings"),
                dd: K(b, "allow_groups"),
                Ra: L(b, "group_price"),
                rl: L(b, "minimum_users_for_group_show")
            };
        M(b);
        t(a.A.event.Td, c);
        a.A.Ua !== c.Ua && (a.A.Ua = c.Ua, b = Z(Gb(a.A.i(), c.Ua)), t(a.A.event.R, {
            V: [
                [b]
            ],
            W: !0
        }));
        a.A.Ra !== c.Ra && (a.A.Ra = c.Ra, b = Z(Fb(a.A.i(), c.Ra)), t(a.A.event.R, {
            V: [
                [b]
            ],
            W: !0
        }));
        a.A.sb !== c.sb && 0 !== c.sb && (a.A.sb = c.sb, c = Z(Hb(a.A.i(), c.sb)), t(a.A.event.R, {
            V: [
                [c]
            ],
            W: !0
        }))
    }

    function Bo(a) {
        if (!a.A.nb) {
            var b = K(a.p, "is_starting") ? "hidden" : "public",
                c = I(a.p, "hidden_message");
            M(a.p);
            t(a.A.event.bj, c);
            switch (a.A.status) {
                case "grouprequesting":
                    a.A.Kh();
                    break;
                case "privaterequesting":
                    a.A.Lh();
                    break;
                case "public":
                case "hidden":
                    break;
                default:
                    v("handleHiddenShowStatusChange unexpected status: " + a.A.status)
            }
            "public" === b ? setTimeout(function () {
                a.A.la("public")
            }, 3E3) : a.A.la(b)
        }
    }

    function Co(a) {
        K(a.p, "initial_hide_cam") ? setTimeout(function () {
            a.A.la("public")
        }, 2E3) : "public" !== a.A.status && a.A.la("public")
    }

    function Do(a) {
        "public" === a.A.status && a.A.la("hidden")
    }

    function Eo() {}

    function Fo(a) {
        return 1E3 <= a ? "huge" : 500 <= a ? "large" : 100 <= a ? "medium" : 15 <= a ? "small" : "tiny"
    };

    function Go() {
        this.yg = 0
    }
    Go.prototype.reset = function () {
        this.yg = 0
    };
    var Ho = {
        o: "room-owner",
        m: "moderator",
        f: "fanclub-user",
        tr: "tipped-recently-user",
        g: "standard-user",
        t: "tipped-user",
        p: "tipped-lots-user",
        l: "tipped-tons-user"
    };

    function Io(a) {
        this.ae = this.kf = 0;
        this.we = [];
        var b = a.split(",");
        a = ~~b[0];
        b = b.slice(1);
        var c = [];
        b = l(b);
        for (var d = b.next(); !d.done; d = b.next()) {
            var e = l(d.value.split("|"));
            d = e.next().value;
            e = e.next().value;
            e = Ho[e];
            d = {
                username: d,
                Le: !1,
                uc: !1,
                ge: !1,
                wc: !1,
                hf: !1,
                gf: !1,
                jf: !1
            };
            "room-owner" === e ? d.Le = !0 : "fanclub-user" === e ? d.uc = !0 : "tipped-user" === e ? d.ge = !0 : "moderator" === e ? d.wc = !0 : "tipped-recently-user" === e ? d.hf = !0 : "tipped-lots-user" === e ? d.gf = !0 : "tipped-tons-user" === e && (d.jf = !0);
            c.push(d)
        }
        this.kf = a + c.length;
        this.ae = a;
        this.we = c
    };

    function Jo(a) {
        this.d = a;
        this.status = "offline";
        this.bd = void 0;
        this.gg = !0;
        this.hc = !1;
        this.Dk = 2;
        this.nb = !1;
        this.event = {
            Nf: new n("messageSent"),
            cg: new n("roomMessage"),
            R: new n("roomNotice"),
            Wf: new n("privateMessage"),
            ib: new n("statusChange", {
                nd: 15
            }),
            bj: new n("hiddenMessageChange"),
            Jj: new n("refreshPanel"),
            gk: new n("titleChange"),
            Ji: new n("clearApp"),
            Og: new n("removeMessages"),
            Td: new n("settingsUpdate"),
            Qg: new n("roomCountUpdate"),
            sl: new n("modStatusChange"),
            ji: li,
            Fl: new n("privateShowRequest"),
            Cg: new n("groupShowUpdate"),
            pe: new n("playSound"),
            sk: new n("appTabRefresh"),
            bk: new n("tipAlert")
        };
        this.Dk = /cb2=1/.test(document.cookie) ? 2 : 1;
        this.nb = this.username() === this.i();
        this.Yf = new Go;
        this.ql = new On(this);
        this.yb = 0 === a.oh.indexOf("__anonymous__");
        !1 === this.yb && Tk();
        this.We();
        this.hc = a.hc;
        this.ud = a.pa.ud;
        this.vd = a.pa.vd;
        this.Uo = this.nb ? "public" : a.Za;
        this.Ua = a.Ua;
        this.sb = a.sb;
        this.Ra = a.Ra;
        this.la("notconnected")
    }
    k = Jo.prototype;
    k.disconnect = function () {
        this.gg = !1;
        void 0 !== this.bd && (this.bd.close(), this.bd = void 0)
    };
    k.la = function (a) {
        if (a !== this.status) {
            var b = this.status;
            this.status = a;
            t(this.event.ib, {
                Qc: b,
                ya: this.status
            })
        }
    };
    k.mp = function (a, b) {
        this.ud = a;
        this.vd = b
    };
    k.Pk = function () {
        var a = this;
        if ("offline" === this.status || "notconnected" === this.status || "unknown" === this.status) return new Promise(function (a) {
            a({
                kf: 0,
                ae: 0,
                we: []
            })
        });
        if (void 0 !== this.wd) return this.wd;
        var b = {
            roomname: this.i(),
            "private": Gn(this)
        };
        return this.wd = new Promise(function (c, d) {
            A("api/getchatuserlist/?" + ab(b)).then(function (b) {
                b = new Io(b.responseText);
                c(b);
                a.wd = void 0
            })["catch"](function (b) {
                d(b);
                a.wd = void 0
            })
        })
    };
    k.We = function () {
        var a = this,
            b, c;
        0 < this.d.host.length && (this.bd = b = "http" === this.d.host.substring(0, 4) ? new SockJS(this.d.host) : new WebSocket(this.d.host), b.onclose = function (b) {
            Hn("Connection closed:" + JSON.stringify(b));
            void 0 !== c ? t(a.event.R, {
                V: [
                    [Z("Trying to reconnect")]
                ],
                W: !0
            }) : (t(a.event.R, {
                V: [
                    [Z("Chat disconnected")]
                ],
                W: !0
            }), a.gg && (c = setTimeout(function () {
                t(a.event.R, {
                    V: [
                        [Z("Trying to reconnect")]
                    ],
                    W: !0
                });
                a.We()
            }, En(a.Yf))))
        }, b.onerror = function (b) {
            Hn("Connection error:" + JSON.stringify(b));
            void 0 === c && a.gg && (c = setTimeout(function () {
                a.We()
            }, En(a.Yf)))
        }, b.onmessage = function (b) {
            a.ql.Gl(b.data)
        }, b.onopen = function () {
            a.Vc("connect", {
                user: a.d.oh,
                password: a.d.Am,
                room: a.d.i,
                room_password: a.d.Tl
            })
        })
    };
    k.am = function () {
        t(this.event.R, {
            V: [
                [Z(rc)]
            ],
            W: !0
        });
        this.Yf.reset();
        mo(this, this.d.ab)
    };
    k.bi = function (a) {
        this.bd.send(a)
    };
    k.Vc = function (a, b) {
        b = void 0 === b ? {} : b;
        this.bi(JSON.stringify({
            method: a,
            data: b
        }))
    };
    k.Yl = function (a) {
        t(this.event.Nf, void 0);
        O("SendRoomMessage");
        this.Vc(Gn(this) ? "messagePrivateRoom" : "messageRoom", {
            room: this.d.i,
            msg: JSON.stringify({
                v: this.Dk,
                m: a,
                f: "",
                c: ""
            })
        })
    };
    k.Xl = function (a, b) {
        t(this.event.Nf, void 0);
        this.Vc(Gn(this) ? "addPrivateUserMsgToUser" : "addUserMsgToUser", {
            msg: JSON.stringify({
                v: this.Dk,
                m: a,
                f: "",
                c: ""
            }),
            room: this.i(),
            to_user: b
        })
    };
    k.tm = function () {
        this.Vc("updateRoomCount", {
            model_name: this.i(),
            private_room: "privatewatching" === this.status || "groupwatching" === this.status
        })
    };
    k.Eo = function (a, b) {
        var c = this;
        return new Promise(function (d, e) {
            "public" !== c.status ? e("unexpected status: " + c.status) : B("tipping/private_show_request/" + c.i() + "/", {
                chat_username: c.username(),
                price: "" + a,
                private_show_minimum_minutes: "" + b
            }).then(function (a) {
                a = new D(a.responseText);
                var b = I(a, "message", !1);
                K(a, "success") ? (M(a), c.la("privaterequesting"), t(c.event.R, {
                    V: [
                        [Z(Cc)]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !0
                }), d("")) : ("" === b && (v("unknown cannot start private show reason"), b = "Cannot start private show."), d(b))
            })["catch"](function (a) {
                e(a)
            })
        })
    };
    k.Fo = function () {
        var a = this;
        return new Promise(function (b, c) {
            "privatenotwatching" !== a.status ? c("unexpected status: " + a.status) : B("tipping/spy_on_private_show_request/" + a.i() + "/", {
                chat_username: a.username()
            }).then(function (c) {
                c = new D(c.responseText);
                var d = K(c, "success"),
                    f = I(c, "message", !1);
                M(c);
                d ? (a.la("privatespying"), t(a.event.R, {
                    V: [
                        [Z("You are spying on the private show")]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !0
                }), b("")) : ("" === f && (f = "Error joining spy show"), b(f))
            })["catch"](function (a) {
                c(a)
            })
        })
    };
    k.Kh = function () {
        var a = this;
        switch (this.status) {
            case "groupwatching":
                break;
            case "grouprequesting":
                this.la("public");
                break;
            default:
                r("unexpected status: " + this.status)
        }
        return new Promise(function (b) {
            return B("tipping/group_show_cancel/" + a.i() + "/", {}).then(function () {
                b("")
            })
        })
    };
    k.Lh = function () {
        var a = this;
        return new Promise(function (b) {
            var c = "tipping/private_show_cancel/" + a.i() + "/",
                d = a.status;
            B(c, {}).then(function (c) {
                c = new D(c.responseText);
                var e = K(c, "success"),
                    h = L(c, "remaining_seconds"),
                    g = J(c, "private_show_minimum_minutes");
                M(c);
                switch (d) {
                    case "privatewatching":
                        if (!e) {
                            0 === h ? b(Ac) : (c = "You have started a private show with a " + g + " minute minimum. You cannot cancel your private show yet." + (" It still has " + h + " seconds remaining."), b(c));
                            break
                        }
                        b("");
                        break;
                    case "privatespying":
                        if (!e) {
                            b("Unable to cancel spy show");
                            break
                        }
                        a.la("privatenotwatching");
                        b("");
                        break;
                    case "privaterequesting":
                        if (!e) {
                            b("Unable to cancel private request");
                            break
                        }
                        b("");
                        break;
                    default:
                        r("leave private show from status: " + d), e ? b("") : b("Unable to leave private show from status: " + d)
                }
            })
        })
    };
    k.Do = function (a) {
        var b = this;
        if ("public" !== this.status && "groupnotwatching" !== this.status) return new Promise(function (a, c) {
            c("unexpected status: " + b.status)
        });
        var c = this.status;
        this.la("grouprequesting");
        return new Promise(function (d, e) {
            B("tipping/group_show_request/" + b.i() + "/", {
                chat_username: b.username(),
                price: "" + a
            }).then(function (a) {
                a = new D(a.responseText);
                var e = I(a, "message", !1);
                K(a, "success") ? (t(b.event.R, {
                    V: [
                        [Z("Sending group show request.")]
                    ],
                    ma: "#222",
                    background: "#ff8b45",
                    weight: "bold",
                    W: !0
                }), M(a), d("")) : (b.la(c), "" === e && (v("unknown cannot start group show reason"), e = "Cannot start group show."), d(e))
            })["catch"](function (a) {
                b.la(c);
                e(a)
            })
        })
    };

    function ko(a) {
        a.Vc("joinRoom", {
            room: a.i()
        })
    }

    function no(a) {
        a.Vc("leaveRoom", {
            room: a.i()
        })
    }

    function lo(a) {
        setTimeout(function () {
            a.Vc("joinPrivateRoom", {
                room: a.i()
            })
        }, 500)
    }

    function oo(a) {
        a.Vc("leavePrivateRoom", {
            room: a.i()
        })
    }
    k.i = function () {
        return this.d.i
    };
    k.username = function () {
        return this.d.oh
    };
    k.tc = function (a) {
        var b = this;
        B("chat_ignore_list/", {
            username: a
        }).then(function (c) {
            "max" === c.responseText ? t(b.event.R, {
                V: [
                    [Z("Please signup/login to enable this feature.")]
                ],
                W: !0
            }) : (Qk.add(a), Rk())
        })["catch"](function (a) {
            v("Error posting ignore user: " + a)
        });
        t(this.event.R, {
            V: [
                [Z("Ignoring " + a)]
            ],
            W: !0
        })
    };
    k.ik = function (a) {
        B("chat_ignore_list/", {
            username: a,
            remove: "1"
        }).then(function () {
            Qk["delete"](a);
            Rk()
        })["catch"](function (a) {
            v("Error posting unignore user: " + a)
        });
        t(this.event.R, {
            V: [
                [Z("No longer ignoring " + a)]
            ],
            W: !0
        })
    };
    k.le = function (a) {
        var b = Qk;
        return void 0 === b ? (v("ignoreSet should not be undefined"), !1) : b.has(a)
    };
    k.Ql = function (a) {
        this.di(this.ud, a) && t(this.event.R, {
            V: [
                [Z(Kk(this.i(), a)), Nn(a), Z(" has joined the room.")]
            ],
            W: a.username === this.username()
        })
    };
    k.Rl = function (a) {
        this.di(this.vd, a) && t(this.event.R, {
            V: [
                [Z(Kk(this.i(), a)), Nn(a), Z(" has left the room.")]
            ],
            W: a.username === this.username()
        })
    };
    k.di = function (a, b) {
        if (b.username === this.username()) return !1;
        if (3 !== a)
            if (2 === a) {
                if (b.username === this.i() || b.wc || b.uc) return !0
            } else if (1 === a) {
            if (b.username === this.i() || b.wc || b.uc || b.ge && (this.nb || this.hc)) return !0
        } else if (0 === a && (b.username === this.i() || b.wc || b.uc || this.nb || this.hc)) return !0;
        return !1
    };

    function Ko(a) {
        w.call(this);
        var b = this;
        this.Hi = a;
        this.Sh = [];
        this.a.style.position = "fixed";
        this.a.style.height = "";
        this.a.style.textShadow = "1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000";
        this.a.style.fontSize = "12px";
        this.qa = document.createElement("div");
        this.qa.style.position = "absolute";
        this.qa.style.bottom = "0";
        this.a.appendChild(this.qa);
        q(a.lh, function (a) {
            Lo(b, a.ol(), a.br)
        });
        q(ng, function () {
            b.clear()
        });
        q(T, function (a) {
            b.a.style.fontSize = a.h.pa.fontSize
        });
        q(lg, function (a) {
            b.a.style.fontSize = a.fontSize
        })
    }
    m(Ko, w);
    Ko.prototype.oa = function () {
        this.a.scrollTop = this.a.scrollHeight - this.a.offsetHeight
    };
    Ko.prototype.clear = function () {
        for (var a = l(this.Sh), b = a.next(); !b.done; b = a.next()) clearTimeout(b.value);
        for (this.Sh = []; null !== this.qa.firstChild;) this.qa.removeChild(this.qa.firstChild)
    };

    function Lo(a, b, c) {
        a.qa.appendChild(b);
        Mo(a, function () {
            b.style.opacity = "0"
        });
        x(a);
        void 0 !== c && !0 !== c || a.oa()
    }

    function Mo(a, b) {
        var c = setTimeout(function () {
            var d = a.Sh.indexOf(c);
            0 <= d && a.Sh.splice(d, 1);
            b()
        }, 2E4);
        a.Sh.push(c)
    }
    Ko.prototype.Gm = function () {
        var a = this;
        q(this.Hi.Pi, function () {
            x(a)
        })
    };
    Ko.prototype.C = function () {
        var a = this.Hi.wa,
            b = this.Hi.Ma,
            c = a.getBoundingClientRect();
        this.a.style.left = c.left + "px";
        this.a.style.width = a.clientWidth + "px";
        this.qa.style.width = a.clientWidth + "px";
        this.a.style.top = b.getBoundingClientRect().top + "px";
        this.a.style.height = b.clientHeight + "px";
        this.qa.style.height = b.clientHeight + "px"
    };
    var No = new n("switchedToHLS");
    new n("openTipCalloutRequest");
    new n("loadRoomRequest");
    new n("userPanelRequest");
    new n("sendMessageInputFocus");
    new n("sendMessageInputBlur");
    new n("userMenuPmClicked");

    function Oo(a, b) {
        var c = document.createElement("div");
        c.innerText = a;
        c.style.color = "#72C0FF";
        c.style.cursor = "pointer";
        c.style.paddingTop = "5px";
        c.onmouseenter = function () {
            c.style.textDecoration = "underline"
        };
        c.onmouseleave = function () {
            c.style.textDecoration = "none"
        };
        c.style.pointerEvents = "auto";
        c.onclick = function (a) {
            b(a)
        };
        return c
    }

    function Po(a) {
        a = void 0 === a ? !0 : a;
        w.call(this);
        var b = this;
        this.po = a;
        this.Kg = Oo("More Rooms", function (a) {
            t(zi, void 0);
            a.stopPropagation()
        });
        this.Wd = new Map;
        this.Xb = Oo("", function () {});
        this.Gg = this.Gh = this.mr = !1;
        this.a.style.display = "none";
        this.a.style.position = this.po ? "fixed" : "absolute";
        this.a.style.height = "auto";
        this.a.style.width = "auto";
        this.a.style.boxSizing = "border-box";
        this.a.style.padding = "0 50px";
        this.a.style.left = "0";
        this.a.style.textAlign = "center";
        this.a.style.pointerEvents = "none";
        this.a.style.zIndex = "1";
        this.aa = document.createElement("div");
        this.aa.style.fontSize = "32px";
        this.aa.style.color = "#72c0ff";
        this.aa.style.marginBottom = "20px";
        this.a.appendChild(this.aa);
        this.body = document.createElement("div");
        this.body.style.fontSize = "16px";
        this.body.style.color = "#ffffff";
        this.text = document.createElement("span");
        this.body.appendChild(this.text);
        this.Kg.style.display = "none";
        this.body.appendChild(this.Kg);
        this.Xb.style.display = "none";
        this.body.appendChild(this.Xb);
        this.a.appendChild(this.body);
        var c = new wa;
        q(T, function (a) {
            b.Kk = a.j;
            va(q(a.j.event.ib, function (c) {
                Qo(b, a.j, c.ya)
            }), c);
            va(q(a.j.event.bj, function (a) {
                b.Dg = a
            }), c);
            va(q(No, function () {
                b.Mg = !0;
                Qo(b, a.j, a.h.Za)
            }), c);
            void 0 !== a.h.Dg ? b.Dg = a.h.Dg : v("hiddenMessage is not defined.");
            Qo(b, a.j, a.h.Za);
            b.Gg = a.h.Gg
        });
        q(ng, function () {
            xa(c);
            b.Dg = "";
            b.Hc = !1
        });
        this.Wd.set("away", function () {
            b.aa.innerText = "Performer Is Away";
            b.text.innerText = "You may continue chatting while you wait for the broadcaster to return.";
            b.Xb.style.display = "none";
            Ro(b, !0);
            b.a.style.display = "block"
        });
        this.Wd.set("groupnotwatching", function (a) {
            b.aa.innerText = "Group Show In Progress";
            b.text.innerText = "You may continue chatting while you wait for the broadcaster to return from the group show. If a goal had been set when the broadcaster returns it will continue where it left off.";
            void 0 === b.Mg ? v("unexpected") : !0 === b.Mg && (b.Xb.innerText = "JOIN THIS GROUP SHOW", b.Xb.style.display = "block", b.Xb.onclick = function () {
                jj(a)
            }, b.Xb.style.display = "block");
            Ro(b, !0);
            b.a.style.display = "block"
        });
        this.Wd.set("privatenotwatching", function (a) {
            b.aa.innerText = "Private Show In Progress";
            b.text.innerText = "You may continue chatting while you wait for the broadcaster to return from the private show. If a goal had been set when the broadcaster returns it will continue where it left off.";
            void 0 === b.Mg ? v("unexpected") : !0 === b.Mg && (b.Xb.innerText = "SPY ON THIS PRIVATE SHOW", b.Xb.style.display = "block", b.Xb.onclick = function () {
                ij(a)
            }, b.Xb.style.display = "block");
            Ro(b, !0);
            b.a.style.display = "block"
        });
        this.Wd.set("hidden", function () {
            b.aa.innerText = "Cam is Hidden";
            b.text.innerText = b.Dg;
            b.Xb.style.display = "none";
            Ro(b, !1);
            b.a.style.display = "block"
        });
        this.Wd.set("offline", function () {
            b.aa.innerText = "Offline";
            b.text.innerText = "The member you are trying to view is currently offline. Please wait or choose another member to view.";
            b.Xb.style.display = "none";
            b.a.style.display = "block";
            Ro(b, !0)
        });
        this.Wd.set("passwordprotected", function () {
            b.aa.innerText = "Password Required";
            b.text.innerText = "The broadcaster has set a password which is required for viewing. If you know the password, refresh this page to enter it.";
            b.Xb.style.display = "none";
            Ro(b, !0);
            b.a.style.display = "block";
            U() && Ag()
        })
    }
    m(Po, w);

    function Km(a, b) {
        q(b, function (b) {
            a.Hc = b;
            void 0 !== a.Kk && Qo(a, a.Kk, a.Kk.status)
        })
    }
    Po.prototype.C = function () {
        if (void 0 !== this.parent) {
            var a = this.parent.a.getBoundingClientRect(),
                b = document.documentElement.clientWidth,
                c = document.documentElement.clientHeight;
            a.width <= b ? (this.a.style.width = a.width + "px", this.po && (this.a.style.left = a.left + "px")) : (this.a.style.width = b + "px", this.a.style.left = "0");
            U() && this.Gg ? (b = parseInt(null !== this.parent.a.style.height ? this.parent.a.style.height : ""), this.a.style.top = .5 * (b ? b : c) - .5 * this.a.offsetHeight + "px") : this.a.style.top = a.height <= c ? "fixed" === this.parent.a.style.position ? a.top + .5 * a.height - .5 * this.a.offsetHeight + "px" : .5 * a.height - .5 * this.a.offsetHeight + "px" : .5 * c - .5 * this.a.offsetHeight + "px";
            this.a.style.maxHeight = a.height + "px"
        }
    };

    function Qo(a, b, c) {
        a.Hc && (c = "offline");
        var d = a.Wd.get(c);
        if (void 0 !== d) d(b), x(a);
        else switch (a.Gh || (a.Kg.style.display = "none", a.a.style.display = "none"), c) {
            case "public":
            case "privaterequesting":
            case "privatewatching":
            case "privatespying":
            case "grouprequesting":
            case "groupwatching":
            case "notconnected":
                break;
            default:
                r("unexpected status: " + c)
        }
    }

    function Ro(a, b) {
        var c = a.Gh && !a.Hc;
        a.Kg.style.display = void 0 !== b && !b || c || a.mr ? "none" : "block"
    };

    function So() {
        var a = this;
        this.ei = new Map;
        this.hm = !0;
        if (this.hm = Na() && La() || Ja())
            if (La()) {
                Pg("Using audio context");
                this.context = "webkitAudioContext" in window ? new webkitAudioContext : new AudioContext;
                z("beforeunload", window, function () {
                    void 0 !== a.context && ("close" in a.context && a.context.close(), a.context = void 0)
                });
                var b = !1,
                    c = function () {
                        if (!b) {
                            if (void 0 === a.context) v("unexpected");
                            else {
                                var c = a.context.createBufferSource();
                                c.buffer = a.context.createBuffer(1, 1, 22050);
                                c.connect(a.context.destination);
                                c.start(0)
                            }
                            b = !0
                        }
                    };
                z("click", document, c);
                z("touchstart", document, c);
                z("touchend", document, c)
            } else Pg("Using audio elements");
        else r("Sounds are not supported.")
    }

    function To(a, b, c) {
        a.ei.set(b, {
            ready: !1
        });
        if (void 0 !== a.context) {
            var d = new XMLHttpRequest;
            d.open("GET", c, !0);
            d.responseType = "arraybuffer";
            d.onload = function () {
                200 > d.status || 300 <= d.status ? v("Error requesting sound " + b + " " + d.status + " " + d.statusText) : void 0 === a.context ? v("unexpected") : a.context.decodeAudioData(d.response.slice(0), function (c) {
                    a.ei.set(b, {
                        ready: !0,
                        buffer: c
                    })
                }, function (a) {
                    v("Error decoding sound " + b + " " + a)
                })
            };
            d.onerror = function () {
                v("Error requesting sound " + b + " (" + new gb(d) + ")")
            };
            d.send()
        } else Ja() && a.ei.set(b, {
            ready: !0,
            uk: new Audio(c)
        })
    }
    So.prototype.pe = function (a, b) {
        if (Uo(this, a, b)) {
            var c = this.ei.get(a);
            if (void 0 !== c && c.ready)
                if (void 0 !== c.buffer)
                    if (void 0 === this.context) v("unexpected");
                    else {
                        var d = this.context.createBufferSource();
                        d.buffer = c.buffer;
                        c = this.context.createGain();
                        d.connect(c);
                        c.connect(this.context.destination);
                        c.gain.value = b / 3.5 / 100;
                        d.start(0)
                    }
            else void 0 !== c.uk ? (c.uk.volume = b / 100, d = c.uk.play(), void 0 !== d && d["catch"](function (b) {
                v("Error playing sound " + a + " (" + b + ")")
            })) : v("Missing sound buffer or element for " + a)
        }
    };

    function Uo(a, b, c) {
        return a.hm && 0 !== c ? 100 < c || 0 > c || isNaN(c) ? (v("setSoundVolume: invalid volume " + c), !1) : a.ei.has(b) ? !0 : (v("Unknown sound: " + b), !1) : !1
    };
    var Vo = {
            Ur: 17,
            shift: 16,
            alt: 18,
            as: 91,
            fs: 93,
            Tr: 20,
            ls: 9
        },
        Wo = {
            left: 37,
            ns: 38,
            right: 39,
            Wr: 40
        };

    function Xo(a) {
        if (void 0 === a || 13 === a || 27 === a) return !1;
        for (var b in Wo)
            if (a === Wo[b]) return !1;
        for (var c in Vo)
            if (a === Vo[c]) return !1;
        return !0
    };
    var Yo;

    function Zo() {
        "WebSocket" in window && "recommender_websocket_url" in window && "" !== window.recommender_websocket_url && (q(T, function (a) {
            void 0 === a.h.yo ? v("recommenderHmac not available") : (void 0 !== Yo && v("socket not closed"), Yo = $o(a.h.userName, a.h.i, a.h.yo))
        }), q(ng, function () {
            void 0 === Yo ? v("socket not open") : (Yo.close(), Yo = void 0)
        }))
    }

    function $o(a, b, c) {
        var d = new WebSocket(window.recommender_websocket_url, "cbrec");
        d.onopen = function () {
            d.send(JSON.stringify({
                cmd: "open",
                room: b,
                user: a,
                hmac: c
            }))
        };
        d.onerror = function (a) {
            v("communicateWithRecommender error", {
                event: a
            })
        };
        var e = setInterval(function () {
            d.readyState === WebSocket.OPEN && d.send(JSON.stringify({
                cmd: "ping"
            }))
        }, 2E4);
        d.onclose = function () {
            clearInterval(e)
        };
        return d
    };
    var ap, bp = ["total_viewers", "image_url", "password_warning"];

    function cp(a) {
        clearTimeout(ap);
        if (!a.yb) {
            var b = "contest/log/" + a.i() + "/";
            ap = setTimeout(function () {
                A(b).then(function (b) {
                    b = new D(b.responseText);
                    for (var c = K(b, "can_access"), e = K(b, "is_banned"), f = K(b, "has_warnings"), h = l(bp), g = h.next(); !g.done; g = h.next()) b.tc(g.value);
                    c || window.location.reload();
                    e && (window.location.href = "/");
                    f && (window.location.href = "/accounts/site_message/?next=" + window.location.href);
                    cp(a);
                    M(b)
                })["catch"](function (a) {
                    v("log_presence failed " + a)
                })
            }, 55E3)
        }
    };
    var dp = window.canAutoplay;

    function ep() {
        var a = new hm;
        return new Promise(function (b) {
            function c(c) {
                var f = 0;
                !0 === c && $a("visibilitychange", document, d);
                Wa() && 0 !== e && (f = window.performance.now() - e);
                if (void 0 === dp) r("canAutoplay library is undefined. Resolving autoplay to true"), a.send(!0, f, Error("canAutoplay library is undefined. Resolving autoplay to true")), b(!0);
                else dp.video({
                    inline: !0,
                    muted: !0,
                    timeout: 1E3
                }).then(function (c) {
                    a.send(c.result, f, c.error);
                    b(c.result)
                })["catch"](function (c) {
                    a.send(!1, f, c);
                    b(!1)
                })
            }

            function d() {
                "visible" === document.visibilityState && c(!0)
            }
            var e = 0;
            document.hidden ? (Wa() && (e = window.performance.now()), z("visibilitychange", document, d)) : c()
        })
    };

    function fp() {
        w.call(this);
        var a = this;
        this.qa = document.createElement("div");
        this.label = document.createElement("span");
        this.jh = document.createElement("div");
        this.ig = document.createElement("div");
        this.xf = document.createElement("div");
        this.mf = document.createElement("span");
        this.He = document.createElement("span");
        this.Ob = document.createElement("img");
        this.Nb = document.createElement("img");
        this.sd = document.createElement("span");
        this.da = "";
        this.Gc = 0;
        this.vp = !1;
        this.Mo = Xe;
        this.label.textContent = this.Mo;
        this.label.style.margin = "0 3px";
        this.label.style.verticalAlign = "top";
        this.qa.appendChild(this.label);
        this.jh.style.display = "inline-block";
        this.jh.style.verticalAlign = "top";
        this.ig.style.display = "inline-block";
        this.ig.style.cursor = "pointer";
        this.ig.style.verticalAlign = "top";
        this.mf.style.margin = "0 3px";
        this.mf.style.verticalAlign = "top";
        this.ig.appendChild(this.mf);
        gp(this);
        this.ig.appendChild(this.Ob);
        this.jh.appendChild(this.ig);
        this.sd.style.margin = "0 3px";
        this.sd.style.verticalAlign = "top";
        this.jh.appendChild(this.sd);
        this.xf.style.display = "inline-block";
        this.xf.style.cursor = "pointer";
        this.xf.style.verticalAlign = "top";
        hp(this);
        this.xf.appendChild(this.Nb);
        this.He.style.margin = "0 3px";
        this.He.style.verticalAlign = "top";
        this.xf.appendChild(this.He);
        this.jh.appendChild(this.xf);
        this.qa.appendChild(this.jh);
        this.a.appendChild(this.qa);
        q(T, function (b) {
            a.Ce = b.j;
            a.da = b.h.i;
            a.Gc = b.h.Gc;
            b.h.An && void 0 === b.h.Vj ? (a.mf.style.display = "none", a.sd.style.display = "none", a.He.style.display = "none") : (a.mf.innerText = "" + b.h.$e.mf, a.sd.innerText = b.h.$e.sd + "%", a.He.innerText = "" + b.h.$e.He, a.mf.style.display = "inline", a.sd.style.display = "inline", a.He.style.display = "inline", a.sd.style.color = 85 < b.h.$e.sd ? "#298A08" : 65 < b.h.$e.sd ? "#af5c01" : "#af0101");
            a.label.textContent = b.h.An && void 0 !== b.h.Vj ? Yf : a.Mo;
            0 === b.h.On ? ip(a) : 10 === b.h.On ? jp(a) : (a.aj = !1, a.ih = void 0, a.Ob.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-up-inactive.svg", a.Nb.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-down-inactive.svg");
            a.vp = b.h.xq;
            25 <= a.Gc ? a.Ti() : a.Qi()
        });
        q(ki, function (b) {
            if (25 <= b && (a.Ti(), 25 > a.Gc)) {
                var c = a.Ce.event.R;
                var d = a.da;
                d = R(Q("Note: For tipping at least %(tokens)s tokens today, you can now vote what you think about %(room)s. Your vote is confidential. See below for the satisfaction feedback controls."), {
                    tokens: 25,
                    room: rb(d)
                }, !0);
                t(c, {
                    V: [
                        [Z(d)]
                    ],
                    W: !0
                })
            }
            a.Gc = b
        })
    }
    m(fp, w);

    function gp(a) {
        a.Ob.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-up-inactive.svg";
        a.Ob.height = 15;
        a.Ob.width = 15;
        a.Ob.style.height = "15px";
        a.Ob.style.width = "15px";
        a.Ob.style.verticalAlign = "top";
        a.Ob.style.margin = "0 3px";
        a.Ob.style.opacity = "0.8";
        a.ig.onclick = function (b) {
            b.stopPropagation();
            25 <= a.Gc && (!1 === a.aj || "down" === a.ih) ? B("tipping/rate_model/" + a.da + "/", {
                rating: "10"
            }).then(function () {
                jp(a);
                var b = a.Ce.event.R;
                var d = a.da;
                d = R(Q("Note: Your confidential vote of thumbs up for %(room)s has been recorded. You may change your vote at any time today. Thank you for your feedback."), {
                    room: rb(d)
                }, !0);
                t(b, {
                    V: [
                        [Z(d)]
                    ],
                    W: !0
                });
                kp(a, !0)
            })["catch"](function (a) {
                v("Error rating model: " + a)
            }) : "up" === a.ih && kp(a, !1)
        }
    }

    function hp(a) {
        a.Nb.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-down-inactive.svg";
        a.Nb.height = 15;
        a.Nb.width = 15;
        a.Nb.style.height = "15px";
        a.Nb.style.width = "15px";
        a.Nb.style.verticalAlign = "top";
        a.Nb.style.margin = "0 3px";
        a.Nb.style.opacity = "0.8";
        a.xf.onclick = function (b) {
            b.stopPropagation();
            25 <= a.Gc && (!1 === a.aj || "up" === a.ih) ? Fh(Qb(a.da), function () {
                B("tipping/rate_model/" + a.da + "/", {
                    rating: "0"
                }).then(function () {
                    var b = a.da;
                    b = R(Q("Note: Your confidential vote of thumbs down for %(room)s has been recorded. You may vote once every 90 days, and you may change your vote at any time today.  Thank you for your feedback."), {
                        room: rb(b)
                    }, !0);
                    a.vp && (b = a.da, b = R(Q("Note: Your confidential vote of thumbs down for %(room)s has been refreshed and will expire in 90 days. You may change your vote at any time today. Thank you for your feedback."), {
                        room: rb(b)
                    }, !0));
                    ip(a);
                    t(a.Ce.event.R, {
                        V: [
                            [Z(b)]
                        ],
                        W: !0
                    });
                    kp(a, !0)
                })["catch"](function (a) {
                    v("Error rating model: " + a)
                })
            }) : "down" === a.ih && kp(a, !1)
        }
    }
    fp.prototype.Ti = function () {
        this.Ob.style.opacity = "1";
        this.Nb.style.opacity = "1";
        this.Ob.style.cursor = "pointer";
        this.Nb.style.cursor = "pointer"
    };
    fp.prototype.Qi = function () {
        this.Ob.style.opacity = "0.65";
        this.Nb.style.opacity = "0.65";
        this.Ob.style.cursor = "";
        this.Nb.style.cursor = ""
    };

    function jp(a) {
        a.aj = !0;
        a.ih = "up";
        a.Ob.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-up-active.svg";
        a.Nb.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-down-inactive.svg"
    }

    function ip(a) {
        a.aj = !0;
        a.ih = "down";
        a.Nb.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-down-active.svg";
        a.Ob.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-up-inactive.svg"
    };

    function lp() {
        var a = this;
        this.dk = this.ck = this.fk = this.ek = this.Ig = this.Oh = 0;
        this.$l = !1;
        this.Sn = 0;
        this.Cc = {
            cbVersion: 2,
            href: "",
            unloadTimestamp: 0,
            count: 0
        };
        this.Kl = this.Jl = !1;
        this.Pb = this.j = void 0;
        this.yp = "SessionMetrics";
        this.Jp = function (b) {
            b !== a.j && (void 0 !== a.j && (a.j.event.Nf.removeListener(a.fo), a.j.event.cg.removeListener(a.Bj), a.j.event.Wf.removeListener(a.Bj)), a.j = b, q(a.j.event.Nf, a.fo), q(a.j.event.cg, a.Bj), q(a.j.event.Wf, a.Bj))
        };
        this.Lm = function (b) {
            b !== a.Pb && (void 0 !== a.Pb && a.Pb.ff.removeListener(a.lo), a.Pb = b, q(a.Pb.ff, a.lo, !1))
        };
        this.Gi = function () {
            return void 0 !== a.j && !a.j.yb
        };
        this.Po = function () {
            if (!a.$l && a.Gi()) {
                O(a.yp, {
                    messageSuccessCount: a.Ig,
                    messageFailCount: a.Oh - a.Ig,
                    tipSuccessCount: a.ek,
                    tipSuccessTotal: a.fk,
                    tipFailCount: a.ck,
                    tipFailTotal: a.dk,
                    refreshCount: window.sessionStorage ? a.Cc.count : void 0
                });
                a.$l = !0;
                a.Cc = {
                    cbVersion: 2,
                    href: window.location.href,
                    unloadTimestamp: (new Date).getTime(),
                    count: 0
                };
                try {
                    window.sessionStorage.setItem("refreshMeta", JSON.stringify(a.Cc))
                } catch (b) {}
            }
        };
        this.co = function () {
            T.removeListener(a.co);
            if (void 0 !== window.sessionStorage && a.Gi()) {
                a.Sn = (new Date).getTime();
                try {
                    var b = window.sessionStorage.getItem("refreshMeta");
                    null !== b && (a.Cc = Object.assign({}, a.Cc, JSON.parse(b)))
                } catch (c) {}
                mp(a);
                a.vl = a.pq();
                a.Jl = !1;
                a.Kl = !1
            }
        };
        this.lo = function (b) {
            void 0 !== b.Ja && (!0 === b.Cd ? (a.ek += 1, a.fk += b.Ja) : (a.ck += 1, 0 < b.Ja && (a.dk += b.Ja)))
        };
        this.fo = function () {
            a.Oh += 1
        };
        this.Bj = function (b) {
            void 0 !== a.j && b.eb.username === a.j.username() && a.Ig < a.Oh && (a.Ig += 1)
        };
        this.pq = function () {
            if (void 0 !== window.performance) {
                var a = void 0 !== window.performance.getEntriesByType ? window.performance.getEntriesByType("navigation") : [];
                if (0 < a.length) switch (a[0].type) {
                    case "navigate":
                        return 0;
                    case "reload":
                        return 1;
                    case "back_forward":
                        return 2;
                    case "prerender":
                        return 3;
                    default:
                        return 255
                } else return window.performance.navigation.type
            }
        };
        this.Jr = function () {
            return 1 === a.vl ? 2 === a.Cc.cbVersion : 0 === a.vl || void 0 === a.vl ? a.Cc.href === window.location.href && a.Cc.unloadTimestamp > a.Sn - 1E4 && 2 === a.Cc.cbVersion : !1
        };
        this.op = function () {
            void 0 !== window.sessionStorage && !a.Jl && a.Gi() && (a.Cc.count = a.Jr() ? 1 : 0, a.Jl = !0)
        };
        this.ar = function () {
            if (void 0 !== window.sessionStorage && !a.Kl && a.Gi()) {
                a.Cc = {
                    cbVersion: 2,
                    href: window.location.href,
                    unloadTimestamp: (new Date).getTime(),
                    count: a.Cc.count
                };
                try {
                    window.sessionStorage.setItem("refreshMeta", JSON.stringify(a.Cc)), a.Kl = !0
                } catch (b) {}
            }
        };
        this.Mq = function () {
            a.op();
            a.Po()
        };
        this.mo = function () {
            a.op();
            a.ar();
            a.Po()
        };
        q(T, this.co);
        q(T, function () {
            mp(a)
        });
        q(ng, this.Mq);
        z("beforeunload", window, this.mo);
        z("unload", window, this.mo)
    }

    function mp(a) {
        a.Oh = 0;
        a.Ig = 0;
        a.ek = 0;
        a.fk = 0;
        a.ck = 0;
        a.dk = 0;
        a.$l = !1
    };

    function np() {
        var a = decodeURIComponent(document.cookie).split(";");
        a = l(a);
        for (var b = a.next(); !b.done; b = a.next()) {
            for (b = b.value;
                " " === b.charAt(0);) b = b.substring(1);
            if (0 === b.indexOf("agreeterms=")) return b.substring(11, b.length)
        }
        return ""
    }

    function op(a, b) {
        var c = document.createElement("li");
        c.textContent = b;
        a.appendChild(c)
    }

    function pp(a, b, c) {
        var d = document.createElement("img");
        d.src = b;
        if (void 0 === c ? 0 : c) d.style.margin = "0 10px";
        a.appendChild(d)
    }

    function qp() {
        function a(a) {
            a.style.marginTop = "1em";
            a.style.marginBottom = "1em"
        }

        function b(a, b) {
            a.style.width = "200px";
            a.style.height = "30px";
            a.style.lineHeight = "30px";
            a.style.fontWeight = "700";
            a.style.margin = "10px 5px 0";
            a.style.color = "#0a5a83";
            a.style.display = "inline-block";
            a.style.cursor = "pointer";
            a.style.background = b
        }
        w.call(this);
        var c = this;
        this.qk = new n("agreementMade");
        this.a.style.display = "none";
        this.a.style.lineHeight = "16.8px";
        (this.Ap = "1" === np()) ? t(this.qk, void 0): this.a.style.display = "block";
        var d = document.createElement("div");
        d.style.position = "fixed";
        d.style.top = "0";
        d.style.left = "0";
        d.style.width = "100%";
        d.style.height = "100%";
        d.style.zIndex = "2000";
        d.style.background = "black";
        d.style.fontSize = "12px";
        this.a.appendChild(d);
        var e = document.createElement("div"),
            f = document.createElement("div"),
            h = document.createElement("div"),
            g = document.createElement("p"),
            p = document.createElement("h1"),
            u = document.createElement("p"),
            F = document.createElement("p"),
            C = document.createElement("ul"),
            N = document.createElement("p"),
            E = document.createElement("a"),
            P = document.createElement("a");
        d.appendChild(e);
        e.appendChild(p);
        e.appendChild(f);
        e.appendChild(N);
        e.appendChild(h);
        e.appendChild(g);
        f.appendChild(u);
        f.appendChild(F);
        f.appendChild(C);
        h.appendChild(E);
        h.appendChild(P);
        pp(g, "https://ssl-ccstatic.highwebmedia.com/images/badges/safelabeling.gif");
        pp(g, "https://ssl-ccstatic.highwebmedia.com/images/badges/88x31_RTA-5042-1996-1400-1577-RTA_a.gif", !0);
        pp(g, "https://ssl-ccstatic.highwebmedia.com/images/badges/ApprovedASACPmember.gif");
        op(C, "I have attained the Age of Majority in my jurisdiction;");
        op(C, "The sexually explicit material I am viewing is for my own personal use and I will not expose any minors to the material;");
        op(C, "I desire to receive/view sexually explicit material;");
        op(C, "I believe that as an adult it is my inalienable constitutional right to receive/view sexually explicit material;");
        op(C, "I believe that sexual acts between consenting adults are neither offensive nor obscene;");
        op(C, "The viewing, reading and downloading of sexually explicit materials does not violate the standards of any community, town, city, state or country where I will be viewing, reading and/or downloading the Sexually Explicit Materials;");
        op(C, "I am solely responsible for any false disclosures or legal ramifications of viewing, reading or downloading any material appearing on this site. I further agree that neither this website nor its affiliates will be held responsible for any legal ramifications arising from any fraudulent entry into or use of this website; ");
        op(C, "I understand that my use of this website is governed by the website\u2019s Terms which I have reviewed and accepted, and I agree to be bound by such Terms. ");
        op(C, "I agree that by entering this website, I am subjecting myself, and any business entity in which I have any legal or equitable interest, to the personal jurisdiction of the State of Florida, Miami-Dade County, should any dispute arise at any time between this website, myself and/or such business entity; ");
        op(C, "This warning page constitutes a legally binding agreement between me, this website and/or any business in which I have any legal or equitable interest. If any provision of this Agreement is found to be unenforceable, the remainder shall be enforced as fully as possible and the unenforceable provision shall be deemed modified to the limited extent required to permit its enforcement in a manner most closely representing the intentions as expressed herein;");
        op(C, "All performers on this site are over the age of 18, have consented being photographed and/or filmed, believe it is their right to engage in consensual sexual acts for the entertainment and education of other adults and I believe it is my right as an adult to watch them doing what adults do; ");
        op(C, "The videos and images in this site are intended to be used by responsible adults as sexual aids, to provide sexual education and to provide sexual entertainment; ");
        op(C, "I understand that providing a false declaration under the penalties of perjury is a criminal offense; and ");
        op(C, "I agree that this agreement is governed by the Electronic Signatures in Global and National Commerce Act (commonly known as the \u201cE-Sign Act\u201d), 15 U.S.C. \u00a7 7000, et seq., and by choosing to click on \u201cI Agree. Enter Here\u201d and indicating my agreement to be bound by the terms of this agreement, I affirmatively adopt the signature line below as my signature and the manifestation of my consent to be bound by the terms of this agreement. ");
        p.textContent = "YOU MUST BE OVER 18 AND AGREE TO THE TERMS BELOW BEFORE CONTINUING:";
        u.textContent = "This website contains information, links, images and videos of sexually explicit material (collectively, the \u201cSexually Explicit Material\u201d). Do NOT continue if: (i) you are not at least 18 years of age or the age of majority in each and every jurisdiction in which you will or may view the Sexually Explicit Material, whichever is higher (the \u201cAge of Majority\u201d), (ii) such material offends you, or (iii) viewing the Sexually Explicit Material is not legal in each and every community where you choose to view it.";
        F.textContent = "By choosing to enter this website you are affirming under oath and penalties of perjury pursuant to Title 28 U.S.C. \u00a7 1746 and other applicable statutes and laws that all of the following statements are true and correct:";
        N.textContent = "THIS SITE ACTIVELY COOPERATES WITH LAW ENFORCEMENT IN ALL INSTANCES OF SUSPECTED ILLEGAL USE OF THE SERVICE, ESPECIALLY IN THE CASE OF UNDERAGE USAGE OF THE SERVICE.";
        E.textContent = "Exit";
        P.textContent = "I AGREE";
        P.onclick = function () {
            eb("agreeterms", "1", 365);
            t(c.qk, void 0)
        };
        E.href = "https://google.com/";
        e.style.position = "absolute";
        e.style.top = "50px";
        e.style.left = "20%";
        e.style.right = "20%";
        e.style.minWidth = "700px";
        e.style.border = "2px solid #ccc";
        e.style.background = "white";
        e.style.padding = "20px";
        e.style.color = "#7f7f7f";
        e.style.borderRadius = "20px";
        p.style.color = "#222";
        p.style.textAlign = "center";
        p.style.fontSize = "inherit";
        f.style.height = "200px";
        f.style.overflow = "auto";
        f.style.padding = "0 15px 0 10px";
        f.style.border = "1px solid #ccc";
        f.style.lineHeight = "16px";
        a(u);
        a(F);
        a(g);
        g.style.marginTop = "25px";
        N.style.color = "red";
        N.style.fontWeight = "bold";
        N.style.fontSize = "11px";
        N.style.marginTop = "1em";
        N.style.marginBottom = "1em";
        h.style.textAlign = "center";
        b(E, "#ccc");
        b(P, "orange");
        g.style.textAlign = "center"
    }
    m(qp, w);
    var rp = new n("showJoinOverlay"),
        sp = !1;
    q(T, function (a) {
        !sp && a.j.yb && void 0 !== bb().join_overlay && t(tp, void 0)
    });

    function up() {
        oj.call(this);
        var a = this;
        this.a.style.display = "none";
        this.a.style.position = "fixed";
        this.a.style.width = "560px";
        this.a.style.height = "auto";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.border = "2px solid #cccccc";
        this.a.style.borderRadius = "20px";
        this.a.style.padding = "10px";
        this.a.style.top = "190px";
        this.a.style.fontSize = "12px";
        this.a.style.fontFamily = "UbuntuRegular', Arial, Helvetica, sans-serif";
        this.P.style.backgroundColor = "#000000";
        this.a.appendChild(vp());
        this.Od = document.createElement("iframe");
        this.Od.frameBorder = "0";
        this.Od.marginWidth = "0";
        this.Od.scrolling = "no";
        this.Od.marginHeight = "0";
        this.Od.style.width = "560px";
        this.Od.style.height = "650px";
        this.Od.src = "/accounts/register_iframe/";
        this.a.appendChild(this.Od);
        var b = document.createElement("hr");
        b.style.margin = "15px 0 10px 0";
        b.style.border = "0";
        b.style.color = "#e4e4e4";
        b.style.backgroundColor = "#e4e4e4";
        b.style.height = "1px";
        this.a.appendChild(b);
        b = document.createElement("span");
        var c = document.createElement("img");
        c.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/arrow_back.gif";
        c.style.marginRight = "4px";
        c.style.verticalAlign = "bottom";
        b.appendChild(c);
        this.Rc = document.createElement("a");
        this.Rc.innerText = ke;
        this.Rc.style.color = "#0a5a83";
        this.Rc.style.position = "relative";
        this.Rc.style.top = "-1px";
        this.Rc.onmouseenter = function () {
            a.Rc.style.textDecoration = "underline"
        };
        this.Rc.onmouseleave = function () {
            a.Rc.style.textDecoration = "none"
        };
        b.appendChild(this.Rc);
        this.a.appendChild(b);
        b = document.createElement("span");
        b.style.cssFloat = "right";
        c = document.createElement("img");
        c.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/key.gif";
        c.style.marginRight = "4px";
        c.style.verticalAlign = "bottom";
        b.appendChild(c);
        c = document.createElement("span");
        c.innerText = le;
        c.style.color = "#7f7f7f";
        c.style.position = "relative";
        c.style.top = "-1px";
        c.style.marginRight = "2px";
        b.appendChild(c);
        var d = document.createElement("a");
        d.href = "/auth/login/";
        d.innerText = me;
        d.style.color = "#0a5a83";
        d.style.position = "relative";
        d.style.top = "-1px";
        d.onmouseenter = function () {
            d.style.textDecoration = "underline"
        };
        d.onmouseleave = function () {
            d.style.textDecoration = "none"
        };
        b.appendChild(d);
        this.a.appendChild(b);
        q(this.jc, function () {
            a.B()
        })
    }
    m(up, oj);
    up.prototype.show = function (a) {
        var b = this;
        this.Rc.href = a.anchor.href;
        this.Rc.onclick = a.kj;
        z("click", this.Rc, function () {
            b.B()
        });
        this.Dc();
        this.a.style.display = "block";
        this.C();
        sp = !0;
        this.Od.onload = function () {
            var c = b.Od.contentDocument;
            if (null !== c) {
                var d = c.getElementById("husername");
                null !== d && d.focus();
                c = c.querySelector("a.next");
                c.href = a.anchor.href;
                c.onclick = a.kj;
                z("click", c, function () {
                    b.B()
                })
            }
        };
        O("RegisterIframe_Shown")
    };

    function vp() {
        var a = document.createElement("div");
        a.style.animationName = "spin";
        a.style.position = "absolute";
        a.style.top = "50%";
        a.style.left = "50%";
        a.style.width = "30px";
        a.style.height = "31px";
        a.style.margin = "-15px 0 0 -15px";
        a.style.background = 'url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//loading_spinner.svg")';
        a.style.backgroundSize = "cover";
        a.style.animationName = "spin";
        a.style.webkitAnimationName = "spin";
        a.style.Nr = "2s";
        a.style.webkitAnimationDuration = "2s";
        a.style.Pr = "linear";
        a.style.webkitAnimationTimingFunction = "linear";
        a.style.Or = "infinite";
        a.style.webkitAnimationIterationCount = "infinite";
        a.style.zIndex = "-1";
        return a
    }
    up.prototype.C = function () {
        this.a.style.left = (document.documentElement.clientWidth - this.a.offsetWidth) / 2 + "px"
    };
    up.prototype.B = function () {
        this.gc();
        this.a.style.display = "none"
    };
    var tp = new n("commandeerJoinOverlayAnchors", {
            nd: 500,
            tj: 1
        }),
        wp = new n("restoreJoinOverlayAnchors", {
            nd: 500,
            tj: 1
        }),
        xp = !1;

    function yp(a) {
        var b = this;
        this.anchor = a = void 0 === a ? document.createElement("a") : a;
        if (void 0 !== bb().join_overlay) {
            var c = function () {
                xp = !0;
                zp(b)
            };
            xp ? setTimeout(function () {
                zp(b)
            }, 0) : q(tp, c);
            var d = function () {
                xp = !1;
                b.restore();
                tp.removeListener(c);
                setTimeout(function () {
                    wp.removeListener(d)
                }, 0)
            };
            q(wp, d)
        }
    }

    function zp(a) {
        a.kj = a.anchor.onclick;
        a.anchor.onclick = function (b) {
            b.preventDefault();
            t(rp, a);
            t(wp, void 0)
        }
    }
    yp.prototype.restore = function () {
        this.anchor.onclick = this.kj;
        this.kj = null
    };

    function Ap(a) {
        a = l(a.querySelectorAll("a:not(.nooverlay):not([href='#'])"));
        for (var b = a.next(); !b.done; b = a.next()) new yp(b.value)
    }

    function Bp() {
        var a = document.getElementById("header");
        null !== a && Ap(a);
        a = document.getElementById("footer-holder");
        null !== a && Ap(a)
    };
    var Cp = new n("newFollowedOnline"),
        Dp = new n("onlineFollowedStorage"),
        Ep = new n("onlineFollowedStorage");

    function Fp() {
        if (y()) {
            var a = window.localStorage.getItem("onlineFollowedTab");
            null !== a && (a = JSON.parse(a), a.timestamp = Date.now(), window.localStorage.setItem("onlineFollowedTab", JSON.stringify(a)))
        }
    }

    function Gp() {
        if (y()) {
            var a = window.localStorage.getItem("onlineFollowedTab");
            if (null !== a) {
                a = JSON.parse(a);
                var b = a.username,
                    c = a.onlineFollowedList,
                    d = {
                        ic: {
                            Ue: c.onlineFollowed.online,
                            total: c.onlineFollowed.total
                        },
                        Ze: []
                    };
                c = l(c.roomList);
                for (var e = c.next(); !e.done; e = c.next()) e = e.value, d.Ze.push({
                    i: e.room,
                    Eh: e.image
                });
                c = a.seenRooms;
                e = [];
                for (var f = l(a.unseenRooms), h = f.next(); !h.done; h = f.next()) h = h.value, e.push({
                    i: h.room,
                    Eh: h.image
                });
                return {
                    username: b,
                    Dj: d,
                    Tc: c,
                    rm: e,
                    Bf: a.flash,
                    timestamp: a.timestamp
                }
            }
        }
    }

    function Hp() {
        y() && z("storage", window, function (a) {
            if ("onlineFollowedTab" === a.key) {
                var b = Gp();
                void 0 !== b && t(Dp, b)
            }
            "followedDropdownClicked" === a.key && null !== a.newValue && (b = Gp(), void 0 !== b && (b.timestamp = JSON.parse(a.newValue).timestamp, b.Bf = !1, b.rm = [], t(Ep, b)))
        })
    }

    function Ip(a) {
        a = a.split(/[()/]+/);
        return 4 !== a.length ? {
            Ue: 0,
            total: 0
        } : {
            Ue: parseInt(a[1]),
            total: parseInt(a[2])
        }
    }

    function Jp() {
        function a(a) {
            return a.map(function (a) {
                return {
                    i: a.room,
                    Eh: a.image
                }
            })
        }
        return A("follow/api/online_followed_rooms/").then(function (b) {
            b = new D(b.responseText);
            return {
                ic: {
                    Ue: L(b, "online"),
                    total: L(b, "total")
                },
                Ze: a(G(b, "online_rooms"))
            }
        })
    };

    function Kp(a, b, c) {
        w.call(this);
        var d = this;
        this.ka = a;
        this.md = b;
        this.ec = c;
        this.Ba = document.createElement("div");
        this.kb = document.createElement("div");
        this.Xg = !1;
        this.first = !0;
        this.wg = [];
        this.Qe = [];
        this.Tc = {};
        this.kn = {};
        this.a.onclick = function () {
            d.B()
        };
        z("click", document, function () {
            d.B()
        });
        a = getComputedStyle(this.ka);
        this.a.style.fontSize = a.fontSize;
        this.a.style.fontFamily = a.fontFamily;
        this.a.style.width = "auto";
        this.a.style.height = "auto";
        this.a.style.position = "absolute";
        this.a.style.display = "none";
        this.a.style.overflow = "";
        this.a.style.cursor = "default";
        this.a.style.color = S.jb;
        this.a.style.zIndex = "1000";
        this.a.style.top = "0px";
        this.a.style.left = "0px";
        z("mousedown", this.a, function (a) {
            a.preventDefault()
        });
        this.kb.style.position = "relative";
        this.kb.style.height = "31px";
        this.kb.style.borderRadius = "4px 4px 0px 0px";
        this.kb.style.webkitBorderRadius = "4px 4px 0px 0px";
        this.kb.style.borderTop = "1px solid " + S.Yc;
        this.kb.style.borderLeft = "1px solid " + S.Yc;
        this.kb.style.borderRight = "1px solid " + S.Yc;
        this.kb.style.backgroundColor = S.Xc;
        this.kb.style.zIndex = "2";
        this.kb.style.padding = "5px 11px 4px";
        this.kb.style.display = "inline-block";
        this.kb.style.boxSizing = "border-box";
        this.kb.style.cursor = "pointer";
        this.kb.innerHTML = this.ka.innerHTML;
        this.ec && (this.kb.firstChild.textContent = Id + " ");
        this.xo = this.kb.querySelector(".followed_counts");
        this.Mp = this.kb.querySelector(".followed_arrow_container");
        this.Jc = this.kb.querySelector(".followed_arrow");
        this.Jc.style.fill = S.jb;
        this.ka.onclick = function (a) {
            a.preventDefault();
            a.stopPropagation();
            d.B()
        };
        this.a.appendChild(this.kb);
        this.Ba.style.color = "#0a5a83";
        this.Ba.style.width = "314px";
        this.Ba.style.maxHeight = "450px";
        this.Ba.style.overflowY = "auto";
        this.Ba.style.overflowX = "hidden";
        this.Ba.style.position = "relative";
        this.Ba.style.boxSizing = "border-box";
        this.Ba.style.padding = "8px";
        this.Ba.style.border = "1px solid " + S.Yc;
        this.Ba.style.borderRadius = "0px 4px 4px 4px";
        this.Ba.style.webkitBorderRadius = "0px 4px 4px 4px";
        this.Ba.style.backgroundColor = S.Xc;
        this.Ba.style.marginTop = "-1px";
        this.Ba.style.zIndex = "1";
        this.Ba.onclick = function (a) {
            a.stopPropagation()
        };
        this.a.appendChild(this.Ba);
        q(eg, function () {
            d.B()
        });
        q(T, function () {
            Lp(d)
        });
        Lp(this)
    }
    m(Kp, w);

    function Mp(a, b) {
        for (var c = l(b), d = c.next(); !d.done; d = c.next()) d = d.value, a.Tc[d] = !0, a.kn[d] = !0
    }
    Kp.prototype.update = function (a, b) {
        var c = this;
        b = void 0 === b ? !1 : b;
        this.ic = a.ic;
        Np(this);
        for (var d = {}, e = [], f = [], h = l(a.Ze), g = h.next(); !g.done; g = h.next()) g = g.value, void 0 !== this.Tc[g.i] || this.first ? f.push(g) : e.push(g), this.Tc[g.i] = !0, d[g.i] = g;
        h = 0 < e.length;
        this.Qe = this.Qe.reduce(function (a, b) {
            void 0 === d[b.i] || c.kn[b.i] || a.push(d[b.i]);
            return a
        }, []);
        e = l(e);
        for (g = e.next(); !g.done; g = e.next()) this.Qe.push(g.value);
        e = {};
        this.wg = [];
        var p = l(this.Qe);
        for (g = p.next(); !g.done; g = p.next()) g = g.value, e[g.i] = !0, this.wg.push(new Op(g, !0, this.ec));
        f = l(f);
        for (g = f.next(); !g.done; g = f.next()) g = g.value, void 0 === e[g.i] && this.wg.push(new Op(g, !1, this.ec));
        Lp(this);
        (f = !this.first && h) && !b && t(Cp, void 0);
        this.first = !1;
        return {
            Bf: f,
            Ko: this.Qe
        }
    };

    function Lp(a) {
        if (!a.Xg) {
            for (; null !== a.Ba.firstChild;) a.Ba.removeChild(a.Ba.firstChild);
            if (!a.md) {
                var b = document.createElement("div");
                b.style.margin = "5px 3px";
                var c = document.createElement("a");
                c.style.height = "auto";
                c.style.width = "auto";
                c.style.border = "none";
                c.style.borderRadius = "0px";
                c.style.backgroundColor = S.Xc;
                c.style.textDecoration = "none";
                c.style.cursor = "pointer";
                c.style.cssFloat = "none";
                c.style.padding = "0px";
                c.style.color = S.Lc;
                c.textContent = pf;
                c.href = a.ka.href;
                c.onmouseenter = function () {
                    c.style.textDecoration = "underline";
                    c.style.color = S.jb
                };
                c.onmouseleave = function () {
                    c.style.textDecoration = "none";
                    c.style.color = S.Lc
                };
                c.onclick = function () {
                    O("FollowedDropdownSeeAll")
                };
                b.appendChild(c);
                a.Ba.appendChild(b)
            }
            a.Ba.style.width = "auto";
            b = document.createElement("div");
            b.style.display = "table";
            for (var d = document.createElement("div"), e = 0, f = l(a.wg), h = f.next(); !h.done; h = f.next()) {
                h = h.value;
                0 === e % 2 && (d = document.createElement("div"), d.style.display = "table-row", b.appendChild(d));
                var g = document.createElement("div");
                g.style.display = "table-cell";
                g.appendChild(h.be);
                d.appendChild(g);
                e += 1
            }
            a.Ba.appendChild(b);
            if (0 === a.wg.length) {
                b = document.createElement("div");
                b.style.margin = "5px 3px 5px 3px";
                b.style.fontSize = "12px";
                b.style.fontFamily = "UbuntuRegular";
                b.style.color = S.Ed;
                if (a.md) {
                    var p = document.createElement("a");
                    p.style.height = "auto";
                    p.style.width = "auto";
                    p.style.border = "none";
                    p.style.borderRadius = "0px";
                    p.style.backgroundColor = S.Xc;
                    p.style.color = S.Lc;
                    p.style.textDecoration = "none";
                    p.style.cursor = "pointer";
                    p.style.cssFloat = "none";
                    p.style.padding = "0px";
                    p.href = "/accounts/register/?src=followed_tab&next=" + window.location.pathname;
                    p.textContent = fc;
                    p.onmouseenter = function () {
                        p.style.textDecoration = "underline"
                    };
                    p.onmouseleave = function () {
                        p.style.textDecoration = "none"
                    };
                    d = document.createElement("span");
                    d.textContent = " " + ue + " ";
                    var u = document.createElement("a");
                    u.style.height = "auto";
                    u.style.width = "auto";
                    u.style.border = "none";
                    u.style.borderRadius = "0px";
                    u.style.backgroundColor = S.Xc;
                    u.style.color = S.Lc;
                    u.style.textDecoration = "none";
                    u.style.cursor = "pointer";
                    u.style.cssFloat = "none";
                    u.style.padding = "0px";
                    u.href = "/auth/login/?next=" + window.location.pathname;
                    u.textContent = ec;
                    u.onclick = function (b) {
                        return !a.ec || b.metaKey || b.ctrlKey ? !0 : (a.B(), t(kg, void 0), !1)
                    };
                    u.onmouseenter = function () {
                        u.style.textDecoration = "underline"
                    };
                    u.onmouseleave = function () {
                        u.style.textDecoration = "none"
                    };
                    b.appendChild(p);
                    b.appendChild(d);
                    b.appendChild(u)
                }
                d = document.createElement("span");
                d.textContent = a.md ? qf : rf;
                b.appendChild(d);
                a.Ba.appendChild(b);
                a.Ba.style.width = "331px"
            }
        }
    }

    function Np(a) {
        a.xo.textContent = "(" + a.ic.Ue + "/" + a.ic.total + ")"
    }
    Kp.prototype.show = function () {
        this.Xg || (this.Mp.style.display = "inline-block", this.a.style.display = "block", this.a.style.zIndex = "2000", this.Ba.scrollTop = 0, this.Xg = !0, this.Qe = [])
    };
    Kp.prototype.B = function () {
        if (this.Xg) {
            this.a.style.display = "none";
            this.Xg = !1;
            for (var a = l(this.wg), b = a.next(); !b.done; b = a.next()) b.value.fh();
            Lp(this)
        }
    };

    function Op(a, b, c) {
        var d = this;
        this.i = a;
        this.Cn = b;
        this.ec = c;
        this.be = document.createElement("div");
        this.Aa = document.createElement("a");
        this.be.style.display = "inline-block";
        this.be.style.width = "140px";
        this.be.style.height = "130px";
        this.be.style.borderRadius = "4px";
        this.be.style.border = "1px solid rgba(100, 100, 100, 0.5)";
        this.be.style.margin = "3px";
        this.be.style.cursor = "pointer";
        this.Aa.style.width = "140px";
        this.Aa.style.height = "130px";
        this.Aa.style.borderRadius = "4px";
        this.Aa.style.border = "none";
        this.Aa.style.padding = "0px";
        this.Aa.style.margin = "0px";
        this.Aa.style.display = "block";
        this.Aa.style.cursor = "pointer";
        this.Aa.style.overflow = "hidden";
        this.Aa.style.textOverflow = "ellipsis";
        this.Aa.style.color = S.$b;
        this.Aa.href = "/" + this.i.i + "/";
        this.Aa.style.backgroundColor = this.Cn ? "#f9eed0" : "#f0f1f1";
        this.Aa.onmouseenter = function () {
            d.Aa.style.color = S.jb
        };
        this.Aa.onmouseleave = function () {
            d.Aa.style.color = S.$b
        };
        a = document.createElement("img");
        a.src = this.i.Eh;
        a.width = 140;
        a.height = 105;
        a.style.borderRadius = "3px 3px 0px 0px";
        this.Aa.appendChild(a);
        a = document.createElement("span");
        a.textContent = this.i.i;
        a.style.padding = "5px";
        this.Aa.appendChild(a);
        this.Aa.onclick = function (a) {
            O("FollowedDropdownVisit");
            return !d.ec || a.metaKey || a.ctrlKey ? !0 : (t(eg, d.i.i), !1)
        };
        this.be.appendChild(this.Aa)
    }
    Op.prototype.fh = function () {
        this.Cn = !1;
        this.Aa.style.backgroundColor = "#f0f1f1";
        this.Aa.style.color = S.$b
    };

    function Pp(a, b, c, d, e) {
        function f(a, b) {
            b = void 0 === b ? !1 : b;
            a.timestamp <= g.Jh || a.username !== g.username || (g.ic = a.Dj.ic, Np(g), g.fc.Tc = a.Tc, g.fc.Qe = a.rm, g.fc.update(a.Dj, !0), 0 < a.rm.length ? (g.Sf = !0, g.ka.style.backgroundColor = "#FAE6C4", g.ka.style.color = S.jb, g.Jc.style.fill = S.jb) : (g.Sf = !1, g.fh()), a.Bf && !b && g.Bf(), g.Jh = a.timestamp)
        }

        function h() {
            clearInterval(g.Cf);
            g.Cf = void 0;
            g.Sf = !1;
            g.fh();
            O("FollowedDropdownOpened");
            g.fc.show();
            if (y()) {
                var a = window.localStorage.getItem("onlineFollowedTab");
                if (null !== a) {
                    a = JSON.parse(a);
                    for (var b = l(a.unseenRooms), c = b.next(); !c.done; c = b.next()) a.seenRooms[c.value.room] = !0;
                    a.timestamp = Date.now();
                    a.flash = !1;
                    a.unseenRooms = [];
                    window.localStorage.setItem("onlineFollowedTab", JSON.stringify(a))
                }
            }
            y() && window.localStorage.setItem("followedDropdownClicked", JSON.stringify({
                timestamp: Date.now()
            }))
        }
        var g = this;
        this.ka = a;
        this.fc = b;
        this.md = c;
        this.username = d;
        this.ec = e;
        this.Sf = !1;
        this.xo = this.ka.querySelector(".followed_counts");
        this.Jc = this.ka.querySelector(".followed_arrow");
        this.ka.onmouseenter = function () {
            g.ec ? (g.ka.style.borderBottom = "1px solid " + S.Li, g.ka.style.color = S.jb, g.ka.style.backgroundColor = S.Xc, g.Jc.style.fill = S.jb) : (g.ka.style.color = "", g.ka.style.backgroundColor = "", g.Jc.style.fill = "")
        };
        this.ka.onmouseleave = function () {
            g.Sf ? (g.ka.style.backgroundColor = "#FAE6C4", g.ka.style.color = S.jb, g.Jc.style.fill = S.jb, g.ka.style.borderBottom = "1px solid " + S.Yc) : g.ec && (g.ka.style.borderBottom = "1px solid " + S.Yc, g.ka.style.color = S.$b, g.ka.style.backgroundColor = S.hg, g.Jc.style.fill = S.$b)
        };
        this.ic = Ip(this.ka.innerText);
        Np(this);
        this.ka.onclick = function (a) {
            a.metaKey || a.ctrlKey || (a.preventDefault(), a.stopPropagation(), h())
        };
        z("keydown", this.ka, function (a) {
            if (32 === a.keyCode || "Space" === a.code) a.preventDefault(), h()
        });
        !0 === window.showcam && "string" === typeof window.broadcaster && Mp(this.fc, [window.broadcaster]);
        q(T, function (a) {
            Mp(g.fc, [a.h.i])
        });
        if (!this.md) {
            Hp();
            q(Dp, function (a) {
                f(a)
            });
            q(Ep, function (a) {
                a.timestamp <= g.Jh || (g.ic = a.Dj.ic, Np(g), g.fc.Tc = a.Tc, g.fc.Qe = [], g.fc.update(a.Dj, !0), g.Jh = a.timestamp, clearInterval(g.Cf), g.Cf = void 0, g.Sf = !1, g.fh())
            });
            window._followedTabUpdate = function (a) {
                Mp(g.fc, [a]);
                Qp(g, !0)
            };
            a = 0 === window.location.pathname.lastIndexOf("/followed-cams/", 0) ? void 0 : Gp();
            void 0 !== a && a.username === this.username && 3E4 > Date.now() - a.timestamp ? (this.fc.first = !1, f(a, !0), Fp(), Qp(this, !0)) : Qp(this);
            var p = function (a) {
                clearInterval(g.np);
                g.np = setInterval(function () {
                    g.fc.Xg || Qp(g)
                }, a)
            };
            p(1E4);
            setTimeout(function () {
                p(3E4)
            }, 6E5);
            setTimeout(function () {
                p(6E5)
            }, 18E5);
            setTimeout(function () {
                clearInterval(g.np)
            }, 216E5);
            q(Cp, function () {
                g.Bf()
            })
        }
    }
    Pp.prototype.Bf = function () {
        var a = this;
        if (void 0 === this.Cf) {
            this.Sf = !0;
            var b = 3,
                c = !0;
            this.Cf = setInterval(function () {
                if (c) {
                    if (a.ka.style.backgroundColor = "#FAE6C4", a.ka.style.color = S.jb, a.Jc.style.fill = S.jb, --b, 0 === b) {
                        clearInterval(a.Cf);
                        a.Cf = void 0;
                        return
                    }
                } else a.ec ? (a.ka.style.color = S.$b, a.ka.style.backgroundColor = S.hg, a.Jc.style.fill = S.$b) : (a.ka.style.backgroundColor = "", a.ka.style.color = "", a.Jc.style.fill = "");
                c = !c
            }, 500)
        }
    };

    function Qp(a, b) {
        (void 0 === b || !b) && 1E4 > Date.now() - a.Jh || Jp().then(function (b) {
            a.Jh = Date.now();
            a.ic = b.ic;
            Np(a);
            var c = a.fc.update(b);
            0 === c.Ko.length && (a.Sf = !1, a.fh());
            var e = a.username,
                f = a.fc.Tc,
                h = c.Bf,
                g = c.Ko;
            if (y()) {
                c = {
                    onlineFollowed: {
                        online: b.ic.Ue,
                        total: b.ic.total
                    },
                    roomList: []
                };
                b = l(b.Ze);
                for (var p = b.next(); !p.done; p = b.next()) p = p.value, c.roomList.push({
                    room: p.i,
                    image: p.Eh
                });
                b = [];
                g = l(g);
                for (p = g.next(); !p.done; p = g.next()) p = p.value, b.push({
                    room: p.i,
                    image: p.Eh
                });
                window.localStorage.setItem("onlineFollowedTab", JSON.stringify({
                    username: e,
                    onlineFollowedList: c,
                    seenRooms: f,
                    unseenRooms: b,
                    flash: h,
                    timestamp: Date.now()
                }))
            }
        })
    }
    Pp.prototype.fh = function () {
        this.ec ? (this.ka.style.color = S.$b, this.ka.style.backgroundColor = S.hg, this.Jc.style.fill = S.$b) : (this.ka.style.color = "", this.ka.style.backgroundColor = "", this.Jc.style.fill = "")
    };

    function Rp(a, b, c, d, e) {
        a.style.position = "relative";
        a.style.overflow = "visible";
        a.style.cursor = "pointer";
        b.style.cursor = "pointer";
        var f = new Kp(b, d, e);
        a.appendChild(f.a);
        new Pp(b, f, d, c, e)
    };

    function Sp(a) {
        w.call(this);
        var b = this;
        this.hn = !1;
        this.a.style.position = "static";
        this.a.style.display = "inline-block";
        this.a.style.overflow = "visible";
        this.a.style.height = "38px";
        this.a.style.padding = "16px 19px 0 32px";
        this.a.style.background = S.Yn;
        this.a.style.backgroundColor = S.Xn;
        this.a.style.backgroundPosition = "bottom";
        this.a.style.borderBottom = "1px solid " + S.Yc;
        this.a.style.boxSizing = "border-box";
        this.si = new Tp(Bb(a), "", !0);
        this.si.link.title = sb(a) + "'s Cam";
        this.a.appendChild(this.si.a);
        this.a.appendChild((new Tp(Bd, "/female-cams/")).a);
        this.a.appendChild((new Tp(Dd, "/male-cams/")).a);
        this.a.appendChild((new Tp(Hd, "/couple-cams/")).a);
        this.a.appendChild((new Tp(Fd, "/trans-cams/")).a);
        var c = new Tp(Jd, "/spy-on-cams/");
        c.a.style.display = "none";
        this.a.appendChild(c.a);
        var d = new Tp("", "/followed-cams/", !1, !0);
        a = document.createElement("span");
        a.textContent = Id + " ";
        a.style.verticalAlign = "top";
        d.link.appendChild(a);
        var e = document.createElement("span");
        e.style.verticalAlign = "top";
        e.innerText = "";
        e.className = "followed_counts";
        d.link.appendChild(e);
        var f = new Up;
        f.color(S.$b);
        d.link.appendChild(f.span);
        d.link.onmouseenter = function () {
            d.link.style.color = S.jb;
            d.link.style.backgroundColor = S.Xc;
            d.link.style.borderBottom = "1px solid  " + S.Xc;
            f.color(S.jb)
        };
        d.link.onmouseleave = function () {
            d.link.style.color = S.$b;
            d.link.style.backgroundColor = S.hg;
            d.link.style.border = "1px solid " + S.Yc;
            f.color(S.$b)
        };
        this.a.appendChild(d.a);
        q(T, function (a) {
            Vp(b, a.j.i());
            c.a.style.display = a.j.yb ? "none" : "";
            b.hn || (e.innerText = "(" + a.h.Kq + "/" + a.h.Jq + ")", d.a.style.display = "", d.a.style.overflow = "visible", d.a.style.position = "relative", d.a.style.cursor = "pointer", Rp(d.a, d.link, a.j.username(), a.j.yb, !0), b.hn = !0)
        })
    }
    m(Sp, w);

    function Vp(a, b) {
        a.si.link.innerText = sb(b) + "'s Cam";
        a.si.link.title = sb(b) + "'s Cam"
    }

    function Tp(a, b, c, d) {
        var e = this;
        c = void 0 === c ? !1 : c;
        this.a = document.createElement("div");
        this.link = (void 0 === d ? 0 : d) ? document.createElement("a") : (new yp).anchor;
        this.a.style.cssFloat = "left";
        this.a.style.marginRight = "2px";
        this.a.style.top = "-5px";
        this.a.style.position = "relative";
        this.link.href = b;
        this.link.style.boxSizing = "border-box";
        this.link.style.height = "27px";
        this.link.style.display = "inline-block";
        this.link.style.padding = "5px 11px 0 11px";
        this.link.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.link.style.border = "1px solid " + S.Yc;
        this.link.style.borderRadius = "4px 4px 0 0";
        this.link.style.fontSize = "13px";
        this.link.style.textDecoration = "none";
        this.link.innerText = a;
        c ? (this.link.removeAttribute("href"), this.link.style.fontSize = "15px", this.link.style.color = S.jb, this.link.style.backgroundColor = S.Xc, this.link.style.borderBottom = "1px solid " + S.Li, this.link.style.padding = "4px 11px 0 11px", this.link.style.maxWidth = "180px", this.link.style.whiteSpace = "nowrap", this.link.style.overflow = "hidden", this.link.style.textOverflow = "ellipsis") : (this.link.style.color = S.$b, this.link.style.backgroundColor = S.hg, this.link.onmouseenter = function () {
            e.link.style.color = S.jb;
            e.link.style.backgroundColor = S.Xc;
            e.link.style.borderBottom = "1px solid " + S.Xc
        }, this.link.onmouseleave = function () {
            e.link.style.color = S.$b;
            e.link.style.backgroundColor = S.hg;
            e.link.style.border = "1px solid " + S.Yc
        });
        this.a.appendChild(this.link)
    }

    function Up() {
        this.span = document.createElement("span");
        this.path = document.createElementNS("http://www.w3.org/2000/svg", "path");
        this.span.style.display = "inline-block";
        this.span.style.verticalAlign = "top";
        this.span.style.cursor = "pointer";
        this.span.style.paddingLeft = "5px";
        this.span.style.marginRight = "-4px";
        this.span.className = "followed_arrow_container";
        var a = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        a.setAttribute("height", "16");
        a.setAttribute("width", "12");
        this.path.setAttribute("d", "M0 6l6 6L12 6H0z");
        this.path.setAttribute("class", "followed_arrow");
        a.appendChild(this.path);
        this.span.appendChild(a)
    }
    Up.prototype.color = function (a) {
        this.path.style.fill = a
    };

    function Wp(a, b) {
        function c(a) {
            var c = (new yp).anchor,
                d = a.jk ? "/photo_videos/photoset/detail/" + b + "/" + a.id : "/photo_videos/purchase/" + a.id + "/"; - 1 !== window.location.search.indexOf("from_tube") && (d = d + "?from_tube=" + b);
            c.href = d;
            c.style.position = "relative";
            c.style.display = "inline-block";
            c.style.marginBottom = "17px";
            c.style.marginRight = "5px";
            c.className = "userUpload";
            c.title = a.name;
            c.onmouseenter = function () {
                c.style.cursor = "pointer";
                f.style.textDecoration = "underline"
            };
            c.onmouseleave = function () {
                c.style.cursor = "default";
                f.style.textDecoration = "none"
            };
            c.onclick = function () {
                Eg(d, void 0, "resizable,dependent,scrollbars,height=600,width=800,top=" + (screen.height / 2 - 600) + ",left=" + (screen.width / 2 - 800));
                return !1
            };
            var e = document.createElement("img");
            e.src = a.Wm;
            e.width = 150;
            e.height = 100;
            e.style.padding = "4px";
            e.style.border = "1px solid #ccc";
            e.style.display = "block";
            c.appendChild(e);
            a.jk || (e = document.createElement("img"), e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/locked_rectangle4.png", e.width = 150, e.height = 100, e.style.position = "absolute", e.style.left = "1px", e.style.top = "1px", e.style.padding = "4px", e.style.border = "none", c.appendChild(e));
            a.Ln && (e = document.createElement("img"), e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/play3.png", e.height = 20, e.style.position = "absolute", e.style.top = "7px", e.style.left = "7px", c.appendChild(e));
            "" !== a.qj && (e = document.createElement("span"), e.innerText = a.qj, e.style.backgroundColor = a.Mn, e.style.color = "#fff", e.style.position = "absolute", e.style.top = "89px", e.style.right = "10px", e.style.fontSize = "10px", e.style.padding = "1px 3px", e.style.lineHeight = "11px", c.appendChild(e));
            var f = document.createElement("div");
            f.innerText = a.name;
            f.style.fontSize = "14px";
            f.style.left = "0px";
            f.style.maxWidth = "145px";
            f.style.whiteSpace = "nowrap";
            f.style.textOverflow = "ellipsis";
            f.style.overflow = "hidden";
            f.style.lineHeight = "16px";
            f.style.color = "#0a5a83";
            f.style.textDecoration = "none";
            c.appendChild(f);
            return c
        }
        var d = document.createElement("div");
        d.style.position = "relative";
        d.style.margin = "9px 0";
        d.style.width = "100%";
        d.style.lineHeight = "15px";
        d.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
        var e = document.createElement("span");
        e.innerText = de + ":";
        e.style.display = "inline-block";
        e.style.color = "#0a5a83";
        e.style.fontSize = "14px";
        e.style.width = "150px";
        e.style.verticalAlign = "top";
        e.style.height = "16px";
        d.appendChild(e);
        e = document.createElement("div");
        e.style.display = "inline-block";
        e.style.width = "87.5%";
        e.style.fontFamily = "UbuntuRegular, Arial, Helvetica, sans-serif";
        e.style.color = "#0a5a83";
        for (var f = 0, h = {}, g = l(a), p = g.next(); !p.done; h = {
                mc: h.mc
            }, p = g.next()) {
            p = p.value;
            if (8 === f) {
                f = document.createElement("div");
                h.mc = (new yp).anchor;
                h.mc.href = "/photo_videos/photoset/list_popup/" + b + "/";
                h.mc.innerText = ce;
                h.mc.style.fontSize = "14px";
                h.mc.style.color = "#0a5a83";
                h.mc.onclick = function (a) {
                    var c = "/photo_videos/photoset/list_popup/" + b + "/"; - 1 !== window.location.search.indexOf("from_tube") && (c = c + "?from_tube=" + b);
                    Eg(c, void 0, "resizable,dependent,scrollbars,height=600,width=800,top=" + screen.height / 2 + ",left=" +
                        screen.width / 2);
                    a.preventDefault()
                };
                h.mc.onmouseenter = function (a) {
                    return function () {
                        a.mc.style.cursor = "pointer";
                        a.mc.style.textDecoration = "underline"
                    }
                }(h);
                h.mc.onmouseleave = function (a) {
                    return function () {
                        a.mc.style.cursor = "";
                        a.mc.style.textDecoration = ""
                    }
                }(h);
                f.appendChild(h.mc);
                e.appendChild(f);
                break
            }
            e.appendChild(c(p));
            f += 1
        }
        d.appendChild(e);
        return d
    }

    function Xp(a, b, c) {
        var d = document.createElement("div");
        d.style.fontWeight = "normal";
        d.style.margin = "9px 0";
        d.style.lineHeight = "15px";
        d.style.fontFamily = "UbuntuRegular, Arial, Helvetica, sans-serif";
        var e = document.createElement("span");
        e.innerText = a + ":";
        e.style.display = "inline-block";
        e.style.color = "#0a5a83";
        e.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
        e.style.fontSize = "14px";
        e.style.width = "150px";
        e.style.height = "16px";
        d.appendChild(e);
        a = document.createElement("span");
        c ? a.innerHTML = b : a.innerText = b;
        a.style.color = "#000000";
        a.style.fontSize = "14px";
        a.style.width = "87.5%";
        d.appendChild(a);
        return d
    }

    function Yp(a, b) {
        var c = Xp(rb(b), a, !0),
            d = c.children[0];
        d.style.display = "inline-block";
        d.style.verticalAlign = "top";
        d = c.children[1];
        d.style.display = "inline-block";
        d.style.width = "100%";
        d.style.lineHeight = "16px";
        var e = document.createElement("div");
        c.replaceChild(e, d);
        e.appendChild(d);
        e.style.display = "inline-block";
        0 !== d.children.length && (d.children[0].style.display = "unset");
        return {
            root: c,
            cp: e
        }
    }

    function Zp() {
        w.call(this);
        var a = this;
        this.Oj = [];
        this.a.style.position = "static";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.padding = "21px 15px 15px";
        this.a.style.boxSizing = "border-box";
        this.a.className = "bio-container";
        this.a.style.width = "100%";
        qg(this.a);
        this.va = document.createElement("div");
        this.va.style.overflow = "hidden";
        this.va.style.minHeight = "500px";
        q(T, function (b) {
            b = b.h;
            var c = tg(b.i);
            a.va.parentElement === a.a && a.a.removeChild(a.va);
            a.va = document.createElement("div");
            var d = document.createElement("div");
            d.innerText = rb(b.i) + "'s Bio and Free Webcam";
            d.style.fontSize = "14.4px";
            d.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
            d.style.color = S.Fa;
            d.style.margin = "10px 0 20px";
            d.style.lineHeight = "20px";
            a.va.appendChild(d);
            c.then(function () {
                return a.va.removeChild(d)
            });
            a.va.appendChild(d);
            a.a.appendChild(a.va);
            a.od(b, c)
        })
    }
    m(Zp, w);
    Zp.prototype.show = function () {
        this.a.style.height = "";
        this.a.style.padding = "21px 15px 15px"
    };
    Zp.prototype.B = function () {
        this.a.style.height = "0px";
        this.a.style.padding = "0px"
    };

    function $p(a, b) {
        "" !== b.Gj && a.va.appendChild(Xp(Wc, b.Gj, !1));
        a.va.appendChild(Xp(Xc, isNaN(b.Ui) ? "0" : b.Ui.toString(), !1));
        "" !== b.Ri && a.va.appendChild(Xp($c, b.Ri, !1));
        isNaN(b.ce) || a.va.appendChild(Xp(ad, b.ce.toString(), !1));
        a.va.appendChild(Xp(Yc, b.Rj, !1));
        if ("" !== b.mj) {
            var c = b.mj;
            for (c = c.slice(1, c.length - 1); c.includes('"');) c = c.replace('"', "");
            c = c.split(",").join(", ");
            a.va.appendChild(Xp(dd, c, !1))
        }
        "" !== b.location && a.va.appendChild(Xp(ed, b.location, !1));
        void 0 !== b.Ih && "" !== b.Ih && a.va.appendChild(Xp(gd, b.Ih, !1));
        "" !== b.languages && a.va.appendChild(Xp(fd, b.languages, !1));
        "" !== b.Ci && a.va.appendChild(Xp(bd, b.Ci, !1));
        "" !== b.Uj && a.va.appendChild(Xp(jd, b.Uj, !1));
        "" !== b.Bi && a.va.appendChild(Xp(cd, b.Bi, !1))
    }
    Zp.prototype.od = function (a, b) {
        var c = this;
        b.then(function (b) {
            var d = b.Hf;
            if (d.xn && !d.nj) {
                var f = document.createElement("div");
                f.style.textAlign = "right";
                f.style.lineHeight = "16px";
                var h = (new yp).anchor;
                h.href = "/fanclub/join/" + a.i + "/";
                h.innerText = Cb(a.i);
                h.style.color = "#0a5a83";
                h.style.fontSize = "12px";
                h.style.textDecoration = "none";
                h.style.width = "100%";
                h.style.lineHeight = "16px";
                h.style.verticalAlign = "top";
                h.onmouseenter = function () {
                    h.style.textDecoration = "underline"
                };
                h.onmouseleave = function () {
                    h.style.textDecoration = "none"
                };
                f.appendChild(h);
                c.va.appendChild(f)
            } else if (d.nj) {
                f = document.createElement("div");
                f.style.textAlign = "right";
                f.style.lineHeight = "16px";
                var g = document.createElement("span");
                g.innerText = Db(a.i);
                g.style.fontSize = "12px";
                g.style.color = "rgb(73, 73, 73)";
                f.appendChild(g);
                c.va.appendChild(f)
            }
            f = document.createElement("h1");
            f.innerText = rb(a.i) + "'s " + ld;
            f.style.fontSize = "14.4px";
            f.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
            f.style.color = S.Fa;
            f.style.margin = "10px 0 20px";
            f.style.lineHeight = "20px";
            c.va.appendChild(f);
            $p(c, d);
            1 <= b.Fj.length && (d = Wp(b.Fj, b.Hf.username), c.Oj.push({
                root: d,
                cp: d.children[1]
            }), c.va.appendChild(d));
            1 <= b.ri.length && (d = Yp(b.ri, Tc), c.Oj.push(d), Ap(d.root), c.va.appendChild(d.root));
            1 <= b.pk.length && (b = Yp(b.pk, Uc), c.Oj.push(b), Ap(b.root), c.va.appendChild(b.root));
            c.C()
        })["catch"](function () {
            var a = document.createElement("div");
            a.style.position = "absolute";
            a.style.height = "100%";
            a.style.width = "100%";
            a.style.top = "0";
            a.style.left = "0";
            a.style.display = "block";
            var b = document.createElement("span");
            b.innerText = kd;
            b.style.textAlign = "center";
            b.style.display = "block";
            b.style.padding = "10px";
            a.appendChild(b);
            c.va.style.position = "relative";
            c.va.appendChild(a)
        })
    };
    Zp.prototype.C = function () {
        var a = this;
        this.Oj.forEach(function (b) {
            b.cp.style.width = a.a.clientWidth - 30 - 150 + "px"
        })
    };

    function aq() {
        w.call(this);
        this.rows = [];
        this.Ha = document.createElement("p");
        this.aa = document.createElement("h2");
        this.Af = document.createElement("p");
        this.a.style.minHeight = "800px";
        this.a.style.background = "rgb(255,255,255)";
        this.a.style.padding = "15px";
        this.a.style.width = "100%";
        this.a.style.boxSizing = "border-box";
        this.a.style.position = "static";
        this.Ha.style.display = "block";
        this.Ha.style.fontSize = "12px";
        this.Ha.textContent = "loading...";
        this.aa.innerText = ge + ":";
        this.aa.style.fontSize = "12px";
        this.aa.style.color = S.Ub;
        this.aa.style.fontWeight = "bold";
        this.Af.innerText = he;
        this.Af.style.color = S.Ub;
        this.Af.style.fontSize = "12px";
        this.Af.style.padding = "0.5em 0 1em 0";
        this.a.appendChild(this.Ha);
        this.a.appendChild(this.aa);
        this.a.appendChild(this.Af)
    }
    m(aq, w);
    aq.prototype.od = function () {
        return new Promise(function (a) {
            A("contest/leaderboard_json/?_=" + (new Date).getTime()).then(function (b) {
                b = new D(b.responseText);
                for (var c = [], d = l(ob(b, "top10")), e = d.next(); !e.done; e = d.next()) e = e.value, c.push({
                    Vl: sb(e.room_user),
                    Jo: e.room_slug,
                    Pq: e.points,
                    tq: e.image_url,
                    Ir: e.viewers
                });
                M(b);
                a(c)
            })
        })
    };

    function bq(a) {
        a.rows.forEach(function (b) {
            a.a.removeChild(b)
        });
        a.rows = []
    }

    function cq(a, b) {
        function c(a) {
            function b(a) {
                a.style.display = "table-cell";
                a.style.verticalAlign = "middle";
                a.style.padding = "5px";
                a.style.borderBottom = "1px solid #ccc"
            }

            function c(b, c) {
                b.onclick = function (b) {
                    b.preventDefault();
                    t(eg, a.Jo)
                };
                b.style.cursor = "pointer";
                if (void 0 === c ? 0 : c) b.onmouseenter = function () {
                    return b.style.textDecoration = "underline"
                }, b.onmouseleave = function () {
                    return b.style.textDecoration = ""
                }
            }

            function e(a, b) {
                var c = document.createElement("span"),
                    d = document.createElement("span"),
                    e = document.createElement("span");
                c.style.fontSize = "12px";
                c.style.fontWeight = "400";
                d.style.color = "#0b5d81";
                d.style.fontWeight = "bold";
                e.style.color = "#000";
                d.style.verticalAlign = "middle";
                e.style.verticalAlign = "middle";
                e.style.margin = "0 3px";
                d.textContent = a;
                e.textContent = "" + b;
                c.appendChild(d);
                c.appendChild(e);
                return c
            }
            var p = 1 === d ? "#dc5500" : "#0c6a93",
                u = document.createElement("div"),
                F = document.createElement("div"),
                C = document.createElement("img"),
                N = document.createElement("a"),
                E = document.createElement("div"),
                P = document.createElement("div"),
                da = document.createElement("a"),
                za = document.createElement("div"),
                Ba = e(ee + ":", a.Ir),
                Ca = e(fe + ":", a.Pq);
            N.appendChild(C);
            P.appendChild(da);
            u.style.display = "block";
            E.style.padding = "5px";
            E.style.color = p;
            E.style.width = "500px";
            F.style.fontSize = 1 === d ? "20px" : "16px";
            F.style.color = p;
            F.style.fontWeight = "700";
            F.style.padding = "5px";
            F.style.width = "25px";
            P.style.color = p;
            da.style.color = p;
            da.style.fontFamily = "UbuntuMedium, Arial, Helvetica, sans-serif";
            P.style.fontSize = 1 === d ? "20px" : "16px";
            za.style.color = "#0c6a93";
            C.style.height = "52px";
            C.style.width = "52px";
            p = "/" + a.Jo + "/";
            da.href = p;
            N.href = p;
            C.src = a.tq;
            da.textContent = "" + a.Vl[0].toUpperCase() + a.Vl.slice(1, a.Vl.length);
            F.textContent = d + ".";
            d += 1;
            b(F);
            b(N);
            b(E);
            c(da, !0);
            c(C, !1);
            Ba.style.margin = "0 5px";
            Ca.style.margin = "0 5px";
            P.style.margin = "0 5px";
            E.appendChild(P);
            E.appendChild(za);
            za.appendChild(Ba);
            za.appendChild(Ca);
            u.appendChild(F);
            u.appendChild(N);
            u.appendChild(E);
            return u
        }
        var d = 1;
        b.forEach(function (b) {
            b = c(b);
            a.rows.push(b);
            a.a.appendChild(b)
        })
    }
    aq.prototype.show = function () {
        var a = this;
        this.a.style.display = "";
        this.Ha.style.display = "block";
        this.aa.style.display = "none";
        this.Af.style.display = "none";
        bq(this);
        this.od().then(function (b) {
            a.Ha.style.display = "none";
            a.aa.style.display = "block";
            a.Af.style.display = "block";
            cq(a, b)
        })
    };
    aq.prototype.B = function () {
        bq(this);
        this.a.style.display = "none"
    };

    function dq() {
        w.call(this);
        var a = this;
        this.Ha = document.createElement("span");
        this.aa = document.createElement("div");
        this.Sj = [];
        this.md = !0;
        this.a.style.minHeight = "395px";
        this.a.style.background = "rgb(255,255,255)";
        this.a.style.padding = "15px";
        this.a.style.width = "100%";
        this.a.style.boxSizing = "border-box";
        this.a.style.position = "static";
        this.a.style.color = S.Fa;
        this.Ha.style.display = "block";
        this.Ha.style.fontSize = "12px";
        this.Ha.textContent = "loading...";
        this.a.appendChild(this.Ha);
        var b = document.createElement("div"),
            c = document.createElement("div"),
            d = document.createElement("div");
        b.textContent = bf;
        c.textContent = cf;
        d.textContent = df;
        b.style.fontSize = "14.4115px";
        b.style.lineHeight = "20.1761px";
        b.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        b.style.marginBottom = "20px";
        c.style.fontSize = "14.4115px";
        c.style.lineHeight = "20.1761px";
        c.style.margin = "14.4115px 0";
        c.style.whiteSpace = "nowrap";
        d.style.color = "#0b5d81";
        d.style.marginBottom = "12.0108px";
        d.style.fontSize = "12.0108px";
        d.style.lineHeight = "16.8px";
        d.style.fontWeight = "bold";
        this.aa.appendChild(b);
        this.aa.appendChild(c);
        this.aa.appendChild(d);
        this.a.appendChild(this.aa);
        q(T, function (b) {
            a.md = b.j.yb;
            a.Fe = b.h;
            a.Ha.style.display = "block";
            a.aa.style.display = "none";
            a.ph();
            "block" === a.a.style.display && a.show()
        })
    }
    m(dq, w);
    dq.prototype.od = function () {
        var a = bb(),
            b = ab({
                room: a.Qr,
                _: (new Date).getTime().toString()
            });
        return new Promise(function (a) {
            A("affiliates/intropanel_json/?" + b).then(function (b) {
                b = new D(b.responseText);
                var c = {
                    Fi: I(b, "campaignslug"),
                    ms: I(b, "toururl")
                };
                M(b);
                a(c)
            })
        })
    };
    dq.prototype.ph = function () {
        var a = this;
        this.Sj.forEach(function (b) {
            a.a.removeChild(b)
        });
        this.Sj = []
    };

    function eq(a, b) {
        function c(b, c) {
            var d = document.createElement("div"),
                e = document.createElement("label"),
                f = document.createElement("input");
            d.style.margin = "12.0108px 0";
            d.style.lineHeight = "16.8px";
            f.type = "text";
            f.value = c;
            e.textContent = b;
            e.style.display = "block";
            e.style.color = "#0b5d81";
            e.style.fontSize = "12.012px";
            e.style.lineHeight = "16.8px";
            e.style.fontWeight = "bold";
            e.style.cursor = "pointer";
            e.style.width = "375px";
            e.onclick = function () {
                f.select()
            };
            f.style.display = "block";
            f.style.borderRadius = "4px";
            f.style.fontSize = "12px";
            f.style.fontFamily = "Arial, Helvetica, sans-serif";
            f.style.verticalAlign = "middle";
            f.style.width = "375px";
            f.style.marginTop = "4px";
            f.style.height = "20px";
            f.style.lineHeight = "18px";
            f.style.border = "1px solid #b1b1b1";
            f.style.padding = "2px 4px";
            f.readOnly = !0;
            f.onclick = function () {
                f.select()
            };
            a.Sj.push(d);
            d.appendChild(e);
            d.appendChild(f);
            a.a.appendChild(d)
        }
        var d = sb(a.Fe.i);
        c(R(Q("Share %(username)s's Cam"), {
            username: d
        }, !0) + ":", "https://chaturbate.com/in/?tour=7Bge&campaign=" + b.Fi + "&room=" + a.Fe.i);
        c(Re +
            " Chaturbate.com:", "https://chaturbate.com/in/?tour=OT2s&campaign=" + b.Fi);
        c(R(Q("Embed %(username)s's Cam on Your Webpage"), {
            username: d
        }, !0) + ":", "<iframe src='https://chaturbate.com/in/?tour=SHBY&campaign=" + b.Fi + "&track=embed&room=" + a.Fe.i + "&bgcolor=white' height=528 width=850 style='border: none;'></iframe>");
        c(ef + ":", "<iframe src='https://chaturbate.com/in/?tour=nvfS&campaign=" + b.Fi + "&track=embed&bgcolor=white' height=528 width=850 style='border: none;'></iframe>");
        d = document.createElement("div");
        var e = document.createElement("a");
        e.href = "/affiliates/stats/";
        e.textContent = ff;
        e.style.color = "#0a5a83";
        e.onmouseenter = function () {
            e.style.textDecoration = "underline"
        };
        e.onmouseleave = function () {
            e.style.textDecoration = "none"
        };
        d.textContent = gf;
        d.style.color = S.Fa;
        d.style.fontSize = "12.012px";
        d.style.lineHeight = "16.8px";
        d.style.marginTop = "30px";
        d.appendChild(e);
        a.Sj.push(d);
        a.a.appendChild(d)
    }
    dq.prototype.show = function () {
        var a = this;
        this.Ha.style.display = "block";
        this.aa.style.display = "none";
        this.a.style.display = "block";
        this.ph();
        this.md || this.od().then(function (b) {
            a.Ha.style.display = "none";
            a.aa.style.display = "block";
            eq(a, b)
        })
    };
    dq.prototype.B = function () {
        this.a.style.display = "none";
        this.Ha.style.display = "none"
    };

    function fq(a) {
        fp.call(this);
        var b = this;
        this.lb = document.createElement("div");
        this.pm = !1;
        this.a.style.width = "auto";
        this.a.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.a.style.fontSize = "12px";
        this.a.style.padding = "4px 10px";
        this.a.style.position = "relative";
        this.a.style.top = "-4px";
        this.a.style.right = "1px";
        this.a.style.cssFloat = "right";
        this.a.style.borderRadius = "4px";
        this.a.style.cursor = "pointer";
        this.a.style.marginRight = "10px";
        this.a.onmouseenter = function () {
            if (!b.pm) {
                b.lb.style.display = "block";
                var c = b.a.getBoundingClientRect();
                b.lb.style.top = c.top + Va().scrollTop + a.offsetHeight + 3 + "px";
                b.lb.style.left = c.left + Va().scrollLeft + (c.width - b.lb.offsetWidth) / 2 + "px"
            }
        };
        this.a.onmouseleave = function () {
            b.lb.style.display = "none"
        };
        this.lb.style.position = "absolute";
        this.lb.style.backgroundColor = "#fdf294";
        this.lb.style.width = "220px";
        this.lb.style.border = "2px solid #ff9130";
        this.lb.style.borderRadius = "4px";
        this.lb.style.zIndex = "1";
        this.lb.style.fontSize = "12px";
        this.lb.style.padding = "12px";
        this.lb.style.display = "none";
        this.lb.appendChild(wl("#ff9130", "#fdf294", "123px"));
        this.lb.appendChild(document.createElement("span"));
        a.appendChild(this.lb);
        q(T, function (c) {
            void 0 !== b.De && (gq(b.De), a.removeChild(b.De.a));
            b.De = new hq(c, b.a, function () {
                b.pm = !1
            });
            a.appendChild(b.De.a);
            iq(b, Nb(c.h.i))
        });
        this.Qi()
    }
    m(fq, fp);
    fq.prototype.C = function () {
        void 0 !== this.De && this.De.C()
    };

    function iq(a, b) {
        var c = a.lb.lastChild;
        c.style.color = S.Ub;
        c.innerText = b
    }

    function kp(a, b) {
        a.pm = !0;
        void 0 !== a.De && (a.De.show(b), a.lb.style.display = "none")
    }
    fq.prototype.Ti = function () {
        this.a.style.backgroundColor = "#ffffff";
        Ia() && (this.a.style.background = "linear-gradient(180deg, #ffffff 0%, #ffffff 50%, #dddddd 60%)");
        this.a.style.color = "#0a5a83";
        this.a.style.textShadow = "#94d2e6 1px 1px 0px";
        fp.prototype.Ti.call(this)
    };
    fq.prototype.Qi = function () {
        this.a.style.backgroundColor = "#bbbbbb";
        Ia() && (this.a.style.background = "linear-gradient(180deg, #bbbbbb 0%, #bbbbbb 50%, #aaaaaa 60%)");
        this.a.style.color = "#777777";
        this.a.style.textShadow = "#bababa 1px 1px 0px";
        fp.prototype.Qi.call(this)
    };

    function hq(a, b, c) {
        w.call(this);
        var d = this;
        this.Lo = b;
        this.Lq = c;
        this.jd = document.createElement("div");
        this.label = document.createElement("label");
        this.vb = document.createElement("textarea");
        this.tb = document.createElement("input");
        this.da = "";
        this.Vh = !1;
        this.hidden = !0;
        this.da = a.h.i;
        this.a.style.display = "none";
        this.a.style.width = "350px";
        this.a.style.height = "auto";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.border = "2px solid #0b5d81";
        this.a.style.borderRadius = "4px";
        this.a.style.top = "0px";
        this.a.style.right = "0px";
        this.a.style.overflow = "";
        this.a.style.zIndex = "11";
        this.a.onclick = function (a) {
            a.stopPropagation()
        };
        this.a.appendChild(wl("#0b5d81", "#e0e0e0", "176px"));
        b = document.createElement("div");
        b.innerText = Ue;
        b.style.boxSizing = "border-box";
        b.style.color = "#0b5d81";
        b.style.backgroundColor = "#e0e0e0";
        b.style.width = "100%";
        b.style.fontSize = "15px";
        b.style.fontWeight = "bold";
        b.style.padding = "6px";
        b.style.borderRadius = "4px 4px 0px 0px";
        this.a.appendChild(b);
        b = document.createElement("div");
        b.style.padding = "6px";
        b.style.fontSize = "13px";
        b.style.color = "#777";
        b.innerText = Ob(a.h.i);
        this.a.appendChild(b);
        this.a.appendChild(this.jd);
        jq(this);
        this.B = function () {
            gq(d)
        };
        this.a.onmousemove = function () {
            kq(d, 1E4)
        }
    }
    m(hq, w);
    hq.prototype.show = function (a) {
        this.hidden && (z("click", document, this.B), this.hidden = !1);
        this.a.style.display = "block";
        if (a) {
            for (this.vb.value = ""; null !== this.jd.firstChild;) this.jd.removeChild(this.jd.firstChild);
            this.jd.appendChild(this.label);
            this.jd.appendChild(this.vb);
            this.jd.appendChild(this.tb)
        }
        if (null !== this.a.parentNode) {
            a = this.Lo.getBoundingClientRect();
            var b = this.a.parentElement;
            this.a.style.top = a.top + Va().scrollTop + b.offsetHeight + "px";
            this.a.style.left = a.left + Va().scrollLeft + (a.width - this.a.offsetWidth) / 2 + "px"
        }
        null !== this.vb.parentNode && this.vb.focus();
        kq(this, 1E4)
    };
    hq.prototype.C = function () {
        if (null !== this.a.parentNode) {
            var a = this.Lo.getBoundingClientRect(),
                b = this.a.parentElement;
            this.a.style.top = a.top + Va().scrollTop + b.offsetHeight + 3 + "px";
            this.a.style.left = a.left + Va().scrollLeft + (a.width - this.a.offsetWidth) / 2 + "px"
        }
    };

    function jq(a) {
        a.label.style.fontSize = "13px";
        a.label.style.fontWeight = "bold";
        a.label.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        a.label.style.color = "#777";
        a.label.style.margin = "6px";
        a.label.innerText = Ve;
        a.vb.maxLength = 155;
        a.vb.style.width = "338px";
        a.vb.style.resize = "none";
        a.vb.style.fontSize = "13px";
        a.vb.style.margin = "6px";
        a.vb.style.padding = "4px";
        a.vb.style.border = "1px solid #777";
        a.vb.style.borderRadius = "4px";
        a.vb.style.boxSizing = "border-box";
        a.vb.style.display = "block";
        a.vb.style.height = "81px";
        a.vb.value = "";
        a.vb.oninput = function () {
            lq(a)
        };
        a.tb.setAttribute("type", "submit");
        a.tb.style.fontSize = "12px";
        a.tb.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        a.tb.style.color = "rgb(255,255,255)";
        a.tb.style.padding = "5px 8px 4px";
        a.tb.style.marginRight = "6px";
        a.tb.style.marginBottom = "10px";
        Ia() ? a.tb.style.background = "linear-gradient(rgb(255, 151, 53) 0%, rgb(255, 158, 54) 50%, rgb(255, 112, 2) 60%)" : a.tb.style.backgroundColor = "rgb(255,151,53)";
        a.tb.style.borderRadius = "4px";
        a.tb.style.borderStyle = "none";
        a.tb.style.boxSizing = "border-box";
        a.tb.style.cursor = "pointer";
        a.tb.style.display = "inline-block";
        a.tb.style.cssFloat = "right";
        a.tb.value = "SUBMIT";
        a.tb.onclick = function (b) {
            b.stopImmediatePropagation();
            Gq(a, a.vb.value)
        }
    }

    function Gq(a, b) {
        B("tipping/add_comment/" + a.da + "/", {
            comment: b
        }).then(function () {
            for (; null !== a.jd.firstChild;) a.jd.removeChild(a.jd.firstChild);
            var b = document.createElement("div");
            b.style.width = "300px";
            b.style.margin = "25px";
            b.style.textAlign = "center";
            b.style.fontSize = "13px";
            b.style.color = "#777";
            b.innerText = We;
            a.jd.appendChild(b);
            a.Vh = !1;
            kq(a, 5E3)
        })["catch"](function (a) {
            v("Error rating model: " + a)
        })
    }

    function lq(a) {
        clearTimeout(a.cj);
        a.Vh = !0;
        a.cj = setTimeout(function () {
            a.Vh = !1;
            kq(a, 1E4)
        }, 3E4)
    }

    function kq(a, b) {
        a.Vh || (clearTimeout(a.cj), a.cj = setTimeout(function () {
            gq(a)
        }, b))
    }

    function gq(a) {
        a.hidden || (clearTimeout(a.cj), $a("click", document, a.B), a.Vh = !1, a.Lq(), a.a.style.display = "none", a.hidden = !0)
    };

    function Hq(a) {
        Lj.call(this);
        var b = this,
            c = window.localStorage.getItem("numPushNotificationTimeouts"),
            d = window.localStorage.getItem("pushNotificationTimeout"),
            e = new Date,
            f;
        if (null !== c && null !== d) {
            var h = new Date(d);
            if (e < h) return
        }
        this.parentElement = a;
        this.parentElement.appendChild(this.a);
        this.parentElement.insertBefore(this.P, this.a);
        this.Dc();
        this.a.style.position = "absolute";
        this.a.style.height = "";
        this.a.style.width = "264px";
        this.a.style.backgroundColor = "#e0e0e0";
        this.a.style.padding = "6px 12px";
        this.a.style.borderRadius = "3px";
        this.a.style.marginLeft = "-221px";
        this.a.style.marginTop = "32px";
        this.a.style.boxShadow = "0 0 5px 0 rgba(0,0,0,0.75)";
        this.a.style.fontSize = "12.012px";
        this.a.style.color = S.Fa;
        this.a.style.overflow = "";
        this.a.style.lineHeight = "16.8px";
        a = document.createElement("div");
        a.innerText = "\u25b2";
        a.style.position = "absolute";
        a.style.top = "-11px";
        a.style.left = "250px";
        a.style.color = "#e0e0e0";
        a.style.textShadow = "0 -2px 4px rgba(0,0,0,0.65)";
        a.style.fontSize = "15px";
        this.a.appendChild(a);
        a = document.createElement("div");
        a.innerText = "\u25b2";
        a.style.position = "absolute";
        a.style.top = "-10px";
        a.style.left = "247px";
        a.style.color = "#e0e0e0";
        a.style.fontSize = "21px";
        this.a.appendChild(a);
        a = document.createElement("div");
        a.innerText = ve;
        a.style.color = "#0c6a93";
        this.a.appendChild(a);
        a = document.createElement("div");
        a.innerText = we;
        a.style.margin = "5px 0 10px";
        a.style.fontSize = "11px";
        this.a.appendChild(a);
        var g = document.createElement("div");
        g.innerText = ye;
        g.style.display = "inline-block";
        g.style.backgroundColor = "#0c6a93";
        g.style.padding = "5px 30px";
        g.style.borderRadius = "3px";
        g.style.color = "#eeeeee";
        g.style.cursor = "pointer";
        g.onmouseenter = function () {
            g.style.backgroundColor = "#0c6a93cc"
        };
        g.onmouseleave = function () {
            g.style.backgroundColor = "#0c6a93"
        };
        g.onclick = function () {
            window.subscribeUserToPush()["catch"](function (a) {
                400 === a.status && V(xe)
            });
            Iq(b)
        };
        this.a.appendChild(g);
        var p = document.createElement("div");
        p.innerText = ze;
        p.style.display = "inline-block";
        p.style.marginLeft = "10px";
        p.style.cursor = "pointer";
        p.onmouseenter = function () {
            p.style.textDecoration = "underline"
        };
        p.onmouseleave = function () {
            p.style.textDecoration = ""
        };
        p.onclick = function () {
            Iq(b);
            e = new Date;
            null !== c && null !== d ? (f = parseInt(c) + 1, h = new Date(d)) : (f = 1, h = new Date);
            h.setTime(e.getTime() + 36E5 * (168 < Math.pow(2, f) ? 168 : Math.pow(2, f)));
            window.localStorage.setItem("numPushNotificationTimeouts", f.toString());
            window.localStorage.setItem("pushNotificationTimeout", h.toString())
        };
        this.a.appendChild(p);
        q(this.jc, function () {
            Iq(b)
        })
    }
    m(Hq, Lj);

    function Iq(a) {
        a.parentElement.removeChild(a.P);
        a.parentElement.removeChild(a.a)
    };

    function Jq(a, b, c) {
        w.call(this);
        this.Hm = c;
        this.da = a.room;
        c = this.a;
        c.style.display = "inline-block";
        c.style.width = "180px";
        c.style.backgroundColor = S.Nm;
        c.style.cssFloat = "left";
        c.style.margin = "0 7px 7px 0";
        c.style.border = "1px solid " + S.Om;
        c.style.borderRadius = "4px";
        c.style.webkitBorderRadius = "4px";
        c.style.maxHeight = "222px";
        c.style.overflow = "hidden";
        c.style.position = "relative";
        var d = document.createElement("a");
        d.style.textDecoration = "none";
        d.style.color = S.Bk;
        d.href = "/" + a.room + "/";
        d.onclick = b;
        this.je = document.createElement("img");
        this.je.style.display = "block";
        this.je.style.borderStyle = "none";
        this.je.width = 180;
        this.je.height = 135;
        this.je.src = a.img;
        d.appendChild(this.je);
        c.appendChild(d);
        c.appendChild(Kq(a.label));
        d = document.createElement("div");
        d.style.padding = "4px 7px 0";
        d.style.textAlign = "left";
        var e = document.createElement("div");
        e.style.width = "100%";
        e.style.overflow = "hidden";
        e.style.borderBottom = "1px solid #ACACAC";
        var f = document.createElement("a");
        f.style.cssFloat = "left";
        f.style.color = S.Bk;
        f.style.font = "14px 'UbuntuMedium',Arial,Helvetica,sans-serif";
        f.style.width = "125px";
        f.style.overflow = "hidden";
        f.style.textDecoration = "none";
        f.textContent = a.room;
        f.href = "/" + a.room + "/";
        f.onclick = b;
        e.appendChild(f);
        b = document.createElement("span");
        b.style.cssFloat = "right";
        b.style.color = S.Ak;
        b.style.padding = "2px 18px 0 0";
        b.style.font = "12px 'UbuntuMedium',Arial,Helvetica,sans-serif";
        b.style.minHeight = "15px";
        b.style.background = "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//icon" + {
            f: "Female",
            m: "Male",
            s: "Trans",
            c: "Couple"
        } [a.gender] + ".png) no-repeat 100% 0";
        b.textContent = a.display_age;
        e.appendChild(b);
        d.appendChild(e);
        b = document.createElement("ul");
        b.style.height = null === a.location ? "32px" : "16px";
        b.style.listStyle = "none";
        b.style.margin = "0";
        b.style.padding = "0";
        b.style.fontSize = "11px";
        b.style.lineHeight = "16px";
        b.style.width = "168px";
        b.style.overflow = "hidden";
        b.style.color = S.Pm;
        e = document.createElement("li");
        e.style.width = "auto";
        e.style.background = "0 0";
        e.style.border = "0";
        e.style.margin = "0";
        e.style.padding = "0 2px";
        e.innerHTML = a.subject;
        f = l(e.querySelectorAll("a"));
        for (var h = f.next(); !h.done; h = f.next()) h.value.style.color = S.Qm;
        b.appendChild(e);
        d.appendChild(b);
        b = document.createElement("ul");
        b.style.listStyle = "none";
        b.style.margin = "0";
        b.style.padding = "0 0 4px";
        b.style.fontSize = "11px";
        b.style.color = S.Ak;
        b.style.overflow = "hidden";
        null !== a.location && (e = document.createElement("li"), e.style.width = "145px", e.style.height = "15px", e.style.overflow = "hidden", e.style.margin = "0", e.style.padding = "0 0 0 18px", e.style.background = "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//ico-01.png) no-repeat 0 50%", e.style.whiteSpace = "nowrap", e.textContent = "" + a.location, b.appendChild(e));
        e = document.createElement("li");
        e.style.width = "145px";
        e.style.height = "15px";
        e.style.overflow = "hidden";
        e.style.margin = "0";
        e.style.padding = "0 0 0 18px";
        e.style.background = "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//ico-cams.png) no-repeat 0 50%";
        e.style.whiteSpace = "nowrap";
        e.textContent = a.time_online + ", " + a.viewers + " viewers";
        b.appendChild(e);
        d.appendChild(b);
        c.appendChild(d);
        this.Hm && Lq(this)
    }
    m(Jq, w);

    function Lq(a) {
        a.Zk = new uh(a.da, a.je);
        z("mouseenter", a.a, function () {
            wh(a.Zk)
        });
        z("mouseleave", a.a, function () {
            a.Zk.cf = !1
        })
    }
    Jq.prototype.$d = function () {
        this.Hm && (this.Zk.cf = !1);
        w.prototype.$d.call(this)
    };

    function Kq(a) {
        var b = document.createElement("div");
        b.style.position = "absolute";
        b.style.top = "119px";
        b.style.right = "3px";
        b.style.padding = "1px 3px";
        b.style.textAlign = "center";
        b.style.font = "10px 'UbuntuRegular',Arial,Helvetica,sans-serif";
        b.style.color = S.$o;
        switch (a) {
            case "recommended":
                b.textContent = Pf;
                b.style.backgroundColor = S.ap;
                break;
            case "offline":
                b.textContent = Qf;
                b.style.backgroundColor = S.bp;
                break;
            case "exhib":
                b.textContent = Rf;
                b.style.backgroundColor = S.Zo;
                break;
            case "new":
                b.textContent = Sf;
                b.style.backgroundColor = "#71b404";
                b.style.color = "#FFFFFF";
                break;
            case "hd":
                b.textContent = Tf;
                b.style.backgroundColor = S.$j;
                break;
            case "hd_plus":
                b.textContent = Uf;
                b.style.backgroundColor = S.$j;
                break;
            case "private":
                b.textContent = Vf;
                b.style.backgroundColor = S.km;
                break;
            case "group":
                b.textContent = Wf;
                b.style.backgroundColor = S.km;
                break;
            default:
                b.textContent = Xf, b.style.backgroundColor = S.$j
        }
        return b
    };

    function Mq() {
        this.active = !1;
        this.name = "RoomAnimMlt";
        var a = window.experiments;
        void 0 !== a && (a = a.active, this.active = void 0 !== a && -1 !== a.indexOf("RoomAnimMlt"))
    };

    function Nq() {
        w.call(this);
        this.a.style.position = "static"
    }
    m(Nq, w);

    function Oq(a) {
        w.call(this);
        var b = this;
        this.Ha = document.createElement("span");
        this.Pf = document.createElement("div");
        this.xj = document.createElement("div");
        this.ec = !0;
        void 0 !== a && (this.i = a, this.ec = !1);
        this.a.style.minHeight = "395px";
        this.a.style.background = "rgb(255,255,255)";
        this.a.style.padding = "15px";
        this.a.style.width = "100%";
        this.a.style.boxSizing = "border-box";
        this.a.style.position = "static";
        this.a.style.color = S.Fa;
        this.a.style.margin = "10px 0";
        this.Ha.style.display = "block";
        this.Ha.style.fontSize = "12px";
        this.Ha.textContent = "loading...";
        this.a.appendChild(this.Ha);
        this.Pf.style.display = "none";
        this.Pf.style.fontSize = "14px";
        a = document.createElement("div");
        a.textContent = Of;
        a.style.marginBottom = "10px";
        this.xj.style.marginBottom = "10px";
        this.Pf.appendChild(this.xj);
        this.Pf.appendChild(a);
        this.a.appendChild(this.Pf);
        this.Ze = new Nq;
        this.N(this.Ze);
        q(T, function (a) {
            b.Ha.style.display = "block";
            b.i = a.h.i;
            "block" === b.a.style.display && b.show()
        })
    }
    m(Oq, w);
    Oq.prototype.ph = function () {
        Da(this.Ze);
        this.xj.textContent = "";
        this.Pf.style.display = "none"
    };
    Oq.prototype.od = function (a) {
        var b = this;
        a = void 0 === a ? !1 : a;
        if (void 0 !== this.i) {
            var c = this.i;
            A("api/more_like/" + this.i + "/").then(function (d) {
                if (b.i === c) {
                    a && b.ph();
                    var e = new D(d.responseText);
                    b.Ha.style.display = "none";
                    K(e, "has_recommendations") || (b.xj.textContent = R(Q("Sorry, we don't have any rooms similar to %(room)s yet."), {
                        room: c
                    }, !0), b.Pf.style.display = "block");
                    d = function (a, c) {
                        return function (d) {
                            O("LoadRoomFromRoomList", {
                                location: "more_like_this",
                                from_username: c,
                                username: a.room
                            });
                            !b.ec || d.metaKey || d.ctrlKey || (d.preventDefault(), t(eg, a.room))
                        }
                    };
                    var f = new Mq;
                    e = ob(e, "rooms");
                    e = l(e);
                    for (var h = e.next(); !h.done; h = e.next()) h = h.value, h.room !== b.i && (h = new Jq(h, d(h, b.i), f.active), b.Ze.N(h))
                }
            })
        }
    };
    Oq.prototype.show = function () {
        var a = this;
        this.Ha.style.display = "block";
        this.a.style.display = "block";
        this.ph();
        this.od();
        clearInterval(this.Il);
        this.Il = setInterval(function () {
            a.od(!0)
        }, 45E3)
    };
    Oq.prototype.B = function () {
        this.a.style.display = "none";
        this.Ha.style.display = "none";
        clearInterval(this.Il);
        this.Il = void 0
    };
    var Kh;

    function Pq() {
        function a() {
            c.style.display = "block";
            var a = b.a.getBoundingClientRect();
            c.style.top = a.top + Va().scrollTop + b.Zb.offsetHeight + 8 + "px";
            c.style.left = a.left + Va().scrollLeft - c.offsetWidth + b.a.clientWidth + 16 + "px"
        }
        w.call(this);
        var b = this;
        this.ze = "Bio";
        this.Yo = [];
        this.a.style.position = "static";
        this.a.style.border = "1px solid #acacac";
        this.a.style.borderRadius = "4px 4px 0 0";
        this.a.style.boxSizing = "border-box";
        this.a.style.backgroundColor = "#FFFFFF";
        this.Zb = document.createElement("div");
        this.Zb.style.height = "30px";
        this.Zb.style.padding = "8px 4px";
        this.Zb.style.backgroundColor = "#7f7f7f";
        this.Zb.style.boxSizing = "border-box";
        this.a.appendChild(this.Zb);
        var c = document.createElement("div");
        c.innerHTML = Oe;
        c.style.position = "absolute";
        c.style.backgroundColor = "#fdf294";
        c.style.color = S.Ub;
        c.style.width = "220px";
        c.style.border = "2px solid #ff9130";
        c.style.borderRadius = "6px";
        c.style.zIndex = "1";
        c.style.fontSize = "12px";
        c.style.padding = "12px";
        c.style.display = "none";
        c.appendChild(wl("#ff9130", "#fdf294", "170px"));
        this.Zb.appendChild(c);
        var d = new n("followingEvent");
        q(d, function (a) {
            a.Df ? (f.style.display = "none", h.style.display = "inline") : (f.style.display = "inline", h.style.display = "none")
        });
        var e = document.createElement("div");
        e.style.display = "inline-block";
        e.style.cssFloat = "right";
        this.Zb.appendChild(e);
        var f = document.createElement("span");
        f.innerText = Qe;
        f.style.color = "#ffffff";
        f.style.backgroundColor = "#ff7002";
        Ia() && (f.style.background = "linear-gradient(180deg, #ff9735 0%, #ff9e36 50%, #ff7002 60%)");
        f.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        f.style.fontSize = "12px";
        f.style.textShadow = "#f18112 1px 1px 0px";
        f.style.padding = "4px 10px 3px 10px";
        f.style.position = "relative";
        f.style.top = "-4px";
        f.style.right = "1px";
        f.style.cssFloat = "right";
        f.style.borderRadius = "4px";
        f.style.cursor = "pointer";
        f.style.display = "none";
        f.onclick = function () {
            Jh(d);
            if (!b.md) {
                var a = window.isBrowserNotificationSupported,
                    c = window.isSubscribedToBrowserNotifications;
                void 0 !== a && !0 === a() && void 0 !== c && y() && c(!1, function () {
                    new Hq(e)
                })
            }
        };
        f.onmouseenter = function () {
            a()
        };
        f.onmouseleave = function () {
            c.style.display = "none"
        };
        e.appendChild(f);
        var h = document.createElement("span");
        h.innerText = Pe;
        h.style.color = "#ffffff";
        h.style.backgroundColor = "#ff7002";
        Ia() && (h.style.background = "linear-gradient(180deg, #a9a9a9 0%, #adadad 50%, #8b8b8b 60%)");
        h.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        h.style.fontSize = "12px";
        h.style.textShadow = "#383838 1px 1px 0px";
        h.style.padding = "4px 10px 3px 10px";
        h.style.position = "relative";
        h.style.top = "-4px";
        h.style.right = "1px";
        h.style.cssFloat = "right";
        h.style.borderRadius = "4px";
        h.style.cursor = "pointer";
        h.style.display = "none";
        h.onclick = function () {
            Lh(d)
        };
        h.onmouseenter = function () {
            a()
        };
        h.onmouseleave = function () {
            c.style.display = "none"
        };
        e.appendChild(h);
        this.$e = new fq(this.Zb);
        this.Zb.appendChild(this.$e.a);
        var g = {
                Bio: new Zp,
                "Contest Stats": new aq,
                Share: new dq,
                "More Rooms Like This": new Oq
            },
            p;
        for (p in g) this.N(g[p]), g[p].B();
        Qq(this, g);
        var u = Rq(this, "Share", Re, g.Share);
        u.anchor.style.display = "none";
        var F = Rq(this, "Bio", Se, g.Bio);
        this.Zb.appendChild(F.anchor);
        S.cm && this.Zb.appendChild(Rq(this, "Contest Stats", Te, g["Contest Stats"]).anchor);
        var C = Rq(this, "More Rooms Like This", Nf, g["More Rooms Like This"]);
        this.Zb.appendChild(C.anchor);
        S.cm && this.Zb.appendChild(u.anchor);
        g[this.ze].show();
        q(T, function (a) {
            b.md = a.j.yb;
            u.anchor.style.display = b.md ? "none" : "";
            a.j.i() === a.j.username() ? (C.anchor.style.display = "none", "More Rooms Like This" === b.ze && Sq(b, "Bio", F)) : C.anchor.style.display = "";
            Kh = a.j.i();
            a.h.Df ? (f.style.display = "none", h.style.display = "inline") : (f.style.display = "inline", h.style.display = "none")
        })
    }
    m(Pq, w);

    function Rq(a, b, c, d) {
        var e = document.createElement("a");
        e.href = "#";
        e.innerText = c;
        e.style.borderRadius = "4px 4px 0 0";
        e.style.textDecoration = "none";
        e.style.fontSize = "13px";
        e.style.marginRight = "2px";
        e.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        e.style.padding = "4px 8px 4px 8px";
        e.style.color = "#4c4c4c";
        e.style.background = "#c9c9c9";
        e.style.position = "relative";
        e.style.top = "2px";
        b === a.ze && Tq(e);
        var f = {
            anchor: e,
            In: d
        };
        a.Yo.push(f);
        e.onclick = function (c) {
            c.preventDefault();
            c.stopPropagation();
            Sq(a, b, f);
            c = a.ze;
            y() && window.localStorage.setItem("selectedRoomTab", c)
        };
        e.onmouseenter = function () {
            Tq(e)
        };
        e.onmouseleave = function () {
            a.ze !== b && Uq(e)
        };
        return f
    }

    function Qq(a, b) {
        if (y()) {
            var c = window.localStorage.getItem("selectedRoomTab");
            null !== c && void 0 !== b[c] && (a.ze = c)
        }
    }

    function Tq(a) {
        a.style.color = "#dc5500";
        a.style.background = "#fff"
    }

    function Uq(a) {
        a.style.color = "#4c4c4c";
        a.style.background = "#c9c9c9"
    }

    function Sq(a, b, c) {
        a.ze !== b && (a.Yo.forEach(function (a) {
            Uq(a.anchor);
            a.In.B()
        }), Tq(c.anchor), c.In.show(), a.ze = b)
    }
    Pq.prototype.C = function () {
        this.$e.C()
    };

    function Vq() {
        Lj.call(this);
        var a = this;
        this.a.style.visibility = "hidden";
        this.a.style.width = "350px";
        this.a.style.height = "203px";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.border = "2px solid #0b5d81";
        this.a.style.borderRadius = "4px";
        this.a.style.overflow = "";
        z("keydown", this.a, function (b) {
            27 === b.keyCode && a.B()
        });
        this.a.appendChild(wl("#0b5d81", "#e0e0e0", "304px"));
        this.aa = document.createElement("div");
        this.aa.innerText = ud;
        this.aa.style.color = "#0b5d81";
        this.aa.style.backgroundColor = "#e0e0e0";
        this.aa.style.fontSize = "15px";
        this.aa.style.fontFamily = "UbuntuBold, Arial, Helvetica, sans-serif";
        this.aa.style.padding = "6px";
        this.a.appendChild(this.aa);
        q(this.jc, function () {
            a.B()
        })
    }
    m(Vq, Lj);
    Vq.prototype.show = function (a) {
        var b = this;
        this.Yd = this.N(new Gl);
        q(this.Yd.Ki, function () {
            b.B()
        });
        this.td = a;
        this.Dc();
        this.C();
        this.Yd.a.style.height = Math.max(0, this.a.clientHeight - this.aa.clientHeight) + "px";
        this.a.style.visibility = "visible";
        this.Yd.gd.focus();
        x(this)
    };
    Vq.prototype.C = function () {
        void 0 === this.td ? this.B() : (this.a.style.top = this.td.offsetHeight - 4 + "px", this.a.style.left = this.td.offsetLeft + this.td.offsetWidth - this.a.offsetWidth - 5 + "px")
    };
    Vq.prototype.B = function () {
        this.removeChild(this.Yd);
        this.gc();
        this.a.style.visibility = "hidden"
    };

    function Wq(a) {
        w.call(this);
        var b = this;
        this.H = a;
        this.state = {
            videoWidth: 500
        };
        this.Hh = !1;
        Xq(this);
        this.a.style.display = "inline-block";
        this.a.style.width = "8px";
        this.a.style.boxSizing = "border-box";
        z("mousedown", this.a, function (c) {
            c.preventDefault();
            b.H.a.onmousemove = function (c) {
                c = c.pageX - a.Na.a.getBoundingClientRect().left - b.a.offsetWidth / 2;
                Yq(b, c);
                x(b.H)
            };
            b.H.a.onmouseup = function () {
                Zq(b)
            };
            b.H.a.onmouseleave = function () {
                Zq(b)
            };
            b.Hh = !0
        });
        z("touchmove", this.a, function (c) {
            c.preventDefault();
            1 === c.targetTouches.length && (b.H.a.ontouchmove = function () {
                var d = c.targetTouches.item(0);
                null !== d && (d = d.pageX - a.Na.a.getBoundingClientRect().left - b.a.offsetWidth / 2, Yq(b, d), x(b.H))
            }, b.H.a.ontouchend = function () {
                Zq(b)
            }, b.Hh = !0)
        });
        this.a.onmouseenter = function () {
            b.a.style.backgroundImage = 'url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize.gif")'
        };
        this.a.onmouseleave = function () {
            b.Hh || (b.a.style.backgroundImage = 'url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize_arrows.gif")')
        };
        setTimeout(function () {
            b.a.style.cursor = $q(b);
            b.a.style.background = '#e0e0e0 url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize_arrows.gif") no-repeat left center';
            Yq(b);
            Zq(b)
        }, 0);
        q(Mj, function (a) {
            b.T = a.Wa;
            "default" === b.T && (Xq(b), Yq(b))
        })
    }
    m(Wq, w);

    function Yq(a, b) {
        b = void 0 === b ? a.state.videoWidth : b;
        var c = Math.max(b, 502);
        c = Math.min(ar(a), c);
        switch (a.T) {
            case "default":
                a.H.Na.a.style.width = c + "px";
                a.H.Na.u.a.style.height = c * (a.H.Na.u.xc ? .5625 : .75) + a.H.Na.u.L.Kb() + "px";
                a.H.ia.a.style.width = a.H.a.clientWidth - c - a.a.offsetWidth - 2 * a.H.bg + "px";
                break;
            case "theater":
                a.H.Na.a.style.width = a.H.a.clientWidth - 2 * a.H.bg + "px";
                break;
            case "fullscreen":
                a.H.Na.a.style.width = window.innerWidth + "px";
                break;
            default:
                v("Unexpected VideoMode: " + a.T)
        }
        a.state.videoWidth = c;
        "default" === a.T && (c = $q(a), a.a.style.cursor = c, a.H.a.style.cursor = c)
    }

    function Zq(a) {
        "default" === a.T && (a.xd(), a.H.a.onmousemove = function () {}, a.H.a.onmouseup = function () {}, a.H.a.onmouseleave = function () {}, a.H.a.ontouchend = function () {}, a.H.a.ontouchmove = function () {}, a.H.a.style.cursor = "", a.a.style.backgroundImage = 'url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize_arrows.gif")', a.Hh = !1)
    }

    function ar(a) {
        return "default" === a.T ? a.H.a.clientWidth - 250 : a.H.a.clientWidth - 2 * a.H.bg
    }

    function $q(a) {
        var b = a.H.Na.a.offsetWidth;
        return 500 >= b ? "e-resize" : b >= ar(a) ? "w-resize" : "ew-resize"
    }

    function Xq(a) {
        if (y()) {
            var b = window.localStorage.getItem("defaultVideoWidth");
            if (null !== b) {
                a.state = {
                    videoWidth: JSON.parse(b).videoWidth
                };
                return
            }
        }
        if ("default" === a.T) {
            b = window.innerWidth;
            if (ar(a) > b / 2) {
                var c = b / 2;
                b = c * (a.H.Na.u.xc ? .5625 : .75)
            } else b = window.innerHeight - 166, c = b / (a.H.Na.u.xc ? .5625 : .75);
            b > window.innerHeight - 166 && (b = window.innerHeight - 166, c = b / (a.H.Na.u.xc ? .5625 : .75));
            500 > c && (c = 500);
            a.state.videoWidth = c
        }
    }
    Wq.prototype.xd = function () {
        y() && window.localStorage.setItem("defaultVideoWidth", JSON.stringify({
            videoWidth: this.state.videoWidth
        }))
    };
    Wq.prototype.C = function () {
        Yq(this);
        this.Hh || Zq(this)
    };

    function br(a, b) {
        function c() {
            if ("default" === d.T) d.zb.a.style.padding = "0", t(d.zb.Ej, void 0);
            else {
                for (var a = 0; a < d.Qb.children.length; a += 1) d.Qb.removeChild(d.Qb.children.item(a));
                d.zb.a.style.padding = "3px 5px";
                f ? Ak(b.X.ia.ba.rk) : setTimeout(function () {
                    Ak(b.X.ia.ba.rk)
                }, 2E3)
            }
        }
        w.call(this);
        var d = this;
        this.u = a;
        this.kl = !1;
        this.a.style.position = "relative";
        this.a.style.display = "inline-block";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.borderRadius = "4px 4px 0 0";
        this.a.style.boxSizing = "border-box";
        this.a.style.minWidth = "500px";
        this.a.style.height = "auto";
        this.a.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        this.a.style.fontSize = "11px";
        this.a.style.overflow = "visible";
        var e;
        this.Eb = document.createElement("a");
        this.Eb.href = "#";
        this.Eb.innerText = vd;
        this.Eb.style.color = "#0c6a93";
        this.Eb.style.fontSize = "10px";
        this.Eb.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.Eb.style.textDecoration = "none";
        this.Eb.style.padding = "8px 6px 12px 0";
        this.Eb.style.cssFloat = "right";
        this.Eb.onmouseenter = function () {
            d.Eb.style.textDecoration = "underline"
        };
        this.Eb.onmouseleave = function () {
            d.Eb.style.textDecoration = "none"
        };
        this.Eb.onclick = function (a) {
            a.preventDefault();
            void 0 === e && (e = d.N(new Vq));
            e.show(d.Eb)
        };
        this.a.appendChild(this.Eb);
        this.qb = document.createElement("div");
        this.qb.style.color = S.Fa;
        this.qb.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.qb.style.height = "22px";
        this.qb.style.lineHeight = "24px";
        this.qb.style.overflow = "hidden";
        this.qb.style.fontSize = "12px";
        this.qb.style.padding = "4px 0 4px 9px";
        this.qb.onmouseenter = function () {
            d.qb.clientHeight < d.qb.scrollHeight - 2 && (d.$a.style.visibility = "visible", d.$a.style.top = d.qb.offsetTop + d.qb.offsetHeight + 2 + "px")
        };
        this.qb.onmouseleave = function () {
            d.$a.style.visibility = "hidden"
        };
        this.$a = document.createElement("div");
        this.$a.style.visibility = "hidden";
        this.$a.style.fontFamily = "UbuntuRegular, Arial, Helvetica, sans-serif";
        this.$a.style.color = S.Io;
        this.$a.style.fontSize = "12px";
        this.$a.style.boxSizing = "border-box";
        this.$a.style.zIndex = "999";
        this.$a.style.position = "absolute";
        this.$a.style.borderRadius = "4px";
        this.$a.style.border = "1px solid black";
        this.$a.style.background = "white";
        this.$a.style.padding = "10px";
        this.$a.style.width = "500px";
        this.$a.style.height = "auto";
        this.$a.style.lineHeight = "16px";
        this.a.appendChild(this.qb);
        this.a.appendChild(this.$a);
        this.N(this.u);
        this.N(b);
        this.Qb = document.createElement("span");
        this.Qb.style.width = "270px";
        this.Qb.style.height = "69px";
        this.Qb.style.display = "inline-block";
        this.Qb.style.verticalAlign = "top";
        this.Qb.style.margin = "0";
        this.a.appendChild(this.Qb);
        this.zb = b.X.ia.ba.rk.zb;
        q(this.zb.Ej, function () {
            if ("default" === d.T) {
                for (var a = 0; a < d.Qb.children.length; a += 1) d.Qb.removeChild(d.Qb.children.item(a));
                d.Qb.appendChild(d.zb.a.cloneNode(!0))
            }
        });
        var f = !1;
        setTimeout(function () {
            f = !0
        }, 2E3);
        q(Mj, function (a) {
            d.T = a.Wa;
            "default" === d.T ? (d.a.style.border = "1px solid #acacac", d.qb.style.display = "block", d.Eb.style.display = "inline", d.Qb.style.display = "inline-block", d.Fc.style.display = "inline-block") : (d.a.style.border = "none", d.qb.style.display = "none", d.Eb.style.display = "none", d.Qb.style.display = "none", d.Fc.style.display = "none");
            c()
        });
        q(mg, function () {
            c()
        });
        this.Fc = document.createElement("div");
        this.Fc.style.height = "69px";
        this.Fc.style.width = "230px";
        this.Fc.style.boxSizing = "border-box";
        this.Fc.style.fontSize = "11px";
        this.Fc.style.color = S.Fa;
        this.Fc.style.overflow = "hidden";
        this.Fc.style.display = "inline-block";
        this.Fc.style.verticalAlign = "top";
        this.Fc.style.margin = "0";
        this.a.appendChild(this.Fc);
        var h = document.createElement("div");
        h.style.display = "block";
        h.style.boxSizing = "border-box";
        h.style.width = "100%";
        h.style.height = "100%";
        h.style.padding = "2px 10px";
        this.Fc.appendChild(h);
        var g = document.createElement("div");
        g.style.display = "block";
        g.style.height = "19px";
        g.style.borderBottom = "1px solid #000000";
        h.appendChild(g);
        var p = document.createElement("span");
        p.innerText = Od;
        g.appendChild(p);
        this.Va = document.createElement("span");
        this.Va.innerText = "0";
        this.Va.style.fontSize = "15px";
        this.Va.style.fontFamily = "UbuntuBold, Helvetica, Arial, sans-serif";
        g.appendChild(this.Va);
        this.ii = document.createElement("span");
        this.ii.innerText = " tokens";
        g.appendChild(this.ii);
        g = document.createElement("div");
        g.style.display = "inline-block";
        g.style.verticalAlign = "top";
        g.style.width = "130px";
        g.style.textOverflow = "ellipsis";
        g.style.overflow = "hidden";
        g.style.whiteSpace = "nowrap";
        h.appendChild(g);
        var u = cr(qc);
        u.style.margin = "2px 0 0 0";
        u.href = "/tipping/purchase_tokens/";
        u.onclick = function () {
            Eg("/tipping/purchase_tokens/", "_blank", "height=615, width=850");
            return !1
        };
        u.onmouseenter = function () {
            u.style.textDecoration = "underline"
        };
        u.onmouseleave = function () {
            u.style.textDecoration = "none"
        };
        g.appendChild(u);
        this.Ac = cr(uc);
        this.Ac.style.display = "none";
        g.appendChild(this.Ac);
        this.sc = document.createElement("div");
        this.sc.style.display = "none";
        this.sc.style.overflow = "hidden";
        this.sc.style.textOverflow = "ellipsis";
        this.sc.style.lineHeight = "1.3";
        this.sc.style.maxWidth = "130px";
        g.appendChild(this.sc);
        this.ld = document.createElement("a");
        this.ld.style.maxWidth = "90px";
        this.ld.style.marginRight = "2px";
        this.ld.style.display = "inline-block";
        this.ld.style.overflow = "hidden";
        this.ld.style.textOverflow = "ellipsis";
        this.ld.style.verticalAlign = "bottom";
        this.sc.appendChild(this.ld);
        this.Xi = document.createElement("span");
        this.sc.appendChild(this.Xi);
        this.fe = document.createElement("div");
        this.fe.style.display = "none";
        this.fe.style.width = "135px";
        g.appendChild(this.fe);
        this.Ff = document.createElement("div");
        this.Ff.style.display = "none";
        this.fe.appendChild(this.Ff);
        this.Bg = cr(Gc);
        this.Bg.style.display = "inline-block";
        this.Bg.style.maxWidth = "87px";
        this.Bg.style.marginRight = "2px";
        this.Bg.style.verticalAlign = "top";
        this.Ff.appendChild(this.Bg);
        var F = document.createElement("span");
        F.style.display = "inline-block";
        F.style.verticalAlign = "top";
        this.Ff.appendChild(F);
        this.yh = cr(Ec);
        this.fe.appendChild(this.yh);
        this.zh = cr(Ic);
        this.fe.appendChild(this.zh);
        var C = 0,
            N = 0,
            E = document.createElement("div");
        E.innerText = lc;
        E.style.display = "none";
        E.style.marginTop = "10px";
        h.appendChild(E);
        this.Zl = document.createElement("span");
        this.Zl.style.display = "none";
        h.appendChild(this.Zl);
        var P = new wa;
        q(T, function (a) {
            if (void 0 === a.h.gb || void 0 === a.h.ed || void 0 === a.h.dd) v("Dossier is missing context.");
            else {
                N = a.h.ao;
                C = a.h.bo;
                d.qb.innerText = a.h.ab;
                d.$a.innerText = a.h.ab;
                var b = isNaN(a.h.Va) ? 0 : a.h.Va;
                d.Va.innerText = "" + b;
                d.ii.innerText = " " + vb(b);
                d.gb = a.h.gb;
                var c = !0 === a.h.ed,
                    e = !0 === a.h.dd;
                d.gb ? (d.D.style.display = "inline-block", E.style.display = "none", q(a.j.event.Td, function (a) {
                    N = a.rl;
                    F.innerText = "( " + C + " / " + N + " )"
                }), q(a.j.event.Td, function (b) {
                    c = b.ed;
                    e = b.dd;
                    dr(d, c, a.j, a.j.status);
                    er(d, e, a.j, a.j.status)
                }), q(a.j.event.ib, function (b) {
                    d.u.L.Yg && (dr(d, c, a.j, b.ya), er(d, e, a.j, b.ya), "groupnotwatching" === b.ya && "groupwatching" === b.Qc && --C, e && (b = "( " + C + " / " + N + " )", F.innerText = b, d.Xi.innerText = b))
                }), q(a.j.event.Cg, function (a) {
                    var b = a.lg;
                    void 0 === b && (b = N);
                    C = a.Fd;
                    a = "( " + a.Fd + " / " + b + " )";
                    F.innerText = a;
                    d.Xi.innerText = a
                }), q(a.j.event.Qg, function (b) {
                    "groupwatching" === a.j.status && (C = b - 1, d.Xi.innerText = "( " + C + " / " + N + " )")
                })) : (d.D.style.display = "none", dr(d, !1, a.j, a.h.Za), er(d, !1, a.j, a.h.Za), E.style.display = "block");
                va(q(No, function () {
                    dr(d, c, a.j, a.h.Za);
                    er(d, e, a.j, a.h.Za)
                }), P);
                va(q(a.j.event.gk, function (a) {
                    d.qb.innerText = a;
                    d.$a.innerText = a
                }), P);
                f = !1;
                setTimeout(function () {
                    f = !0
                }, 2E3)
            }
        });
        q(li, function (a) {
            d.Va.innerText = "" + a.qc;
            d.ii.innerText = " " + vb(a.qc)
        });
        this.D = document.createElement("span");
        this.D.innerText = ic;
        this.D.title = ic;
        this.D.style.overflow = "hidden";
        this.D.style.lineHeight = "1.4";
        this.D.style.height = "21px";
        this.D.style.maxWidth = "80px";
        this.D.style.fontSize = "12px";
        this.D.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.D.style.textShadow = "#588d3d 1px 1px 0px";
        this.D.style.color = "#ffffff";
        this.D.style.margin = "11px 0px 11px 0px";
        this.D.style.textOverflow = "ellipsis";
        this.D.style.padding = "3px 10px 3px";
        this.D.style.backgroundColor = "#53843a";
        Ia() && (this.D.style.background = "linear-gradient(180deg, #73aa58 0%, #73aa58 50%, #568a3d 60%)");
        this.D.style.borderRadius = "4px";
        this.D.style.boxSizing = "border-box";
        this.D.style.cursor = "pointer";
        this.D.style.display = "none";
        h.appendChild(this.D);
        this.D.onclick = function () {
            t(jg, {})
        };
        q(ng, function () {
            xa(P)
        })
    }
    m(br, w);

    function cr(a) {
        var b = document.createElement("a");
        b.innerText = a;
        b.title = a;
        b.style.lineHeight = "1.3";
        b.style.display = "block";
        b.style.maxWidth = "130px";
        b.style.overflow = "hidden";
        b.style.textOverflow = "ellipsis";
        b.style.color = "#0a5a83";
        b.style.textDecoration = "none";
        b.style.cursor = "pointer";
        b.onmouseenter = function () {
            b.style.textDecoration = "underline"
        };
        b.onmouseleave = function () {
            b.style.textDecoration = "none"
        };
        return b
    }

    function dr(a, b, c, d) {
        a.Ac.innerText = uc;
        var e = ["privaterequesting", "privatewatching", "privatespying"];
        if (b || -1 !== e.indexOf(d)) switch (a.Ac.style.display = "block", a.Ac.onclick = function () {
            hj(c)
        }, b = function (b) {
            O("LeavePrivateOrSpyShow");
            b.preventDefault();
            a.kl || (a.kl = !0, c.Lh().then(function (b) {
                a.kl = !1;
                "" !== b && V(b)
            }))
        }, d) {
            case "privaterequesting":
                a.Ac.innerText = zc;
                a.Ac.onclick = b;
                break;
            case "privatenotwatching":
                a.Ac.innerText = vc;
                a.Ac.onclick = function () {
                    ij(c)
                };
                break;
            case "privatewatching":
            case "privatespying":
                a.Ac.innerText = Bc;
                a.Ac.onclick = b;
                break;
            case "grouprequesting":
            case "groupnotwatching":
            case "groupwatching":
            case "offline":
            case "away":
            case "hidden":
            case "notconnected":
                a.Ac.style.display = "none";
                break;
            case "public":
                break;
            default:
                r("unexpected status for updatePrivateState: " + d)
        } else a.Ac.style.display = "none"
    }

    function er(a, b, c, d) {
        var e = ["grouprequesting", "groupwatching"];
        if (b || -1 !== e.indexOf(d)) switch (a.fe.style.display = "inline-block", a.Bg.onclick = function () {
            jj(c)
        }, b = function () {
            kj(c)
        }, d) {
            case "grouprequesting":
                a.yh.onclick = b;
                a.ld.innerText = Fc;
                a.Ff.style.display = "none";
                a.sc.style.display = "block";
                a.yh.style.display = "block";
                a.zh.style.display = "none";
                a.ld.style.color = S.Fa;
                break;
            case "groupwatching":
                a.zh.onclick = b;
                a.ld.innerText = Dc;
                a.Ff.style.display = "none";
                a.sc.style.display = "block";
                a.yh.style.display = "none";
                a.zh.style.display = "block";
                a.ld.style.color = S.Fa;
                break;
            case "privaterequesting":
            case "privatenotwatching":
            case "privatewatching":
            case "privatespying":
            case "offline":
            case "away":
            case "hidden":
            case "notconnected":
                a.sc.style.display = "none";
                a.fe.style.display = "none";
                break;
            case "groupnotwatching":
            case "public":
                a.Ff.style.display = "block";
                a.sc.style.display = "none";
                a.yh.style.display = "none";
                a.zh.style.display = "none";
                break;
            default:
                r("unexpected status for updateGroupState: " + d)
        } else a.fe.style.display = "none", a.sc.style.display = "none"
    };
    var fr, gr, hr;
    q(T, function (a) {
        fr = a.j.i();
        gr = a.j.username();
        hr = a.j
    });

    function ir(a, b) {
        var c = document.createElement("span");
        c.style.color = vi(a);
        void 0 !== b && b || (c.setAttribute("data-purecolor", a.Le ? "#ff6200" : a.wc ? "#DC0000" : a.uc ? "#00ff00" : a.jf ? "#ad62e1" : a.gf ? "#d4a0ff" : a.hf ? "#8a98ff" : a.ge ? "#84c6dc" : "#b3b3b3"), c.className = "purecolor");
        c.style.fontWeight = "bold";
        c.innerText = a.username;
        c.onmouseenter = function () {
            c.style.textDecoration = "underline";
            c.style.cursor = "pointer"
        };
        c.onmouseleave = function () {
            c.style.textDecoration = "none";
            c.style.cursor = "default"
        };
        z("click", c, function () {
            null === c.parentElement ? v("Username span has no parent") : (O("OpenUserContextMenu", {
                username: a.username
            }), jr(a.username, c.parentElement))
        });
        return c
    }

    function kr() {
        var a = document.createElement("hr");
        a.style.margin = "4px";
        a.style.backgroundColor = "#8b8b8b";
        a.style.height = "1px";
        a.style.border = "none";
        return a
    }

    function jr(a, b) {
        2 === lr && (lr = 0, yi(a).then(function (c) {
            var d = new mr(a, c, b);
            b.style.cursor = "default";
            d.position();
            d.vg(c.vg, a)
        })["catch"](function (a) {
            lr = 2;
            v("Could not process user menu request: " + a)
        }))
    }

    function mr(a, b, c) {
        var d = this;
        lr = 0;
        this.d = b;
        this.ja = c;
        this.U = document.createElement("div");
        this.U.style.border = "1px solid #6B6B6B";
        this.U.style.position = "absolute";
        this.U.style.background = "#e1e1e1";
        this.U.style.borderRadius = "4px";
        this.U.style.display = "none";
        this.U.style.zIndex = "999";
        this.U.style.top = "0";
        this.U.style.fontWeight = "normal";
        this.U.style.fontFamily = "UbuntuRegular, Arial, Helvetica, sans-serif";
        this.U.style.fontSize = "12px";
        this.U.style.width = "260px";
        this.U.style.color = "#004563";
        this.U.onmouseenter = function () {
            d.U.style.cursor = "default"
        };
        this.P = document.createElement("div");
        this.P.style.position = "fixed";
        this.P.style.top = "0";
        this.P.style.left = "0";
        this.P.style.height = "100%";
        this.P.style.width = "100%";
        this.P.style.display = "block";
        this.ja.appendChild(this.P);
        this.P.onclick = function () {
            d.Dd()
        };
        b = document.createElement("div");
        c = document.createElement("img");
        var e = document.createElement("span");
        c.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/red-arrow-down.gif";
        e.innerText = a;
        b.style.margin = "6px 4px";
        b.style.color = "#383838";
        b.style.fontWeight = "bold";
        c.style.paddingRight = "6px";
        b.appendChild(c);
        b.appendChild(e);
        this.U.appendChild(b);
        this.U.appendChild(kr());
        b = document.createElement("div");
        b.style.margin = "0 6px 0 6px";
        b.style.display = "block";
        c = document.createElement("div");
        c.style.display = "inline-block";
        c.style.margin = "4px";
        c.style.verticalAlign = "top";
        b.appendChild(c);
        if (this.d.Rm) {
            e = document.createElement("span");
            e.style.display = "inline-block";
            e.style.color = "#575757";
            e.style.fontWeight = "bold";
            e.style.fontSize = "13px";
            e.style.marginRight = "5px";
            c.appendChild(e);
            var f = document.createElement("img");
            f.src = wi(this.d.zg);
            f.style.display = "inline-block";
            f.height = 16;
            f.width = 16;
            e.innerText = isNaN(this.d.ce) ? "" : "" + this.d.ce;
            c.appendChild(f)
        }
        e = document.createElement("div");
        var h = document.createElement("a");
        e.appendChild(h);
        c.appendChild(e);
        h.href = "/" + a + "/";
        h.target = "_blank";
        h.innerText = Yd;
        h.style.textDecoration = "none";
        h.style.color = "#004563";
        h.onmouseenter = function () {
            h.style.textDecoration = "underline";
            h.style.cursor = "pointer"
        };
        h.onmouseleave = function () {
            h.style.textDecoration = "none";
            h.style.cursor = "default"
        };
        z("click", e, function (b) {
            O("ViewProfile", {
                username: a
            });
            b.stopPropagation();
            d.Dd()
        });
        this.d.Ue && (e = document.createElement("img"), e.src = this.d.ij, e.height = 52, e.width = 62, e.style.display = "inline-block", e.style.margin = "4px 4px 0 4px", e.style.border = "1px solid #f37220", b.insertBefore(e, c));
        this.U.appendChild(b);
        this.U.appendChild(kr());
        if (gr !== a) {
            if (void 0 === hr) {
                v("ignoreText: Chatconnection should be defined");
                return
            }
            b = document.createElement("div");
            var g = document.createElement("div"),
                p = document.createElement("div");
            c = document.createElement("img");
            c.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-email.gif";
            var u = document.createElement("span");
            u.innerText = Zd;
            var F = document.createElement("span");
            hr.le(a) ? (F.style.paddingLeft = "13px", F.innerText = Ee) : (F.style.paddingLeft = "7px", F.innerText = Ge, e = document.createElement("img"), e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-ignore.gif", p.appendChild(e));
            p.appendChild(F);
            c.style.paddingRight = "4px";
            g.style.padding = "3px 9px 3px 6px";
            g.style.whiteSpace = "nowrap";
            p.style.padding = "3px 9px 3px 6px";
            b.style.marginBottom = "7px";
            b.style.color = "#004563";
            g.appendChild(c);
            g.appendChild(u);
            b.appendChild(g);
            b.appendChild(p);
            p.onmouseenter = function () {
                p.style.background = "#6B6B6B";
                p.style.cursor = "pointer";
                F.style.color = "#e1e1e1"
            };
            p.onmouseleave = function () {
                p.style.background = "#e1e1e1";
                p.style.cursor = "default";
                F.style.color = "#004563"
            };
            p.onclick = function () {
                O("IgnoreUser", {
                    username: a
                });
                void 0 === hr ? v("no chatConn defined in ignoreLink.onclick") : (hr.le(a) ? hr.ik(a) : hr.tc(a), d.Dd())
            };
            g.onmouseenter = function () {
                g.style.background = "#6B6B6B";
                g.style.cursor = "pointer";
                u.style.color = "#e1e1e1"
            };
            g.onmouseleave = function () {
                g.style.background = "#e1e1e1";
                g.style.cursor = "default";
                u.style.color = "#004563"
            };
            z("click", g, function (b) {
                d.Dd();
                Ih('You must be logged in to send a private message. Click "OK" to login.') || (O("StartPrivateMessage", {
                    username: a
                }), t(Ci, a), b.stopPropagation())
            });
            this.U.appendChild(b)
        }
        this.U.style.display = "block";
        lr = 1
    }
    mr.prototype.vg = function (a, b) {
        var c = this;
        if (a) {
            this.ue = document.createElement("div");
            var d = document.createElement("div"),
                e = document.createElement("span");
            e.innerText = jf;
            e.style.paddingLeft = "3px";
            d.style.padding = "3px 9px 3px 9px";
            this.ue.style.marginBottom = "7px";
            this.ue.style.color = "#004563";
            d.appendChild(e);
            this.ue.appendChild(d);
            d.onmouseenter = function () {
                d.style.background = "#6B6B6B";
                d.style.cursor = "pointer";
                d.style.color = "#e1e1e1"
            };
            d.onmouseleave = function () {
                d.style.background = "#e1e1e1";
                d.style.cursor = "default";
                d.style.color = "#004563"
            };
            d.onclick = function () {
                Fh("Silence " + b + "?", function () {
                    O("SilenceUser", {
                        username: b
                    });
                    B("roomsilence/" + b + "/" + fr + "/", {}).then(function () {})["catch"](function (a) {
                        v(a);
                        V("Error silencing user " + b)
                    })
                });
                c.Dd()
            };
            this.U.appendChild(kr());
            this.U.appendChild(this.ue)
        }
    };
    mr.prototype.position = function () {
        this.ja.appendChild(this.U);
        var a = this.ja.getBoundingClientRect(),
            b = this.ja.offsetParent.getBoundingClientRect();
        this.U.style.top = a.top - b.top + "px";
        this.U.offsetTop + this.U.offsetHeight > window.document.documentElement.clientHeight - 8 && (this.U.style.top = window.document.documentElement.clientHeight - this.U.offsetHeight - 8 + "px")
    };
    mr.prototype.Dd = function () {
        this.ja.removeChild(this.U);
        this.ja.removeChild(this.P);
        lr = 2
    };
    var lr = 2;
    var nr = !1,
        or, pr, qr;
    q(T, function (a) {
        nr = a.h.pa.Wg;
        or = a.h.Xh;
        pr = a.j;
        qr = a.h.hj
    });
    q(lg, function (a) {
        nr = a.Wg
    });

    function rr(a) {
        var b = nr,
            c = new dj(a);
        a = document.createElement("span");
        a.className = "emoticonImage";
        a.innerText = c.Gb()[0];
        for (var d = {
                fa: 1
            }; d.fa < c.Gb().length; d = {
                fa: d.fa
            }, d.fa += 1) {
            if (!b || 0 <= qr.indexOf(c.ca()[d.fa - 1].name)) {
                var e = document.createElement("span");
                e.style.color = "lightskyblue";
                e.innerText = ":" + c.ca()[d.fa - 1].name;
                e.style.cursor = "pointer";
                e.onclick = function (a) {
                    return function () {
                        var b = {
                            nc: c.ca()[a.fa - 1].name,
                            url: c.ca()[a.fa - 1].ke
                        };
                        t(qj, b)
                    }
                }(d)
            } else {
                e = document.createElement("img");
                var f = c.ca()[d.fa -
                    1].ak;
                e.src = void 0 !== f ? f : c.ca()[d.fa - 1].ke;
                e.title = ":" + c.ca()[d.fa - 1].name;
                e.style.cursor = "pointer";
                e.onclick = function (a) {
                    return function () {
                        var b = {
                            nc: c.ca()[a.fa - 1].name,
                            url: c.ca()[a.fa - 1].ke
                        };
                        t(qj, b)
                    }
                }(d);
                e.name = c.ca()[d.fa - 1].name;
                e.height = c.ca()[d.fa - 1].height;
                e.width = c.ca()[d.fa - 1].width
            }
            a.appendChild(e);
            "" !== c.Gb()[d.fa] && (e = document.createElement("span"), e.innerText = c.Gb()[d.fa], a.appendChild(e))
        }
        return a
    }

    function sr(a) {
        var b = tr(a.eb.username),
            c = document.createElement("div");
        c.style.width = "100%";
        c.style.display = "inline-block";
        c.style.padding = "2px";
        c.style.padding = "0";
        var d = ir(a.eb, void 0 !== a.backgroundColor);
        d.style.paddingRight = "4px";
        c.appendChild(d);
        c.style.marginRight = "4px";
        var e = rr(a.message),
            f = void 0 !== a.Ed ? a.Ed : "#494949";
        e.style.color = f;
        void 0 !== a.font && (d.style.fontFamily = a.font, e.style.fontFamily = a.font);
        e.setAttribute("data-purecolor", Lk(f));
        e.className = "purecolor";
        void 0 !== a.backgroundColor && (c.style.background = a.backgroundColor);
        c.appendChild(e);
        b.appendChild(c);
        return b
    }

    function ur(a) {
        var b = tr();
        b.style.padding = "1px 5px";
        var c = document.createElement("div");
        c.style.display = "inline-block";
        if (void 0 !== a.background) c.style.background = a.background, c.style.overflow = "hidden", c.style.marginTop = "1px", c.style.textShadow = "none", "#ff8b45" === a.background && (c.style.padding = "0px 4px");
        else {
            var d = Lk(void 0 !== a.ma ? a.ma : "#aaaaaa");
            c.setAttribute("data-purecolor", d);
            c.className = "purecolor"
        }
        c.style.color = void 0 !== a.ma ? a.ma : "#494949";
        c.style.fontWeight = void 0 !== a.weight ? a.weight : "normal";
        b.appendChild(vr(c, a.V, void 0 !== a.background));
        return b
    }

    function vr(a, b, c) {
        b = l(b);
        for (var d = b.next(); !d.done; d = b.next()) {
            var e = document.createElement("div");
            d = l(d.value);
            for (var f = d.next(); !f.done; f = d.next()) switch (f = f.value, f.Yb) {
                case 1:
                    e.appendChild(wr(f));
                    break;
                case 0:
                    e.appendChild(ir(f.cc, c));
                    break;
                case 2:
                    e.appendChild(xr(f.message));
                    break;
                case 4:
                    e.appendChild(yr("join group show", function () {
                        "grouprequesting" === pr.status ? V("You are already requesting to join this group show.") : jj(pr)
                    }));
                    break;
                case 3:
                    e.appendChild(yr("spy private show", function () {
                        "privatespying" !== pr.status && ij(pr)
                    }));
                    break;
                default:
                    v("Unknown roomNotice type for: " + JSON.stringify(f))
            }
            a.appendChild(e)
        }
        return a
    }

    function yr(a, b) {
        var c = document.createElement("a");
        c.style.color = "#85FFFF";
        c.style.textDecoration = "underline";
        c.innerText = a;
        c.onclick = b;
        return c
    }

    function xr(a) {
        var b = document.createElement("a");
        b.href = "/tag/" + a + "/" + or;
        b.style.color = "#0a5a83";
        b.style.textDecoration = "none";
        b.innerText = "#" + a;
        return b
    }

    function zr(a) {
        var b = tr();
        b.innerText = a;
        b.setAttribute("data-purecolor", Lk("#aaaaaa"));
        b.className = "purecolor";
        return b
    }

    function Ar(a, b) {
        var c = tr(),
            d = document.createElement("span");
        d.innerText = Lb(a);
        c.appendChild(d);
        for (d = 0; d < b.length; d += 1) {
            var e = document.createElement("a");
            e.href = b[d].Im;
            e.target = "_blank";
            e.innerText = b[d].tk;
            e.style.color = "#0a5a83";
            e.style.textDecoration = "none";
            c.appendChild(e);
            d < b.length - 1 && (e = document.createElement("span"), e.innerText = ", ", c.appendChild(e))
        }
        c.setAttribute("data-purecolor", Lk("#aaaaaa"));
        c.className = "purecolor";
        return c
    }

    function tr(a) {
        a = void 0 === a ? "" : a;
        var b = document.createElement("div");
        b.style.color = "#494949";
        b.style.fontFamily = "Tahoma,Arial,Helvetica,sans-serif";
        b.style.boxSizing = "border-box";
        b.style.paddingTop = "2px";
        b.style.paddingBottom = "3px";
        b.style.paddingLeft = "5px";
        b.style.paddingRight = "5px";
        0 < a.length && b.setAttribute("data-nick", a);
        return b
    }

    function wr(a) {
        var b = document.createElement("span");
        !1 !== a.Bl ? b = rr(a.message) : b.innerText = a.message;
        b.style.color = void 0 !== a.ma ? a.ma : "";
        b.style.backgroundColor = void 0 !== a.background ? a.background : "";
        b.style.fontWeight = void 0 !== a.weight ? a.weight : "";
        return b
    };

    function Br() {
        var a = document.createElement("div");
        a.style.boxSizing = "border-box";
        a.style.overflow = "auto";
        a.style.paddingRight = "5px";
        return a
    }

    function Cr() {
        var a = document.createElement("div");
        a.style.width = "100%";
        qg(a);
        a.style.cursor = "text";
        a.style.backgroundColor = "#ffffff";
        a.style.paddingBottom = "4px";
        return a
    }

    function Dr() {
        var a = document.createElement("form");
        a.style.display = "inline-block";
        a.style.boxSizing = "border-box";
        return a
    }

    function Er() {
        var a = document.createElement("div");
        a.style.height = "28px";
        a.style.boxSizing = "border-box";
        a.style.border = "1px solid #acacac";
        a.style.borderRadius = "4px 4px 0 0";
        a.style.backgroundColor = "#ffffff";
        a.style.fontSize = "12px";
        a.style.overflow = "hidden";
        return a
    }

    function Fr() {
        var a = document.createElement("input");
        a.style.outline = "none";
        a.style.border = "none";
        a.style.margin = "6px";
        a.style.boxSizing = "border-box";
        a.style.fontSize = "12px";
        a.style.fontFamily = "Helvetica, Arial, sans-serif";
        a.autocomplete = "off";
        return a
    }

    function Gr() {
        var a = document.createElement("span");
        a.innerText = qd;
        a.style.lineHeight = "1.2";
        a.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        a.style.fontSize = "12px";
        a.style.textShadow = "#bc2b1d 1px 1px 0";
        a.style.color = "#ffffff";
        a.style.padding = "3px 5px";
        a.style.backgroundColor = "#eb3404";
        Ia() && (a.style.background = "linear-gradient(180deg, #ff4d30 0%, #ef6352 50%, #f2240f 60%, #e63125 100%)");
        a.style.borderRadius = "4px";
        a.style.boxSizing = "border-box";
        a.style.cursor = "pointer";
        a.style.display = "inline-block";
        return a
    }

    function Hr() {
        var a = document.createElement("img");
        a.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-smile.gif";
        a.style.cursor = "pointer";
        a.style.display = "inline-block";
        a.style.marginRight = "6px";
        a.style.verticalAlign = "text-bottom";
        a.style.paddingRight = "5px";
        a.style.width = "15px";
        return a
    }

    function Ir(a) {
        w.call(this);
        var b = this;
        this.Vc = a;
        this.lh = new n("addMessageHtml", {
            Rd: !1
        });
        this.Nl = new n("removeMessageHtml", {
            Rd: !1
        });
        this.wa = Cr();
        this.Ma = Br();
        this.pd = 0;
        this.Ca = new wa;
        this.a.style.position = "static";
        this.a.style.boxSizing = "border-box";
        this.a.style.padding = "5px 0 0 5px";
        this.a.style.fontSize = "12px";
        this.Ma.appendChild(this.wa);
        this.a.appendChild(this.Ma);
        var c = Dr();
        this.Y = Er();
        this.K = Fr();
        this.Ga = Hr();
        this.hb = Gr();
        c.appendChild(this.K);
        this.Y.appendChild(c);
        this.Y.appendChild(this.Ga);
        this.Y.appendChild(this.hb);
        z("mousedown", this.Y, function (a) {
            if (a.target === b.Y || a.target === c) b.K.focus(), a.preventDefault()
        });
        z("click", this.hb, function () {
            b.ai()
        });
        z("click", this.Ga, function () {
            t(Bi, b.Ga)
        });
        z("submit", c, function (a) {
            a.preventDefault();
            b.ai()
        });
        this.a.appendChild(this.Y);
        this.Ca.add(q(T, function (a) {
            b.a.style.fontSize = a.h.pa.fontSize
        }));
        this.Ca.add(q(lg, function (a) {
            b.a.style.fontSize = a.fontSize
        }));
        this.wh = this.N(new Qj({
            Lb: this.K,
            Qn: 10,
            Go: 207
        }))
    }
    m(Ir, w);
    k = Ir.prototype;
    k.xg = function () {
        xa(this.Ca);
        this.wh.xg()
    };
    k.ai = function () {
        if (!Ih('You must be logged in to send a message. Click "OK" to login.')) {
            this.oa();
            var a = this.K.value;
            this.K.value = "";
            if ("" !== a.trim()) {
                var b = Kj(a);
                void 0 !== b ? t(jg, b) : this.Vc(a)
            }
            this.K.blur()
        }
    };
    k.C = function () {
        this.Y.style.width = this.a.clientWidth - 10 + "px";
        this.K.style.width = Math.max(0, this.Y.clientWidth - 18 - Math.ceil(this.hb.offsetWidth) - Math.ceil(this.Ga.offsetWidth) - 4) + "px";
        this.oa();
        this.wh.a.style.bottom = this.Y.offsetHeight + 2 + "px"
    };
    k.oa = function () {
        this.Ma.scrollTop = this.Ma.scrollHeight - this.Ma.offsetHeight
    };
    k.ra = function (a) {
        var b = kk(this);
        this.wa.appendChild(a);
        for (var c = this.wa.childElementCount - 1E3; 0 < c; --c) {
            var d = this.wa.firstElementChild;
            null !== d && this.wa.removeChild(d)
        }
        b || this.oa();
        t(this.lh, {
            ol: function () {
                return a.cloneNode(!0)
            }
        });
        this.pd += 1;
        return a
    };
    k.Mj = function (a) {
        this.wa.removeChild(a)
    };
    k.xh = function () {
        return this.pd
    };
    k.vj = function (a) {
        return this.pd - a
    };
    k.Yi = function (a) {
        for (var b = [], c = l(this.wa.childNodes), d = c.next(); !d.done; d = c.next()) d = d.value, d.getAttribute("data-nick") === a && b.push(d);
        a = l(b);
        for (b = a.next(); !b.done; b = a.next()) this.wa.removeChild(b.value)
    };
    k.clear = function () {
        for (this.pd = 0; null !== this.wa.firstChild;) this.wa.removeChild(this.wa.firstChild)
    };
    k.Wb = function () {
        this.K.focus()
    };
    k.Id = function () {
        this.K.blur()
    };
    k.Ml = function (a) {
        t(this.Nl, a)
    };

    function Jr() {
        X.call(this);
        var a = this;
        this.O = 0;
        this.a.style.overflow = "";
        this.w = new Ir(function (b) {
            a.j.Yl(b);
            a.w.K.blur()
        });
        this.N(this.w);
        q(T, function (b) {
            a.j = b.j;
            a.w.ra(zr("Rules: No spamming. Do not insist the cam hosts to do as you please. Do not announce other rooms or websites that would conflict with this room. Avoid any argumentative and/or rude posts related to the cam viewing. Do not attempt to post your e-mail address in the public chat."));
            a.w.ra(zr("To go to next room, press CTRL+/. To send a tip, press CTRL+S or type \"/tip 25\". To disable emoticons or adjust autocomplete settings, click the 'Gear' tab above."));
            0 < b.h.rg.length && a.w.ra(Ar(b.h.i, b.h.rg));
            Xi(a)
        });
        q(ng, function () {
            a.w.clear()
        })
    }
    m(Jr, X);
    k = Jr.prototype;
    k.C = function () {
        X.prototype.C.call(this);
        this.w.oa()
    };
    k.oa = function () {
        this.w.oa()
    };
    k.Je = function () {
        return 99 < this.O ? pd + " (99+)" : 0 < this.O ? pd + " (" + this.O + ")" : pd
    };
    k.ee = function () {
        return "chat-tab-default"
    };
    k.Wb = function () {
        this.w.Wb()
    };
    k.Id = function () {
        this.w.Id()
    };
    k.Ne = function () {
        return document.activeElement === this.w.K
    };
    k.show = function () {
        X.prototype.show.call(this);
        this.O = 0;
        this.Db();
        this.w.oa();
        this.w.K.focus()
    };
    k.Yi = function (a) {
        for (var b = [], c = l(this.w.wa.childNodes), d = c.next(); !d.done; d = c.next()) d = d.value, d.getAttribute("data-nick") === a && b.push(d);
        a = l(b);
        for (b = a.next(); !b.done; b = a.next()) this.w.wa.removeChild(b.value)
    };
    k.Ef = function () {
        return this.w.K.value
    };
    k.fg = function (a) {
        this.w.K.value = a
    };
    k.Ie = function () {
        return this.w.K
    };

    function Kr(a) {
        var b = document.createElement("div"),
            c = document.createElement("div"),
            d = document.createElement("div"),
            e = document.createElement("img");
        e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";
        e.height = 16;
        e.width = 16;
        d.style.padding = "5px 5px 0 10px";
        d.style.verticalAlign = "top";
        d.style.display = "inline-block";
        d.style.overflow = "hidden";
        c.innerText = a.eg.cc + " " + (0 === a.eg.O ? "" : "(" + a.eg.O + ")");
        c.style.whiteSpace = "nowrap";
        c.style.textOverflow = "ellipsis";
        c.style.overflow = "hidden";
        c.style.padding = "5px 5px 5px 15px";
        c.style.display = "inline-block";
        c.style.width = a.size - 16 - 5 - 10 - 20 + "px";
        b.style.color = "#0a5a83";
        b.style.width = a.size + "px";
        b.onmouseenter = function () {
            e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-on.png";
            b.style.background = "#7E7E7E";
            b.style.cursor = "pointer";
            b.style.color = "#e1e1e1"
        };
        b.onmouseleave = function () {
            e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";
            b.style.background = "#e1e1e1";
            b.style.cursor = "default";
            b.style.color = "#0a5a83"
        };
        z("click", c, function () {
            a.xl()
        });
        z("click", e, function () {
            a.yl()
        });
        b.appendChild(c);
        d.appendChild(e);
        b.appendChild(d);
        return b
    }

    function Lr(a) {
        X.call(this);
        var b = this;
        this.jl = a;
        this.O = 0;
        this.Uh = new n("incomingPm");
        this.za = new Map;
        this.ta = new Ek;
        this.a.style.overflow = "";
        q(Ci, function (a) {
            b.Kc();
            void 0 === b.za.get(a) && b.Fh(a, !1);
            Hk(b.ta, a);
            b.Db();
            b.te();
            Xi(b)
        });
        q(T, function (a) {
            b.j = a.j
        });
        q(ng, function () {
            for (var a = l(b.za.keys()), d = a.next(); !d.done; d = a.next()) b.hd(d.value)
        });
        q(Di, function (a) {
            b.hd(a)
        })
    }
    m(Lr, X);
    k = Lr.prototype;
    k.oa = function () {
        var a = Y(this);
        void 0 !== a && a.w.oa()
    };
    k.Je = function () {
        return 99 < this.O ? "PM (99+)" : 0 < this.O ? "PM (" + this.O + ")" : "PM"
    };
    k.Ef = function () {
        var a = Y(this);
        return void 0 === a ? "" : a.w.K.value
    };
    k.fg = function (a) {
        var b = Y(this);
        void 0 !== b && (b.w.K.value = a)
    };
    k.Zg = function (a) {
        var b = this;
        O("FocusPMTab", {
            unread: this.O
        });
        if (1 === this.za.size) Xi(this), this.Kc(), Hk(this.ta, this.za.keys().next().value), this.te();
        else {
            var c = document.createElement("div"),
                d = document.createElement("div"),
                e = document.createElement("div"),
                f = document.createElement("span"),
                h = document.createElement("img");
            h.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/red-arrow-down.gif";
            h.height = 6;
            h.style.padding = "0 0 2px 4px";
            f.innerText = yd;
            f.style.padding = "0 5px 0 5px";
            f.style.whiteSpace = "nowrap";
            f.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
            f.style.fontSize = "12px";
            f.style.fontWeight = "bold";
            f.style.color = S.Fa;
            e.style.minWidth = "150px";
            e.appendChild(h);
            e.appendChild(f);
            f = document.createElement("hr");
            f.style.margin = "4px";
            c.appendChild(e);
            c.appendChild(f);
            c.style.border = "1px solid #6B6B6B";
            c.style.fontSize = "12px";
            c.style.position = "absolute";
            c.style.background = "#e1e1e1";
            c.style.borderRadius = "4px";
            c.style.display = "none";
            c.style.padding = "6px 0 6px 0";
            c.style.maxHeight = "300px";
            c.style.overflow = "auto";
            c.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
            var g = function () {
                document.body.removeChild(c);
                document.body.removeChild(d);
                T.removeListener(g)
            };
            q(T, g, !1);
            e = [];
            f = l(this.za.keys());
            for (h = f.next(); !h.done; h = f.next()) e.push(h.value);
            f = e.sort();
            e = {};
            f = l(f);
            for (h = f.next(); !h.done; e = {
                    yd: e.yd
                }, h = f.next()) e.yd = h.value, h = this.za.get(e.yd), void 0 === h ? v("can't find pmsession") : c.appendChild(Kr({
                eg: h,
                yl: function (a) {
                    return function () {
                        b.hd(a.yd);
                        g()
                    }
                }(e),
                xl: function (a) {
                    return function () {
                        Xi(b);
                        b.Kc();
                        Hk(b.ta, a.yd);
                        b.te();
                        g()
                    }
                }(e),
                size: 250
            }));
            a = a.getBoundingClientRect();
            c.style.top = a.top + window.scrollY + "px";
            c.style.left = a.left + window.scrollX + "px";
            c.style.zIndex = "999";
            document.body.appendChild(c);
            c.style.display = "block";
            d.style.position = "fixed";
            d.style.height = "100%";
            d.style.width = "100%";
            d.style.top = "0";
            d.style.left = "0";
            d.style.zIndex = "998";
            d.onclick = g;
            document.body.insertBefore(d, c);
            window.document.documentElement.clientHeight < c.offsetTop + c.offsetHeight && (c.style.height = window.document.documentElement.clientHeight -
                a.top - 18 + "px");
            window.document.documentElement.clientWidth < c.offsetLeft + c.offsetWidth + 8 && (c.style.left = window.document.documentElement.clientWidth - c.offsetWidth + window.scrollX - 8 + "px")
        }
    };
    k.Hg = function () {
        return 0 === this.za.size
    };
    k.ee = function () {
        return "pm-tab-default"
    };
    k.Wb = function () {
        var a = Y(this);
        void 0 === a ? v("session undefined") : a.w.Wb()
    };
    k.Id = function () {
        var a = Y(this);
        void 0 === a ? v("session undefined") : a.w.Id()
    };
    k.Ne = function () {
        var a = Y(this);
        return void 0 === a ? (v("session undefined"), !1) : document.activeElement === a.w.K
    };
    k.C = function () {
        X.prototype.C.call(this);
        var a = Y(this);
        void 0 !== a && a.w.oa()
    };
    k.Fh = function (a, b) {
        var c = this,
            d = this.za.get(a);
        if (void 0 === d) {
            var e = Jk();
            e.innerHTML = Mb(a);
            e.style.textAlign = "center";
            e.style.width = "auto";
            e.style.borderBottom = "1px solid #acacac";
            e.style.margin = "0 10px 5px 5px";
            e.style.display = "none";
            e.style.color = "#cfcfcf";
            d = {
                w: new Ir(function (b) {
                    O("SendPrivateMessage", {
                        username: a
                    });
                    c.ta.cd(a);
                    c.j.Xl(b, a)
                }),
                O: 0,
                cc: a,
                qh: e
            };
            this.za.set(a, d);
            d.w.ra(zr(Ce + " " + a));
            d.w.ra(zr(Pb()));
            d.w.a.style.display = "none";
            this.N(d.w);
            e = !0
        } else e = !1, d.qh.style.display = "";
        !0 === b && t(this.Uh, {
            username: a,
            oj: e
        });
        return d
    };
    k.ra = function (a, b, c) {
        this.ta.cd(c);
        var d = this.Fh(c, b !== this.j.username());
        this.j.username() === b || Yi(this) && this.ta.Ka === c ? Hk(this.ta, c) : (this.O += 1, d.O += 1, this.Db());
        return a = d.w.ra(a)
    };
    k.El = function (a) {
        if (Yi(this)) {
            var b = Y(this);
            void 0 !== b && b.w.ra(a)
        }
    };
    k.hd = function (a) {
        var b = this.za.get(a);
        if (void 0 !== b) {
            var c = Yi(this) && this.ta.Ka === a;
            this.ta.remove(a);
            b.w.xg();
            this.removeChild(b.w);
            this.za["delete"](a);
            c && (Ok(this) || this.jl());
            this.O -= b.O;
            this.Db();
            t(Di, b.cc)
        }
    };
    k.uf = function () {
        var a = Y(this);
        void 0 === a ? v("cannot close current tab") : this.hd(a.cc)
    };
    k.te = function () {
        if (void 0 === this.ta.Ka) v("no currentpmsession");
        else {
            var a = this.za.get(this.ta.Ka);
            void 0 === a ? v("no pm session") : (a.w.a.style.display = "block", x(a.w), a.w.K.focus(), 0 < a.O && (this.O -= a.O, a.O = 0, this.Db()), t(og, a.cc), a.w.ra(a.qh))
        }
    };
    k.Kc = function () {
        var a = Y(this);
        void 0 !== a && (a.w.a.style.display = "none")
    };
    k.Ie = function () {
        var a = Y(this);
        if (void 0 !== a) return a.w.K
    };
    var Mr = new n("userCountUpdate");

    function Nr() {
        function a() {
            void 0 !== b.parent && b.parent.nh(0)
        }
        X.call(this);
        var b = this;
        this.hh = 0;
        this.ni = [];
        this.a.style.overflow = "hidden";
        this.a.style.fontFamily = "Tahoma, Helvetica, Arial, sans-serif";
        this.a.style.boxSizing = "border-box";
        this.a.style.paddingLeft = "5px";
        this.xa = document.createElement("div");
        this.xa.style.width = "100%";
        this.xa.style.overflowX = "hidden";
        this.xa.style.overflowY = "scroll";
        this.xa.style.padding = "6px";
        this.xa.style.boxSizing = "border-box";
        this.a.appendChild(this.xa);
        this.Y = Er();
        var c = Dr();
        this.K = Fr();
        this.Ga = Hr();
        this.Ga.style.top = "1px";
        this.K.onclick = a;
        this.K.onfocus = a;
        this.hb = Gr();
        this.hb.onclick = a;
        c.appendChild(this.K);
        this.Y.appendChild(c);
        this.Y.appendChild(this.Ga);
        this.Y.appendChild(this.hb);
        this.a.appendChild(this.Y);
        this.vf();
        z("click", this.Ga, function () {
            t(Bi, b.Ga)
        });
        var d = ["privatewatching", "groupwatching"];
        q(T, function (a) {
            b.Ce = a.j;
            q(b.Ce.event.ib, function (a) {
                (0 <= d.indexOf(a.Qc) || 0 <= d.indexOf(a.ya)) && setTimeout(function () {
                    b.refresh(!1)
                }, 2E3)
            });
            q(b.Ce.event.Qg, function (a) {
                b.hh = a;
                t(Mr, b.hh)
            });
            void 0 !== a.h.yj && b.clear(a.h.yj)
        });
        z("click", this.Ga, function () {
            t(Bi, b.Ga)
        })
    }
    m(Nr, X);
    k = Nr.prototype;
    k.Zf = function () {
        for (; null !== this.xa.firstChild;) this.xa.removeChild(this.xa.firstChild)
    };
    k.vf = function () {
        var a = document.createElement("div");
        a.innerText = Wd + "...";
        a.style.margin = "8px 0";
        a.style.color = S.Ub;
        this.xa.style.fontSize = "12px";
        this.xa.appendChild(a)
    };
    k.Ik = function () {
        var a = this,
            b = document.createElement("div");
        b.style.margin = "6px";
        b.style.cssFloat = "right";
        var c = document.createElement("span");
        c.innerText = Xd;
        c.style.cursor = "pointer";
        c.style.color = "#0a5a83";
        c.onmouseenter = function () {
            c.style.textDecoration = "underline"
        };
        c.onmouseleave = function () {
            c.style.textDecoration = "none"
        };
        z("click", c, function (b) {
            a.Zf();
            a.vf();
            a.refresh(!1);
            b.preventDefault()
        });
        b.appendChild(c);
        this.xa.appendChild(b)
    };
    k.clear = function (a) {
        this.hh = a;
        t(Mr, this.hh);
        this.Zf();
        this.vf();
        this.C()
    };
    k.refresh = function (a) {
        var b = this;
        a = void 0 === a ? !0 : a;
        void 0 !== this.Ce && this.Ce.Pk().then(function (c) {
            b.hh = c.kf;
            t(Mr, c.kf);
            if (!a) {
                b.Zf();
                b.Ik();
                b.ni = c.we;
                for (var d = l(b.ni), e = d.next(); !e.done; e = d.next()) {
                    e = e.value;
                    var f = document.createElement("div");
                    f.style.width = "100%";
                    f.style.margin = "2px 0";
                    f.appendChild(ir(e));
                    b.xa.appendChild(f)
                }
                d = document.createElement("div");
                d.style.color = S.Ub;
                d.innerText = "+" + c.ae + " anonymous user" + (1 === c.ae ? "" : "s");
                d.style.width = "100%";
                d.style.margin = "2px 0";
                d.style.whiteSpace = "nowrap";
                b.xa.appendChild(d);
                b.C()
            }
        })["catch"](function (a) {
            v("Error retrieving user list: " + a)
        })
    };
    k.C = function () {
        this.Y.style.width = this.a.clientWidth - 10 + "px";
        this.K.style.width = Math.max(0, this.Y.clientWidth - 18 - Math.ceil(this.hb.offsetWidth) - Math.ceil(this.Ga.offsetWidth) - 4) + "px";
        this.xa.style.height = this.a.clientHeight - 28 - 4 + 1 + "px"
    };
    k.Je = function () {
        return td + " (" + this.hh + ")"
    };
    k.ee = function () {
        return "users-tab-default"
    };
    k.Wb = function () {
        this.K.focus()
    };
    k.Id = function () {
        this.K.blur()
    };
    k.Ne = function () {
        return document.activeElement === this.K
    };
    k.oa = function () {
        this.xa.scrollTop = this.xa.scrollHeight - this.xa.offsetHeight
    };
    k.Ef = function () {
        return this.K.value
    };
    k.fg = function (a) {
        this.K.value = a
    };
    k.Ie = function () {
        return this.K
    };
    k.Zg = function (a, b) {
        X.prototype.Zg.call(this, a, b);
        this.refresh(!1)
    };

    function Or() {
        function a() {
            ql.Bh();
            void 0 !== b.parent && b.parent.nh(0)
        }
        X.call(this);
        var b = this;
        this.a.style.color = S.Fa;
        this.a.style.fontSize = "12px";
        this.a.style.fontFamily = "Tahoma, Arial, Helvetica, sans-serif";
        this.a.style.boxSizing = "border-box";
        this.Y = Er();
        this.Y.style.position = "absolute";
        this.Y.style.left = "5px";
        this.Y.style.bottom = "3px";
        var c = Dr();
        this.K = Fr();
        this.Ga = Hr();
        this.Ga.style.top = "1px";
        this.K.onclick = a;
        this.K.onfocus = a;
        this.hb = Gr();
        this.hb.onclick = a;
        c.appendChild(this.K);
        this.Y.appendChild(c);
        this.Y.appendChild(this.Ga);
        this.Y.appendChild(this.hb);
        this.a.appendChild(this.Y);
        var d = document.createElement("div");
        d.innerText = od;
        d.style.position = "absolute";
        d.style.top = "30px";
        d.style.right = "10px";
        d.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        d.style.color = "#000000";
        d.style.backgroundColor = "#d8deea";
        d.style.border = "1px solid #acacac";
        d.style.borderRadius = "4px";
        d.style.padding = "8px 12px";
        d.style.opacity = "0";
        this.a.appendChild(d);
        z("click", this.Ga, function () {
            t(Bi, b.Ga)
        });
        q(Mj, function (a) {
            b.T = a.Wa;
            "default" === b.T && (ya(b, ql), ql.a.style.margin = "0", ql.yc.style.color = "#0a5a83")
        });
        var e;
        q(ql.Fk, function () {
            clearTimeout(e);
            pg(d, "250ms");
            d.style.opacity = "1";
            e = setTimeout(function () {
                pg(d, "1000ms");
                d.style.opacity = "0"
            }, 3E3)
        })
    }
    m(Or, X);
    k = Or.prototype;
    k.C = function () {
        "default" === this.T && (this.Y.style.width = this.a.clientWidth - 10 + "px", this.K.style.width = Math.max(0, this.Y.clientWidth - 18 - Math.ceil(this.hb.offsetWidth) - Math.ceil(this.Ga.offsetWidth) - 4) + "px", ql.a.style.height = this.a.clientHeight - 28 - 4 + 1 + "px")
    };
    k.Je = function () {
        return "&nbsp;"
    };
    k.Sk = function () {
        return "url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-preferences.png)"
    };
    k.ee = function () {
        return "settings-tab-default"
    };
    k.Wb = function () {
        this.K.focus()
    };
    k.Id = function () {
        this.K.blur()
    };
    k.Ne = function () {
        return document.activeElement === this.K
    };
    k.oa = function () {
        ql.a.scrollTop = ql.a.scrollHeight - ql.a.offsetHeight
    };
    k.Ef = function () {
        return this.K.value
    };
    k.fg = function (a) {
        this.K.value = a
    };
    k.Ie = function () {
        return this.K
    };

    function Pr() {
        Oi.call(this);
        var a = this;
        this.ub.style.padding = "1px 3px 0 3px";
        this.ub.style.backgroundColor = "#7f7f7f";
        this.ub.style.boxSizing = "border-box";
        this.ub.style.borderBottom = "";
        this.window.style.width = "";
        this.window.style.position = "";
        this.a.style.display = "inline-block";
        this.a.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.borderRadius = "4px 4px 0 0";
        this.a.style.border = "1px solid #acacac";
        this.a.style.margin = "0 0 6px 8px";
        this.a.style.boxSizing = "border-box";
        this.a.style.overflow = "";
        Vi(this, {
            position: "",
            lineHeight: "1.2",
            height: "13px",
            borderRadius: "4px 4px 0 0",
            textDecoration: "none",
            fontSize: "11px",
            marginRight: "2px",
            padding: "3px 8px",
            backgroundRepeat: "no-repeat",
            backgroundPosition: "center",
            minWidth: "16px"
        });
        Wi(this, {
            color: "#dc5500"
        });
        this.ba = Pi(this, new Jr);
        this.tp = Pi(this, new Nr);
        this.ua = Pi(this, new Lr(function () {
            Ui(a, a.ba)
        }));
        Pi(this, new Or);
        Ui(this, this.ba);
        q(T, function (b) {
            q(b.j.event.cg, function (b) {
                Dk(a.ba);
                a.ba.w.ra(sr(b))
            });
            q(b.j.event.R, function (b) {
                a.ba.w.ra(ur(b));
                b.W && a.ua.El(ur(b))
            });
            q(b.j.event.Wf, function (b) {
                a.ua.ra(sr(b), b.eb.username, b.Al)
            });
            q(b.j.event.Og, function (b) {
                a.ba.Yi(b.username);
                a.ba.w.Ml(b.username);
                a.ua.hd(b.username)
            });
            q(b.j.event.ib, function (b) {
                "notconnected" === b.Qc && a.Ge === a.tp && a.tp.refresh(!1)
            })
        });
        q(Mr, function () {
            a.Db()
        });
        var b = new sl;
        q(this.ua.Uh, function (c) {
            c.oj && tl(b, c.username) && a.ba.w.ra(ur({
                V: [
                    [{
                        Yb: 1,
                        message: "New private conversation from " + c.username + " "
                    }, {
                        Yb: 1,
                        message: "(Press TAB to cycle through your conversations)",
                        ma: "#cd0000",
                        weight: "700"
                    }]
                ],
                W: !1
            }))
        });
        q(Ci, function () {
            setTimeout(function () {
                x(a)
            }, 0)
        })
    }
    m(Pr, Oi);
    k = Pr.prototype;
    k.C = function () {
        var a = this;
        Oi.prototype.C.call(this);
        var b = this.a.clientHeight - 28 - this.ub.offsetHeight - 8;
        this.ba.w.Ma.style.height = b + "px";
        setTimeout(function () {
            var c = Y(a.ua);
            void 0 !== c && (c.w.Ma.style.height = b + "px")
        }, 0)
    };
    k.nh = function (a) {
        var b = "";
        void 0 !== this.Ge && (b = this.Ge.Ef());
        a >= this.children().length ? v("invalid tab index") : (this.Ge = this.children()[a], this.Ge.fg(b), Ti(this))
    };
    k.Ya = function () {
        return Oi.prototype.Ya.call(this)
    };
    k.children = function () {
        return Oi.prototype.children.call(this)
    };
    k.Mk = function () {
        ql.Bh();
        if (Oi.prototype.Ya.call(this) === this.ba) {
            if (!this.ua.Hg()) {
                Ui(this, this.ua);
                var a = this.ua;
                a.Kc();
                Gk(a.ta);
                Ok(this.ua) || v("no pmSessions")
            }
        } else 0 < this.ba.O ? Ui(this, this.ba) : Ok(this.ua) || Ui(this, this.ba);
        x(this)
    };
    k.uf = function () {
        Oi.prototype.Ya.call(this) === this.ua && this.ua.uf()
    };

    function Qr() {
        w.call(this);
        var a = this;
        this.uj = [];
        this.a.style.position = "static";
        this.a.style.overflow = "";
        this.a.style.color = S.Nk;
        q(T, function (b) {
            b = l(b.h.uh);
            for (var c = b.next(); !c.done; c = b.next()) c = c.value, 0 > a.uj.indexOf(c.id) && "1" !== db("dism_msg" + c.id) && (a.uj.push(c.id), a.Ol(c))
        })
    }
    m(Qr, w);
    Qr.prototype.Ol = function (a) {
        var b = this,
            c = document.createElement("div");
        c.innerHTML = a.Cq;
        c.style.backgroundColor = "#cccccc";
        c.style.fontSize = "12px";
        c.style.padding = "3px";
        c.style.margin = "5px 0";
        c.style.borderRadius = "2px";
        c.style.lineHeight = "16px";
        var d = document.createElement("a");
        d.style.color = S.Lc;
        d.textContent = ie;
        d.style.cursor = "pointer";
        var e = document.createElement("span");
        e.textContent = " (";
        var f = document.createElement("span");
        f.textContent = ")";
        c.appendChild(e);
        c.appendChild(d);
        c.appendChild(f);
        this.a.appendChild(c);
        e = {};
        f = l(c.getElementsByTagName("a"));
        for (var h = f.next(); !h.done; e = {
                link: e.link
            }, h = f.next()) e.link = h.value, e.link.style.color = S.Lc, e.link.onmouseenter = function (a) {
            return function () {
                a.link.style.textDecoration = "underline"
            }
        }(e), e.link.onmouseleave = function (a) {
            return function () {
                a.link.style.textDecoration = ""
            }
        }(e);
        z("click", d, function () {
            b.a.removeChild(c);
            b.uj.splice(b.uj.indexOf(a.id), 1);
            eb("dism_msg" + a.id, "1", 60)
        })
    };
    var Rr = window.$;

    function Sr(a, b) {
        w.call(this);
        var c = this;
        this.i = a;
        this.dn = this.dm = !1;
        this.a.style.position = "static";
        this.a.style.height = "auto";
        var d = document.createElement("div");
        if (void 0 !== b.Ym) {
            var e = document.createElement("div");
            e.id = "deletion_admin_notice";
            e.style.margin = "10px";
            e.innerHTML = b.Ym;
            d.appendChild(e)
        }
        void 0 !== b.ro && (e = document.createElement("div"), e.style.color = "#503d08", Ha() ? e.style.background = "rgba(247, 255, 0, 0.23)" : e.style.background = "rgb(247, 255, 0)", e.style.padding = "5px", e.style.width = "500px", e.textContent = "Previously known as " + b.ro, d.appendChild(e));
        this.a.appendChild(d);
        d = document.createElement("div");
        this.a.appendChild(d);
        e = document.createElement("a");
        e.href = "#";
        e.style.color = "#0a5a83";
        e.style.marginRight = "15px";
        e.textContent = "Show/Hide Admin Info";
        e.onclick = function (a) {
            a.preventDefault();
            Tr(c)
        };
        d.appendChild(e);
        this.pf = document.createElement("div");
        this.pf.id = "admin-info-section";
        this.pf.style.display = "none";
        this.pf.textContent = "Loading admin information...";
        this.a.appendChild(this.pf);
        for (e = 0; e < b.em.length; e += 1) {
            var f = Ur(this, b.em[e]);
            d.appendChild(f);
            e !== b.em.length - 1 && (f = document.createElement("span"), f.style.margin = "0 2px", f.textContent = "|", d.appendChild(f))
        }
        b.Gp && Tr(this)
    }
    m(Sr, w);

    function Ur(a, b) {
        var c = document.createElement("a");
        c.href = b.href;
        c.textContent = b.text;
        c.style.color = "#0a5a83";
        "View Stream Status" === b.text && (c.onclick = function (b) {
            b.preventDefault();
            b = window.open("/view_user_obs_overlay/" + a.i + "/?graph=1", "obs_info", "status=0,toolbar=0,menubar=0,directories=0,resizable=1,scrollbars=1,height=600,width=750");
            null !== b && b.focus()
        });
        return c
    }

    function Tr(a) {
        a.dm ? (a.pf.style.display = "none", a.dm = !1) : (a.dn || (Vr(a), a.dn = !0), a.pf.style.display = "block", a.dm = !0)
    }

    function Vr(a) {
        A("ax/room_info/" + a.i + "/").then(function (b) {
            Rr(a.pf).html(b.responseText)
        })
    };

    function Wr(a, b, c) {
        function d() {
            e.Cb.a.style.visibility = "visible";
            var a = l(Nm(window.innerWidth, window.innerHeight, e.u.xc)),
                b = a.next().value;
            a = a.next().value;
            e.u.a.style.height = "100%";
            e.u.a.style.top = "0";
            e.u.a.style.left = "0";
            e.u.L.a.style.top = "0";
            e.u.L.a.style.left = "0";
            e.u.L.a.style.width = b + "px";
            e.u.L.a.style.height = a + "px";
            e.J.a.style.visibility = "visible";
            e.J.a.style.position = "absolute";
            e.J.a.style.top = "0px";
            e.J.a.style.left = "0";
            e.J.a.style.height = a - 32 + "px";
            e.ia.a.style.display = "none";
            e.ag.a.style.display = "none";
            e.u.S.a.style.display = "block";
            x(e)
        }
        w.call(this);
        var e = this;
        this.u = a;
        this.J = b;
        this.Cb = c;
        this.bg = 4;
        y() && (a = window.localStorage.getItem("isTheaterMode"), null !== a && JSON.parse(a).isTheaterMode && setTimeout(function () {
            t(Mj, {
                Tf: "default",
                Wa: "theater"
            });
            g.innerText = "default" === e.T ? "Theater Mode" : "Default Mode"
        }, 0));
        this.a.style.position = "static";
        this.a.style.display = "block";
        this.a.style.height = "auto";
        this.a.style.backgroundColor = "#e0e0e0";
        this.a.style.border = "1px solid #acacac";
        this.a.style.borderRadius = "4px";
        this.a.style.padding = "4px";
        this.a.style.margin = "8px 0 17px 32px";
        this.a.style.overflow = "visible";
        this.a.style.boxSizing = "border-box";
        this.qd = document.createElement("div");
        this.qd.innerText = Je;
        this.qd.style.display = "none";
        this.qd.style.color = "#0b5d81";
        this.qd.style.fontFamily = "UbuntuRegular, Arial, Helvetica, sans-serif";
        this.qd.style.fontSize = "12px";
        this.qd.style.fontWeight = "bold";
        this.qd.style.margin = "13px 0";
        this.a.appendChild(this.qd);
        this.xb = document.createElement("div");
        this.xb.style.width = "100%";
        this.xb.style.height = "auto";
        this.xb.style.backgroundColor = "#e0e0e0";
        this.a.appendChild(this.xb);
        this.Na = this.N(new br(this.u, this.J), this.xb);
        this.ag = this.N(new Wq(this), this.xb);
        this.ia = this.N(new Pr, this.xb);
        var f;
        q(Bi, function (a) {
            N ? t(kg, void 0) : "default" === e.T && (void 0 === f && (f = e.N(new Al(e.ia), e.ia.a)), f.show(a))
        });
        a = document.createElement("div");
        a.style.backgroundColor = "#cccccc";
        a.style.fontSize = "12px";
        a.style.padding = "3px";
        a.style.margin = "5px 0";
        a.style.borderRadius = "2px";
        a.style.color = S.Fa;
        a.style.lineHeight = "16px";
        b = document.createElement("span");
        var h = document.createElement("span");
        h.innerText = "Check out the new ";
        b.appendChild(h);
        var g = document.createElement("a");
        g.href = "#";
        g.innerText = "Theater Mode";
        g.id = "video-mode";
        g.style.color = "#0a5a83";
        g.style.textDecoration = "none";
        g.onclick = function (a) {
            a.preventDefault();
            a = "default";
            "default" === e.T && (a = "theater");
            t(Mj, {
                Tf: e.T,
                Wa: a
            });
            O("ChangeVideoMode", {
                videoMode: a
            })
        };
        b.appendChild(g);
        c = document.createElement("span");
        c.innerText = " player";
        b.appendChild(c);
        a.appendChild(b);
        b = document.createElement("span");
        b.style.display = "none";
        c = document.createElement("span");
        c.innerText = "|";
        c.style.color = S.Fa;
        c.style.margin = "0 4px";
        b.appendChild(c);
        var p = document.createElement("a");
        p.href = "#";
        p.innerText = "Interactive Full Screen";
        p.style.color = "#0a5a83";
        p.id = "fvm-link";
        p.style.textDecoration = "none";
        p.onclick = function (a) {
            a.preventDefault();
            a = e.u.S;
            "fullscreen" === a.T ? (Ag(), a.T = a.pi ? "theater" : "default") : zg(a.pn);
            O("ChangeVideoMode", {
                videoMode: "fullscreen"
            })
        };
        b.appendChild(p);
        a.appendChild(b);
        !Bg() || (/iPad/i.test(navigator.userAgent) || "MacIntel" === navigator.platform && 1 < navigator.maxTouchPoints) && void 0 === window.MSStream || (b.style.display = "inline");
        this.tl = a;
        this.a.appendChild(a);
        var u = document.createElement("div");
        u.style.backgroundColor = "#cccccc";
        u.style.fontSize = "12px";
        u.style.padding = "3px";
        u.style.margin = "5px 0";
        u.style.borderRadius = "2px";
        u.style.color = S.Fa;
        u.style.lineHeight = "16px";
        u.style.display = "none";
        this.a.appendChild(u);
        this.oc = document.createElement("div");
        this.oc.style.backgroundColor = "#cccccc";
        this.oc.style.fontSize = "12px";
        this.oc.style.padding = "3px";
        this.oc.style.margin = "5px 0";
        this.oc.style.borderRadius = "2px";
        this.oc.style.color = S.Fa;
        this.oc.style.lineHeight = "16px";
        a = document.createElement("span");
        a.innerText = S.gl ? Le : Ke;
        this.oc.appendChild(a);
        this.a.appendChild(this.oc);
        var F = document.createElement("a");
        F.innerText = Me;
        F.href = "https://www.surveymonkey.com/r/6NS9RJ5";
        F.target = "_blank";
        F.style.color = "#0a5a83";
        F.onmouseenter = function () {
            F.style.textDecoration = "underline"
        };
        F.onmouseleave = function () {
            F.style.textDecoration = "none"
        };
        this.oc.appendChild(F);
        var C = document.createElement("a");
        C.href = "#";
        C.innerText = Ne;
        C.style.color = "#0a5a83";
        C.style.cssFloat = "right";
        C.onclick = function (a) {
            a.preventDefault();
            B("toggle_theatermode/", {}).then(function (a) {
                a = new D(a.responseText);
                var b = K(a, "success");
                M(a);
                b ? (O("ChangeCBVersion", {
                    new_cb_version: 1
                }), window.location.reload()) : (V("An error occurred. Please try again."), v("Error switching to CB1"))
            })
        };
        C.onmouseenter = function () {
            C.style.textDecoration = "underline"
        };
        C.onmouseleave = function () {
            C.style.textDecoration = "none"
        };
        this.oc.appendChild(C);
        this.uh = this.N(new Qr);
        var N = !0,
            E;
        q(T, function (a) {
            N = a.j.yb;
            C.href = "/" + a.h.i + "/";
            p.href = "/fullvideo/?b=" + a.h.i;
            void 0 !== E && (e.removeChild(E), E = void 0);
            void 0 !== a.h.Vj ? (u.style.display = "block", E = e.N(new Sr(a.h.i, a.h.Vj), u)) : u.style.display = "none"
        });
        this.Wq = this.N(new Pq);
        var P = !0;
        q(Mj, function (a) {
            e.T = a.Wa;
            void 0 !== f && "default" !== e.T && f.B();
            if (P || e.T !== a.Tf) switch (a.Wa) {
                case "default":
                    e.a.style.padding = e.bg +
                        "px";
                    e.a.style.marginTop = "8px";
                    e.a.style.marginLeft = "32px";
                    e.u.L.a.style.top = "0";
                    e.J.a.style.top = "0";
                    e.J.a.style.visibility = "hidden";
                    e.J.a.style.position = "fixed";
                    e.Cb.a.style.visibility = "hidden";
                    e.ia.a.style.display = "inline-block";
                    e.ag.a.style.display = "inline-block";
                    e.u.L instanceof rm || (e.u.S.a.style.display = "none");
                    x(e);
                    Xr(!1);
                    h.innerText = "Check out the new ";
                    g.innerText = "Theater Mode";
                    break;
                case "theater":
                    e.a.style.marginTop = "5px";
                    e.a.style.marginLeft = "8px";
                    e.u.L.a.style.top = "0";
                    e.J.a.style.top = "0";
                    e.J.a.style.visibility = "visible";
                    e.J.a.style.position = "absolute";
                    e.Cb.a.style.visibility = "visible";
                    e.Cb.oa();
                    e.ia.a.style.display = "none";
                    e.ag.a.style.display = "none";
                    e.u.S.a.style.display = "block";
                    Yq(e.ag, e.a.clientWidth);
                    x(e);
                    Xr(!0);
                    h.innerText = "Return to the ";
                    g.innerText = "Default Mode";
                    break;
                case "fullscreen":
                    d();
                    setTimeout(function () {
                        "fullscreen" === e.T && d()
                    }, 500);
                    break;
                default:
                    v("Unexpected VideoMode: " + a.Wa)
            }
            P = !1;
            setTimeout(function () {
                x(e)
            }, 300)
        })
    }
    m(Wr, w);
    Wr.prototype.C = function () {
        var a = this.Na.a.offsetHeight;
        "theater" === this.T && (a = Yr(this.u)[1], this.J.a.style.height = a - 32 + "px");
        this.ia.a.style.width = this.a.clientWidth - this.Na.a.offsetWidth - 16 + "px";
        this.ia.a.style.height = a + "px";
        this.ag.a.style.height = a + "px";
        Yq(this.ag)
    };

    function Xr(a) {
        y() && window.localStorage.setItem("isTheaterMode", JSON.stringify({
            isTheaterMode: a
        }))
    };

    function Zr() {
        w.call(this);
        var a = this;
        this.qg = {
            header: new $r,
            rightTop: new $r,
            rightMiddle: new $r,
            rightBottom: new $r,
            footerLeft: new $r,
            footerMiddle: new $r,
            footerRight: new $r
        };
        q(T, function (b) {
            if (!b.h.Gg && !b.h.Lf && "" !== b.h.ui.header) {
                for (var c in a.qg)
                    if (a.qg.hasOwnProperty(c)) {
                        for (var d = a.qg[c]; null !== d.a.firstChild;) d.a.removeChild(d.a.firstChild);
                        d.pg = document.createElement("ins");
                        d.pg.style.display = "inline-block";
                        d.pg.style.width = "100%";
                        d.pg.style.height = "100%";
                        d.pg.className = "adsbyxa";
                        d.a.appendChild(d.pg);
                        "" !== b.h.ui[c] && a.qg[c].pg.setAttribute("data-ad-zone", b.h.ui[c])
                    } window.xadqueue = [];
                void 0 !== window.xadgo && window.xadgo()
            }
        })
    }
    m(Zr, w);

    function $r() {
        w.call(this);
        this.a.style.display = "inline-block";
        this.a.style.position = "relative";
        this.a.className = "ad"
    }
    m($r, w);

    function as(a) {
        switch (a) {
            case "rightTop":
                return "top_skyscraper";
            case "rightMiddle":
                return "mid_skyscraper";
            case "rightBottom":
                return "tbot_skyscraper";
            case "footerLeft":
                return "left_footer";
            case "footerMiddle":
                return "mid_footer";
            case "footerRight":
                return "right_footer";
            default:
                return v("Unexpected ad zone for track: " + a), ""
        }
    };

    function bs(a) {
        function b(b) {
            var c = document.createElement("div"),
                d = a.qg[b];
            d.a.style.width = "160px";
            d.a.style.height = "600px";
            d.a.style.margin = "10px 13px 6px 13px";
            c.appendChild(d.a);
            var e = document.createElement("a");
            e.href = "https://exoticads.com/aff/in/mrps/agBmX/?track=" + as(b);
            e.innerHTML = be;
            e.style.display = "block";
            e.style.color = "#d90c5f";
            e.style.fontSize = "12px";
            e.style.textAlign = "center";
            e.style.textDecoration = "none";
            e.onmouseenter = function () {
                e.style.textDecoration = "underline"
            };
            e.onmouseleave = function () {
                e.style.textDecoration = "none"
            };
            c.appendChild(e);
            return c
        }
        w.call(this);
        var c = this;
        this.a.style.position = "static";
        this.a.style.width = "186px";
        this.a.style.height = "auto";
        this.a.style.backgroundColor = "#e0e0e0";
        this.a.style.border = "1px solid #acacac";
        this.a.style.borderRadius = "4px";
        this.a.style.paddingBottom = "16px";
        this.a.style.margin = "8px 20px 16px 0";
        this.a.style.display = "none";
        this.a.className = "ad";
        var d = document.createElement("a");
        d.href = "/supporter/upgrade/";
        d.style.display = "block";
        d.style.backgroundColor = "#fc760c";
        d.style.padding = "2px 4px";
        var e = document.createElement("img");
        e.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close_icon.png";
        d.appendChild(e);
        var f = document.createElement("span");
        f.innerText = ae;
        f.style.color = "#ffffff";
        f.style.fontSize = "14px";
        f.style.fontWeight = "bold";
        f.style.textDecoration = "none";
        f.style.marginLeft = "8px";
        f.onmouseenter = function () {
            f.style.textDecoration = "underline"
        };
        f.onmouseleave = function () {
            f.style.textDecoration = "none"
        };
        d.appendChild(f);
        this.a.appendChild(d);
        this.a.appendChild(b("rightTop"));
        this.a.appendChild(b("rightMiddle"));
        this.a.appendChild(b("rightBottom"));
        q(Mj, function (a) {
            c.a.style.marginTop = "default" === a.Wa ? "8px" : "5px"
        })
    }
    m(bs, w);

    function cs(a) {
        function b(b) {
            var c = document.createElement("div");
            c.style.display = "inline-block";
            c.style.maxWidth = "33%";
            c.style.width = "33%";
            var d = a.qg[b];
            d.a.style.width = "100%";
            d.a.style.maxWidth = "300px";
            d.a.style.height = "250px";
            d.a.style.margin = "2px 3px 4px 3px";
            c.appendChild(d.a);
            var e = document.createElement("a");
            e.href = "https://exoticads.com/aff/in/mrps/agBmX/?track=" + as(b);
            e.innerHTML = be;
            e.style.display = "block";
            e.style.color = "#d90c5f";
            e.style.fontSize = "12px";
            e.style.textAlign = "center";
            e.style.textDecoration = "none";
            e.onmouseenter = function () {
                e.style.textDecoration = "underline"
            };
            e.onmouseleave = function () {
                e.style.textDecoration = "none"
            };
            c.appendChild(e);
            return c
        }
        w.call(this);
        this.a.style.position = "relative";
        this.a.style.height = "auto";
        this.a.style.padding = "32px";
        this.a.style.textAlign = "center";
        this.a.style.display = "none";
        this.a.style.width = "auto";
        this.a.className = "ad";
        this.xa = document.createElement("div");
        this.xa.style.display = "inline-block";
        this.xa.style.width = "100%";
        this.xa.style.maxWidth = "918px";
        this.xa.style.borderRadius = "4px";
        this.xa.style.backgroundColor = "#ffffff";
        var c = document.createElement("a");
        c.href = "/supporter/upgrade/";
        c.style.display = "block";
        c.style.backgroundColor = "#fc760c";
        c.style.padding = "2px 4px";
        c.style.textAlign = "left";
        var d = document.createElement("img");
        d.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close_icon.png";
        c.appendChild(d);
        var e = document.createElement("span");
        e.innerText = ae;
        e.style.color = "#ffffff";
        e.style.fontSize = "14px";
        e.style.fontWeight = "bold";
        e.style.textDecoration = "none";
        e.style.marginLeft = "8px";
        e.onmouseenter = function () {
            e.style.textDecoration = "underline"
        };
        e.onmouseleave = function () {
            e.style.textDecoration = "none"
        };
        c.appendChild(e);
        this.xa.appendChild(c);
        this.xa.appendChild(b("footerLeft"));
        this.xa.appendChild(b("footerMiddle"));
        this.xa.appendChild(b("footerRight"));
        this.a.appendChild(this.xa)
    }
    m(cs, w);

    function ds(a, b) {
        function c(a) {
            a !== d.state.volume && (d.state.volume = a, d.state.na = 0 === d.state.volume, es(d), d.nf(), d.xd())
        }
        w.call(this);
        var d = this;
        this.u = a;
        this.T = "default";
        this.state = {
            volume: 60,
            na: !0
        };
        this.visible = this.yn = this.pi = this.Fg = this.gb = !1;
        var e = bb().disable_sound;
        void 0 !== e && "true" === e.toLowerCase() || "1" === e ? (this.state.volume = 0, this.state.na = !0) : y() && (e = window.localStorage.getItem("videoControls"), null !== e ? (e = JSON.parse(e), this.state = {
            volume: e.volume,
            na: this.u.L.Yj ? e.isMuted : !0
        }) : this.state.na = !this.u.L.Yj);
        this.Mm = window.navigator.userAgent;
        this.a.style.bottom = "0";
        this.a.style.left = "0";
        this.a.style.height = "auto";
        this.a.style.paddingTop = "4px";
        Ha() ? Ia() ? this.a.style.background = "linear-gradient(180deg, rgba(50, 50, 50, 0) 0%, rgba(50, 50, 50, 0.4) 66%, rgba(50, 50, 50, 0.7) 100%)" : this.a.style.backgroundColor = "rgba(50, 50, 50, 0.7)" : this.a.style.backgroundColor = "#000000";
        var f;
        this.Ea = document.createElement("img");
        this.Ea.style.height = "24px";
        this.Ea.style.width = "24px";
        this.Ea.style.margin = "0 6px 2px 6px";
        this.Ea.style.cursor = "pointer";
        this.Ea.style.cssFloat = "left";
        this.Ea.onclick = function () {
            d.u.Eg || -1 < d.Mm.indexOf("MSIE 10.0") || -1 < d.Mm.indexOf("MSIE 9.0") ? (O("ToggleMute", {
                newState: !d.state.na
            }), O("ChangeVolume", {
                volume: d.state.volume
            }), d.state.na ? d.ki() : d.Ph(), d.Ud()) : void 0 === f ? v("unexpected switch to hls", {}, "VIDEO_") : (O("ForceHLS"), Mm(d.u, f, d), d.ki(), t(ig, void 0))
        };
        this.a.appendChild(this.Ea);
        this.Oa = this.N(new $k({
            fb: 12,
            Hd: 50
        }));
        this.Oa.a.style.margin = "6px 5px 0 0";
        this.Oa.a.style.cssFloat = "left";
        q(this.Oa.lk, function (a) {
            d.u.L.zd(!1);
            c(a)
        });
        q(this.Oa.mk, c);
        q(this.Oa.kk, function (a) {
            c(a);
            0 === d.state.volume && d.u.L.zd(!0);
            O("ChangeVolume", {
                volume: a
            });
            d.xd()
        });
        this.bb = fs("");
        this.bb.style.cssFloat = "left";
        this.bb.onclick = function () {
            b.show()
        };
        this.a.appendChild(this.bb);
        this.Fg = Bg();
        document[Dg()] = function () {
            U() || (d.Fg = !1, d.Qa.style.display = "none", V("Full screen is unavailable."))
        };
        this.Qa = fs("Full Screen");
        this.Qa.id = "full-screen";
        Bg() || (this.Qa.style.display = "none");
        this.Qa.onclick = function () {
            U() ? Ag() : d.Fg && d.u.L.zf();
            gs(d)
        };
        this.a.appendChild(this.Qa);
        this.pi = !1;
        this.df = fs("Theater Mode");
        this.df.onclick = function () {
            var a = "default" === d.T ? "theater" : "default";
            O("ChangeVideoMode", {
                videoMode: a
            });
            t(Mj, {
                Tf: d.T,
                Wa: a
            });
            gs(d)
        };
        this.a.appendChild(this.df);
        this.td = fs("Report Abuse");
        this.td.style.display = "none";
        this.td.onclick = function () {
            t(fg, void 0)
        };
        this.a.appendChild(this.td);
        this.Jg = fs("More Rooms");
        this.Jg.id = "more-rooms";
        var h = !1;
        this.Jg.onclick = function () {
            t(zi, void 0)
        };
        this.a.appendChild(this.Jg);
        this.kg = fs(sd + " (0)");
        this.kg.id = "user-list";
        this.kg.onclick = function () {
            t(cg, void 0)
        };
        q(Mr, function (a) {
            d.kg.innerText = sd + " (" + a + ")"
        });
        this.a.appendChild(this.kg);
        this.tf = fs("Chat");
        this.tf.id = "chat-btn";
        this.tf.style.display = "none";
        this.tf.onclick = function () {
            t(hg, void 0)
        };
        this.a.appendChild(this.tf);
        this.D = fs(hc);
        this.D.id = "send-tip";
        this.D.onclick = function () {
            t(dg, {})
        };
        this.a.appendChild(this.D);
        this.Uf = fs(tc);
        this.Uf.onclick = function () {
            t(gg, void 0)
        };
        this.a.appendChild(this.Uf);
        q(T, function (a) {
            if (void 0 === a.h.gb) v("Dossier is missing context.");
            else {
                if (a.h.gb) {
                    var b = !0 === a.h.ed,
                        c = !0 === a.h.dd;
                    hs(d, b || c, a.j.status);
                    q(a.j.event.ib, function (a) {
                        var e = a.ya;
                        switch (e) {
                            case "unknown":
                            case "offline":
                            case "notconnected":
                            case "away":
                            case "groupnotwatching":
                            case "privatenotwatching":
                            case "hidden":
                            case "passwordprotected":
                                if ("fullscreen" === d.T) {
                                    d.Qa.style.display = d.Fg ? "inline" : "none";
                                    break
                                }
                                U() && Ag();
                                d.Qa.style.display = "none";
                                break;
                            case "public":
                            case "privatespying":
                            case "privatewatching":
                            case "privaterequesting":
                            case "grouprequesting":
                            case "groupwatching":
                                d.Qa.style.display = d.Fg ? "inline" : "none";
                                break;
                            default:
                                v("unexpected room status", e, "")
                        }
                        hs(d, b || c, a.ya);
                        "privatespying" === a.ya && t(gg, void 0)
                    });
                    q(a.j.event.Td, function (e) {
                        b = e.ed;
                        c = e.dd;
                        hs(d, b || c, a.j.status)
                    })
                } else hs(d, !1, a.j.status);
                f = a;
                d.gb = a.h.gb;
                d.wq = "offline" === a.h.Za;
                d.nf();
                d.u.Eg && is(d);
                gs(d);
                d.Ud()
            }
        });
        q(Mj, function (a) {
            "theater" === d.T ? d.pi = !0 : "default" === d.T && (d.pi = !1);
            "fullscreen" === a.Tf && "fullscreen" !== a.Wa && h && (h = !1, setTimeout(function () {
                t(zi, void 0)
            }, 200));
            d.T = a.Wa;
            gs(d)
        });
        q(mg, function () {
            d.Ud()
        });
        q(Ai, function () {
            d.Ph()
        });
        z(Cg(), document, function () {
            U() && U() === d.pn ? t(Mj, {
                Tf: d.T,
                Wa: "fullscreen"
            }) : U() || t(Mj, {
                Tf: d.T,
                Wa: d.pi ? "theater" : "default"
            })
        });
        this.B()
    }
    m(ds, w);

    function hs(a, b, c) {
        var d = ["privaterequesting", "privatespying", "privatewatching", "grouprequesting", "groupwatching"];
        if (!b && -1 === d.indexOf(c) || !a.u.L.Yg) a.Uf.style.display = "none";
        else switch (c) {
            case "unknown":
            case "offline":
            case "notconnected":
            case "away":
            case "hidden":
            case "passwordprotected":
            case "privatenotwatching":
                a.Uf.style.display = "none";
                break;
            default:
                a.Uf.style.display = a.u.L instanceof rm && "default" === a.T ? "none" : "block"
        }
    }

    function gs(a) {
        a.D.style.display = a.gb ? "inline" : "none";
        a.Jg.style.display = "none";
        a.kg.style.display = "inline";
        a.df.innerText = kf;
        a.df.style.display = "inline";
        a.Qa.innerText = lf;
        a.td.style.display = "none";
        a.tf.style.display = "inline";
        a.Uf.style.display = "block";
        a.Fg && (a.Qa.style.display = "inline");
        switch (a.T) {
            case "default":
                a.D.style.display = "none";
                a.kg.style.display = "none";
                a.tf.style.display = "none";
                a.Uf.style.display = "none";
                a.df.style.display = "none";
                a.Qa.style.display = "none";
                break;
            case "theater":
                a.df.innerText = nf;
                a.df.id = "default-view";
                a.Jg.style.display = "inline";
                break;
            case "fullscreen":
                a.td.style.display = "inline";
                a.Jg.style.display = "inline";
                a.df.style.display = "none";
                a.Qa.innerText = mf;
                break;
            default:
                v("Unexpected VideoMode: " + a.T, {}, "VIDEO_")
        }
        a.wq && (a.D.style.display = "none", a.kg.style.display = "none", a.tf.style.display = "none", a.td.style.display = "none");
        a.Ud()
    }
    k = ds.prototype;
    k.nf = function () {
        var a = this.Oa.value;
        0 === a || this.state.na ? (this.Ea.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-mute.svg", this.Ea.id = "volume-mute") : 33 > a ? (this.Ea.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-low.svg", this.Ea.id = "volume-low") : 66 > a ? (this.Ea.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-medium.svg", this.Ea.id = "volume-medium") : (this.Ea.src = "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-high.svg", this.Ea.id = "volume-high")
    };

    function es(a) {
        a.u.L.Vg(a.state.volume, a.state.na)
    }
    k.xd = function () {
        y() && window.localStorage.setItem("videoControls", JSON.stringify({
            volume: this.state.volume,
            isMuted: this.state.na
        }))
    };
    k.update = function () {
        is(this);
        this.xd()
    };

    function is(a) {
        cl(a.Oa, a.state.na ? 0 : a.state.volume);
        es(a);
        a.nf()
    }
    k.Ph = function () {
        this.jg(!0);
        this.update()
    };
    k.ki = function () {
        this.jg(!1);
        0 === this.state.volume && (this.state.volume = 60);
        this.update()
    };
    k.toggle = function () {
        this.visible ? this.Ah() : this.Ud()
    };
    k.Ud = function () {
        var a = this;
        this.visible = !0;
        if (this.u.L instanceof rm || "default" !== this.T) pg(this.a, "100ms"), this.a.style.opacity = "1", clearTimeout(this.Nq), this.Nq = setTimeout(function () {
            a.Ah()
        }, this.yn ? 2E3 : 5E3)
    };
    k.Ah = function () {
        this.visible = !1;
        this.yn = !0;
        pg(this.a, "500ms");
        this.a.style.opacity = "0"
    };
    k.show = function () {
        this.a.style.visibility = "visible";
        this.Ud()
    };
    k.B = function () {
        this.a.style.visibility = "hidden"
    };
    k.gh = function (a) {
        this.state.volume = a;
        cl(this.Oa, this.state.na ? 0 : this.state.volume);
        this.nf()
    };
    k.jg = function (a) {
        this.state.na = a;
        cl(this.Oa, this.state.na ? 0 : this.state.volume);
        this.nf()
    };
    k.sm = function (a) {
        this.gh(a);
        this.xd()
    };
    k.li = function (a) {
        this.jg(a);
        this.xd()
    };
    k.Kb = function () {
        return 0
    };
    k.zn = function () {};
    k.Ro = function () {};

    function fs(a) {
        var b = document.createElement("span");
        b.innerText = a;
        b.style.color = "#ffffff";
        b.style.fontSize = "13px";
        b.style.padding = "5px";
        b.style.cssFloat = "right";
        b.style.marginRight = "4px";
        b.style.cursor = "pointer";
        return b
    };

    function js(a) {
        Lj.call(this);
        var b = this;
        this.u = a;
        this.Xf = new Map;
        this.a.style.visibility = "hidden";
        this.a.style.width = "auto";
        this.a.style.minWidth = "100px";
        this.a.style.height = "auto";
        this.a.style.backgroundColor = "black";
        this.a.style.position = "absolute";
        this.a.style.borderRadius = "2px";
        Ha() ? this.a.style.backgroundColor = "rgba(50, 50, 50, 0.7)" : this.a.style.backgroundColor = "#000000";
        this.a.onclick = function () {
            b.B()
        };
        q(this.u.L.Oc, function (a) {
            b.Xf.clear();
            b.clear();
            for (var c = l(a), e = c.next(); !e.done; e = c.next()) e = e.value, b.Xf.set(e.label, e.value), b.a.appendChild(b.Hk(e)), e.bh && (b.u.S.bb.innerText = e.label);
            b.u.S.bb.style.display = 0 === a.length ? "none" : ""
        });
        q(this.jc, function () {
            b.B()
        })
    }
    m(js, Lj);
    k = js.prototype;
    k.C = function () {
        this.a.style.left = this.u.L.a.offsetLeft + this.u.S.bb.offsetLeft + "px";
        this.a.style.bottom = "default" === this.u.T ? this.u.S.a.offsetHeight + "px" : "0"
    };
    k.Hk = function (a) {
        var b = this,
            c = document.createElement("div");
        c.innerText = a.label;
        c.style.color = "#ffffff";
        c.style.fontSize = "13px";
        c.style.padding = "5px";
        c.style.marginRight = "6px";
        c.style.cursor = "pointer";
        c.style.width = "100%";
        a.bh ? (c.style.backgroundColor = "#ffffff", c.style.color = "#333333") : (c.onclick = function () {
            O("clickMenuLink:QualitySelect-" + a.label);
            b.se(a.label);
            b.u.S.bb.innerText = a.label
        }, c.onmouseenter = function () {
            Ha() ? c.style.backgroundColor = "rgba(150, 150, 150, 0.3)" : c.style.backgroundColor = "#444444"
        }, c.onmouseleave = function () {
            c.style.backgroundColor = ""
        });
        return c
    };
    k.se = function (a) {
        a = this.Xf.get(a);
        void 0 === a ? v("Undefined quality level key", {}, "VIDEO_") : this.u.L.se(a)
    };
    k.clear = function () {
        for (; null !== this.a.firstChild;) this.a.removeChild(this.a.firstChild)
    };
    k.show = function () {
        this.Dc();
        this.a.style.visibility = "visible";
        this.C()
    };
    k.B = function () {
        this.gc();
        this.a.style.visibility = "hidden"
    };

    function ks(a, b) {
        Im.call(this, a, new Po(!1));
        var c = this;
        this.de = b;
        this.xc = !0;
        this.up = 80;
        this.a.style.position = "relative";
        this.a.style.backgroundColor = "#000000";
        this.a.style.minWidth = "500px";
        this.L.a.style.position = "relative";
        this.dc.style.position = "absolute";
        this.dc.style.width = "88px";
        this.dc.style.top = "6px";
        this.dc.style.right = "6px";
        this.dc.hidden = !0;
        this.L.a.appendChild(this.dc);
        this.Fb.Kg.style.visibility = "hidden";
        this.Fb.Mg = this.L.Yg;
        ya(this, this.Fb);
        this.mg = this.N(new js(this));
        this.S = this.N(new ds(this, this.mg));
        this.L.Qj(this.S);
        this.S.show();
        q(Mj, function (a) {
            c.T = a.Wa
        })
    }
    m(ks, Im);
    ks.prototype.gm = function () {
        this.L.a.style.position = "relative"
    };
    ks.prototype.C = function () {
        function a() {
            b.a.style.height = b.a.offsetWidth * (b.xc ? .5625 : .75) + b.L.Kb() + "px";
            b.L.a.style.height = "100%";
            b.L.a.style.width = "100%";
            b.L.a.style.left = "0";
            b.L.Ad();
            b.dc.hidden = S.bm ? !0 : b.L instanceof mm ? !1 : !0
        }
        var b = this;
        switch (this.T) {
            case "default":
                a();
                break;
            case "theater":
                a();
                if (!U()) {
                    this.dc.hidden = S.bm ? !0 : !1;
                    var c = l(Yr(this)),
                        d = c.next().value;
                    c = c.next().value;
                    this.a.style.height = c + "px";
                    this.L.a.style.width = d + "px";
                    this.L.a.style.height = c + "px";
                    this.L.Vd()
                }
                break;
            case "fullscreen":
                this.L.Vd();
                break;
            default:
                v("Unexpected VideoMode: " + this.T)
        }
    };

    function ls(a, b) {
        a.xc = b;
        a.L instanceof mm && (a.L.hl = b);
        x(a)
    }

    function Yr(a) {
        var b = a.H.a.clientWidth - 2 * a.H.bg,
            c = document.documentElement.clientHeight - a.up;
        430 >= c ? (c = 430, b = c / (a.xc ? .5625 : .75)) : (c = l(Nm(b, c - a.de.offsetHeight, a.xc)), b = c.next().value, c = c.next().value, 430 >= c && (c = 430, b = c / (a.xc ? .5625 : .75)));
        return [b, c]
    };

    function ms(a, b, c, d) {
        Lj.call(this);
        var e = this;
        this.mm = a;
        this.u = b;
        this.xb = c;
        this.fr = d;
        this.dg = "public";
        this.Me = !1;
        this.ff = new n("tipSent");
        this.me = !1;
        this.a.style.display = "none";
        this.a.style.position = "absolute";
        this.a.style.width = "400px";
        this.a.style.height = "218px";
        this.a.style.top = "0";
        this.a.style.backgroundColor = "#ffffff";
        this.a.style.border = "2px solid #0b5d81";
        this.a.style.borderRadius = "4px";
        this.a.style.fontFamily = "UbuntuRegular, Helvetica, Arial, sans-serif";
        this.a.style.fontSize = "12px";
        this.a.style.color = S.Fa;
        this.a.style.overflow = "";
        z("keydown", this.a, function (a) {
            27 === a.keyCode && e.B();
            9 === a.keyCode && (a.shiftKey ? document.activeElement === e.D ? e.ea.focus() : document.activeElement === e.ea ? e.Z.focus() : e.D.focus() : document.activeElement === e.D ? e.Z.focus() : document.activeElement === e.Z ? e.ea.focus() : e.D.focus(), a.preventDefault())
        });
        this.wk = xl("74px");
        this.a.appendChild(this.wk);
        this.ll = yl();
        this.a.appendChild(this.ll);
        this.P.style.bottom = "";
        a = document.createElement("div");
        a.innerText = jc;
        a.style.color = "#0b5d81";
        a.style.backgroundColor = "#e0e0e0";
        a.style.fontSize = "15px";
        a.style.fontFamily = "UbuntuBold, Helvetica, Arial, sans-serif";
        a.style.padding = "6px";
        this.a.appendChild(a);
        a = document.createElement("div");
        a.style.display = "inline-block";
        a.style.width = "100%";
        b = document.createElement("span");
        b.innerText = Nd;
        b.style.fontWeight = "bold";
        b.style.display = "inline-block";
        b.style.padding = "6px";
        a.appendChild(b);
        this.Hb = document.createElement("span");
        this.Hb.style.display = "inline-block";
        this.Hb.style.color = "green";
        this.Hb.style.fontWeight = "bold";
        this.Hb.style.padding = "6px 6px 6px 0";
        a.appendChild(this.Hb);
        b = document.createElement("a");
        b.innerText = mc;
        b.href = "/tipping/purchase_tokens/";
        b.style.display = "inline-block";
        b.style.color = "#d55215";
        b.style.fontSize = "11px";
        b.style.marginLeft = "12px";
        b.style.cssFloat = "right";
        b.style.padding = "6px";
        b.style.textDecoration = "underline";
        b.onclick = function () {
            Eg("/tipping/purchase_tokens/", "_blank", "height=615, width=850");
            return !1
        };
        a.appendChild(b);
        this.a.appendChild(a);
        this.nm = a;
        this.La = document.createElement("div");
        this.La.style.display = "none";
        this.La.style.color = "#ff0000";
        this.La.style.fontWeight = "bold";
        this.La.style.padding = "6px";
        this.La.style.textAlign = "center";
        this.La.style.position = "absolute";
        this.La.style.left = "50%";
        a = document.createElement("div");
        a.innerText = Pd;
        this.La.appendChild(a);
        a = document.createElement("div");
        a.innerText = Qd;
        this.La.appendChild(a);
        this.a.appendChild(this.La);
        this.Wc = document.createElement("form");
        a = document.createElement("label");
        b = document.createElement("span");
        b.innerText = Rd;
        b.style.display = "inline-block";
        b.style.padding = "6px";
        a.appendChild(b);
        this.Z = pi();
        this.Z.value = "25";
        this.Z.min = "1";
        this.Z.style.width = "5em";
        this.Z.style.display = "inline-block";
        this.Z.style.padding = "4px";
        this.Z.style.border = "1px solid #b4b4b4";
        this.Z.style.borderRadius = "4px";
        this.Z.style.marginTop = "12px";
        this.Z.onclick = function () {
            ti(e)
        };
        a.appendChild(this.Z);
        this.Wc.appendChild(a);
        this.pc = document.createElement("div");
        this.pc.innerText = gc;
        this.pc.style.padding = "6px 6px 0 6px";
        this.Wc.appendChild(this.pc);
        this.Ec = document.createElement("div");
        this.ea = document.createElement("textarea");
        this.ea.maxLength = 255;
        this.ea.style.width = "100%";
        this.ea.style.height = "40px";
        this.ea.style.resize = "none";
        this.ea.style.margin = "6px";
        this.ea.style.padding = "4px";
        this.ea.style.border = "1px solid #4b4c4b";
        this.ea.style.borderRadius = "4px";
        this.ea.style.boxSizing = "border-box";
        this.Ec.appendChild(this.ea);
        this.Wc.appendChild(this.Ec);
        this.pc.onclick = function () {
            e.ea.select()
        };
        this.vc = document.createElement("div");
        this.vc.innerText = Sd;
        this.vc.style.color = "red";
        this.vc.style.display = "none";
        this.vc.style.paddingLeft = "5px";
        a.appendChild(this.vc);
        a = document.createElement("div");
        this.Z.oninput = function () {
            ui(e)
        };
        a.style.textAlign = "right";
        a.style.position = "relative";
        this.cb = document.createElement("div");
        this.cb.innerText = Td;
        this.cb.style.position = "absolute";
        this.cb.style.display = "none";
        this.cb.style.fontSize = "10px";
        this.cb.style.lineHeight = "1.3em";
        this.cb.style.padding = "6px";
        this.cb.style.textAlign = "left";
        this.cb.style.top = "6px";
        this.cb.style.left = "0px";
        a.appendChild(this.cb);
        this.D = document.createElement("button");
        this.D.innerText = kc;
        this.D.setAttribute("type", "submit");
        this.D.style.display = "inline-block";
        this.D.style.fontSize = "14px";
        this.D.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.D.style.margin = "6px";
        this.D.style.padding = "6px 18px";
        this.D.style.color = "#ffffff";
        this.D.style.backgroundColor = "#f47321";
        this.D.style.border = "1px solid #b1b1b1";
        this.D.style.borderRadius = "4px";
        this.D.style.cursor = "pointer";
        this.D.onmouseenter = function () {
            e.D.style.textDecoration = "underline"
        };
        this.D.onmouseleave = function () {
            e.D.style.textDecoration = "none"
        };
        b = document.createElement("span");
        b.style.display = "inline-block";
        b.style.fontSize = "0";
        b.style.marginLeft = "6px";
        b.style.position = "relative";
        b.style.top = "1px";
        b.style.borderBottom = "6px solid transparent";
        b.style.borderTop = "6px solid transparent";
        b.style.borderLeft = "6px solid #ffffff";
        this.D.appendChild(b);
        a.appendChild(this.D);
        this.Wc.appendChild(a);
        this.a.appendChild(this.Wc);
        q(T, function (a) {
            void 0 !== a.h.$i ? e.$i = a.h.$i : v("hasLowSatisfactionScore is not defined.");
            void 0 !== a.h.gb ? e.gb = a.h.gb : v("isAgeVerified is not defined.");
            e.da = a.j.i();
            q(a.j.event.ib, function (a) {
                switch (a.ya) {
                    case "privatewatching":
                    case "groupwatching":
                        e.dg = "private";
                        break;
                    default:
                        e.dg = "public"
                }
            })
        });
        q(li, function (a) {
            e.um(a.qc)
        });
        this.C();
        z("submit", this.Wc, function (a) {
            a.preventDefault();
            var b = parseInt(e.Z.value);
            !e.me || isNaN(b) || e.D.disabled || (O("SendTipClicked", {
                amount: b
            }), 100 < b && !e.Me ? (e.D.innerText = zb(b), e.Me = !0, e.C()) : (e.Z.blur(), oi({
                da: e.da,
                hp: e.Z.value,
                message: "" + (void 0 !== e.sa ? e.sa.value : e.ea.value),
                source: e.mm,
                ip: e.dg
            }).then(function (a) {
                a.Cd ? O("SendTipSuccess", {
                    amount: b
                }) : void 0 !== a.error ? V(a.error) : v("unknown send tip error");
                e.Kj();
                e.ea.value = "";
                void 0 !== a.Gc && t(ki, a.Gc);
                t(e.ff, {
                    Ja: b,
                    Cd: a.Cd
                })
            })["catch"](function (a) {
                v("Error sending tip. status: " + a);
                t(e.ff, {
                    Ja: b,
                    Cd: !1
                })
            }), e.B()))
        });
        q(this.jc, function () {
            e.B()
        })
    }
    m(ms, Lj);
    k = ms.prototype;
    k.C = function () {
        this.Ec.style.width = Math.max(0, this.a.clientWidth - 12) + "px";
        this.cb.style.maxWidth = Math.max(0, this.a.offsetWidth - this.D.offsetWidth - 15) + "px";
        if ("fixed" === this.xb.style.position) {
            var a = this.fr.getBoundingClientRect();
            this.a.style.top = a.top + Va().scrollTop - 30 + "px";
            this.a.style.left = a.left + a.width + 12 + "px";
            this.wk.style.display = "none";
            this.ll.style.display = "block"
        } else this.a.style.top = this.u.a.getBoundingClientRect().bottom - this.a.offsetHeight + 21 + Va().scrollTop + "px", this.a.style.left = "400px", this.wk.style.display = "block", this.ll.style.display = "none";
        this.P.style.height = document.documentElement.offsetHeight + "px"
    };
    k.Kj = function () {
        this.D.innerText = kc;
        this.Me = !1
    };
    k.show = function (a) {
        var b = this;
        this.gb ? Ih('You must be logged in to tip. Click "OK" to login.') || (void 0 !== a.Ja && (this.Z.value = a.Ja.toString(), ui(this)), this.ea.value = void 0 !== a.message ? a.message : "", this.La.style.display = this.$i ? "block" : "none", this.cb.style.display = void 0 !== a.mi && a.mi ? "none" : "block", this.Hb.innerText = nd + "...", mi(this.da).then(function (a) {
            b.Z.max = a.Va.toString();
            if (void 0 !== a.ah) {
                b.pc.innerText = a.ah.label;
                void 0 !== b.sa && b.Ec.removeChild(b.sa);
                b.sa = document.createElement("select");
                b.sa.style.width = "100%";
                b.sa.style.fontSize = ".8125em";
                b.sa.style.margin = "6px";
                b.sa.style.border = "1px solid #4b4c4b";
                b.sa.style.boxSizing = "border-box";
                b.Ec.appendChild(b.sa);
                var c = document.createElement("option");
                c.innerText = "-- " + Vd + " --";
                b.sa.appendChild(c);
                a = l(a.ah.options);
                for (c = a.next(); !c.done; c = a.next()) {
                    var e = c.value;
                    c = document.createElement("option");
                    c.innerText = e.label;
                    c.value = e.label;
                    b.sa.appendChild(c)
                }
                b.ea.style.display = "none"
            } else void 0 !== b.sa && (b.pc.innerText = gc, b.ea.value = "", b.ea.style.display = "block", b.Ec.removeChild(b.sa), b.sa = void 0);
            b.a.style.display = "block";
            b.Dc();
            b.C();
            ti(b);
            b.me = !0
        })["catch"](function (a) {
            v("Error getting token balance. status: " + a);
            b.Hb.innerText = of
        })) : V("This broadcaster doesn't accept tips.")
    };
    k.B = function () {
        this.a.style.display = "none";
        this.Z.blur();
        this.gc();
        this.me = !1
    };
    k.um = function (a) {
        this.Hb.innerText = a + " " + vb(a)
    };
    k.sn = function () {
        if (null === this.a.parentElement) {
            this.a.style.visibility = "hidden";
            document.body.appendChild(this.a);
            this.a.style.width = this.nm.offsetWidth + "px";
            this.a.style.minWidth = "345px";
            this.a.style.height = "auto";
            var a = [this.a.offsetWidth, this.a.offsetHeight];
            document.body.removeChild(this.a);
            this.a.style.visibility = "visible";
            return a
        }
        v("called getContentSize when window is already attached");
        return [this.a.offsetWidth, this.a.offsetHeight]
    };

    function ns(a) {
        Ko.call(this, a);
        var b = this;
        this.Hi = a;
        q(Mj, function () {
            b.oa()
        });
        q(mg, function () {
            b.oa()
        })
    }
    m(ns, Ko);
    var os, ps, qs;

    function rs(a, b) {
        function c(a) {
            return 27 === a.keyCode || a.ctrlKey || a.metaKey ? !1 : Cl() || -1 !== g.indexOf(a.keyCode) ? !0 : !e() && d()
        }

        function d() {
            return void 0 !== document.activeElement && null !== document.activeElement && 0 <= ["input", "textarea", "select", "button"].indexOf(document.activeElement.tagName.toLowerCase()) && !Cl()
        }

        function e() {
            return a.X.ia.Ya().Ne() || b.Ya().Ne()
        }

        function f() {
            "default" === os ? b.Ya().Wb() : a.X.ia.Ya().Wb()
        }
        q(Mj, function (a) {
            os = a.Wa;
            ps = void 0
        });
        var h = new Ah;
        Bh(h, {
            keyCode: 9,
            $f: !1,
            handle: function (c) {
                !e() && d() && a.Jb !== a.ac || Cl() || Cl() || (lh(a, a.X), c.shiftKey ? (vl(b), vl(a.X.ia)) : (b.Mk(), a.X.ia.Mk()), f(), c.preventDefault(), c.stopPropagation())
            }
        });
        Bh(h, {
            keyCode: 13,
            $f: !1,
            handle: function (b) {
                e() ? Ih() ? b.preventDefault() : Va().scrollTop === qs && void 0 !== ps && (Va().scrollTop = ps, ps = void 0) : (lh(a, a.X), f())
            }
        });
        Bh(h, {
            keyCode: 27,
            $f: !1,
            handle: function (c) {
                Cl() ? (void 0 !== Bl && void 0 !== Bl.hide_login_box && Bl.hide_login_box(), lh(a, void 0), ps = void 0) : (c.stopPropagation(), c.preventDefault(), void 0 !== a.Jb && a.Jb.Op && a.removeChild(a.Jb), lh(a, void 0), Va().scrollTop === qs && void 0 !== ps && (b.Ya().Id(), Va().scrollTop = ps, ps = void 0))
            }
        });
        Bh(h, {
            keyCode: 76,
            $f: !0,
            handle: function (c) {
                if ("default" === os || a.Jb === a.X)
                    if ("default" !== os || "block" === b.ua.a.style.display) c.stopPropagation(), c.preventDefault(), a.X.ia.uf(), b.uf()
            }
        });
        Bh(h, {
            keyCode: 83,
            $f: !0,
            handle: function (b) {
                b.stopPropagation();
                b.preventDefault();
                "default" === os || "hidden" === a.a.style.visibility ? t(jg, {
                    mi: !0
                }) : t(dg, {
                    mi: !0
                })
            }
        });
        var g = [32, 34, 33];
        z("keydown", document, function (b) {
            c(b) || void 0 !== a.Jb && qh(a.Jb, b) || Ch(h, b) || b.ctrlKey || b.metaKey || !Xo(b.which) || (ps = Va().scrollTop, lh(a, a.X), f(), setTimeout(function () {
                qs = Va().scrollTop
            }, 0))
        })
    };

    function ss() {
        w.call(this);
        var a = this;
        this.bl = !1;
        this.Un = new n("messageRemoved");
        this.a.style.display = "none";
        this.a.style.position = "static";
        q(T, function (b) {
            a.ep = "tfa-msg-" + b.h.userName;
            !b.j.yb && !a.bl && 0 < b.h.Va && !b.h.zr && "1" !== db(a.ep) && (a.Sp = "tfa", a.Ol(hf))
        })
    }
    m(ss, w);
    ss.prototype.Ol = function (a) {
        var b = this;
        this.a.style.display = "block";
        this.a.style.height = "auto";
        this.a.style.position = "static";
        this.a.style.padding = "5px 0px";
        this.a.style.textAlign = "center";
        this.a.style.boxSizing = "border-box";
        this.a.style.fontSize = "14px";
        this.a.style.fontWeight = "400";
        this.a.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.a.style.color = S.Nk;
        var c = document.createElement("div");
        c.style.padding = "15px";
        c.style.backgroundColor = "#ffffd3";
        c.style.border = "1px solid #ccc";
        var d = document.createElement("div");
        d.innerHTML = a;
        this.th = document.createElement("a");
        this.th.style.color = S.Lc;
        this.th.textContent = je;
        this.th.style.cursor = "pointer";
        a = document.createElement("span");
        a.textContent = " (";
        var e = document.createElement("span");
        e.textContent = ")";
        d.appendChild(a);
        d.appendChild(this.th);
        d.appendChild(e);
        c.appendChild(d);
        this.a.appendChild(c);
        a = {};
        d = l(d.getElementsByTagName("a"));
        for (e = d.next(); !e.done; a = {
                link: a.link
            }, e = d.next()) a.link = e.value, a.link.style.color = S.Lc, a.link.onmouseenter = function (a) {
            return function () {
                a.link.style.textDecoration = "underline"
            }
        }(a), a.link.onmouseleave = function (a) {
            return function () {
                a.link.style.textDecoration = ""
            }
        }(a);
        z("click", this.th, function () {
            b.a.style.display = "none";
            b.a.removeChild(c);
            b.bl = !1;
            "tfa" === b.Sp && eb(b.ep, "1", 10);
            t(b.Un, void 0)
        });
        this.bl = !0
    };

    function ts() {
        w.call(this);
        var a = this;
        this.a.style.display = "none";
        this.a.style.position = "static";
        this.a.style.margin = "21px 36px";
        this.a.style.color = S.Fa;
        this.a.style.fontSize = "12.006px";
        var b = document.createElement("div");
        b.innerText = Ae;
        b.style.fontFamily = "'UbuntuRegular', Arial, Helvetica, sans-serif";
        b.style.fontWeight = "700";
        this.a.appendChild(b);
        b = document.createElement("form");
        b.onsubmit = function (b) {
            b.preventDefault();
            a.submit()
        };
        var c = document.createElement("label");
        c.innerText = ne + ": *";
        c.setAttribute("for", "room_password");
        c.style.display = "inline-block";
        c.style.fontFamily = "'UbuntuMedium', Arial, Helvetica, sans-serif";
        c.style.fontWeight = "400";
        c.style.margin = "21px 8px 22px 62px";
        b.appendChild(c);
        this.input = document.createElement("input");
        this.input.type = "text";
        this.input.id = "room_password";
        this.input.style.border = "1px solid #b1b1b1";
        this.input.style.borderRadius = "4px";
        this.input.style.padding = "2px 4px";
        this.input.style.lineHeight = "18px";
        this.input.style.width = "225px";
        this.input.style.height = "20px";
        this.input.style.fontFamily = "Arial, Helvetica, sans-serif";
        b.appendChild(this.input);
        var d = document.createElement("button");
        d.innerText = Be;
        d.setAttribute("type", "submit");
        d.style.display = "block";
        d.style.fontSize = "14px";
        d.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        d.style.margin = "0px 135px";
        d.style.padding = "5px 17px";
        d.style.color = "#ffffff";
        d.style.backgroundColor = "#f47321";
        d.style.border = "1px solid #b1b1b1";
        d.style.borderRadius = "4px";
        d.style.cursor = "pointer";
        d.onclick = function (b) {
            b.preventDefault();
            a.submit()
        };
        d.onmouseenter = function () {
            d.style.textDecoration = "underline"
        };
        d.onmouseleave = function () {
            d.style.textDecoration = "none"
        };
        c = document.createElement("span");
        c.style.display = "inline-block";
        c.style.fontSize = "0";
        c.style.marginLeft = "6px";
        c.style.position = "relative";
        c.style.top = "1px";
        c.style.borderBottom = "6px solid transparent";
        c.style.borderTop = "6px solid transparent";
        c.style.borderLeft = "6px solid #ffffff";
        d.appendChild(c);
        b.appendChild(d);
        this.a.appendChild(b)
    }
    m(ts, w);
    ts.prototype.submit = function () {
        var a = this;
        Ih() || B("roomlogin/" + this.i + "/", {
            password: this.input.value
        }).then(function (b) {
            b = new D(b.responseText);
            var c = H(b, "result");
            b.tc("errors");
            b.tc("html");
            M(b);
            "error" === c ? V("Incorrect password") : (t(eg, a.i), a.B());
            a.input.value = ""
        })["catch"](function (a) {
            v("Unable to login to room " + a.responseText);
            window.location.reload()
        })
    };
    ts.prototype.show = function (a) {
        this.i = a;
        this.a.style.display = "block"
    };
    ts.prototype.B = function () {
        this.a.style.display = "none"
    };

    function us() {
        w.call(this);
        var a = this;
        this.a.style.fontSize = "12px";
        this.a.style.position = "relative";
        this.a.style.height = "auto";
        var b = document.createElement("div");
        b.style.display = "none";
        b.style.width = "auto";
        b.style.height = "auto";
        b.style.backgroundColor = "#FFFFD3";
        b.style.border = "1px solid #CCCCCC";
        b.style.borderRadius = "4px";
        b.style.padding = "2em";
        b.style.margin = "20px 32px";
        b.style.fontSize = "2em";
        b.style.lineHeight = "3em";
        b.style.textDecoration = "none";
        b.style.position = "relative";
        b.style.color = S.Fa;
        this.a.appendChild(b);
        var c = document.createElement("span");
        c.innerText = "\u00d7";
        c.style.position = "absolute";
        c.style.right = "0.5em";
        c.style.top = "0";
        c.style.fontSize = "2em";
        c.style.Er = "none";
        c.style.webkitUserSelect = "none";
        b.appendChild(c);
        c.onclick = function () {
            eb("mobile_redirect_hide", "true", .75);
            a.a.style.display = "none"
        };
        c = document.createElement("div");
        var d = document.createElement("span");
        d.textContent = oe;
        c.appendChild(d);
        d = document.createElement("div");
        var e = document.createElement("ul");
        e.style.listStyleType = "disc";
        var f = document.createElement("li");
        f.textContent = dc;
        f.style.lineHeight = "1.1em";
        e.appendChild(f);
        d.appendChild(f);
        f = document.createElement("li");
        f.textContent = pe;
        f.style.lineHeight = "1.1em";
        e.appendChild(f);
        d.appendChild(f);
        f = document.createElement("li");
        f.textContent = sf;
        f.style.lineHeight = "1.1em";
        e.appendChild(f);
        d.appendChild(f);
        e = document.createElement("div");
        f = document.createElement("span");
        f.textContent = qe;
        var h = document.createElement("a");
        h.style.color = "#0a5a83";
        h.textContent = re;
        h.onclick = function () {
            O("MobileAlertLinkClicked")
        };
        var g = document.createElement("span");
        g.textContent = te;
        var p = document.createElement("a");
        p.textContent = se;
        p.style.color = "#0a5a83";
        p.href = "https://www.surveymonkey.com/r/CM5YXYL";
        p.onclick = function () {
            O("MobileAlertSurveyClicked")
        };
        var u = document.createElement("span");
        u.textContent = ".";
        e.appendChild(f);
        e.appendChild(h);
        e.appendChild(g);
        e.appendChild(p);
        e.appendChild(u);
        b.appendChild(c);
        b.appendChild(d);
        b.appendChild(e);
        q(T, function (a) {
            a.h.sr && (h.href = "https://m.chaturbate.com/mobile/?b=" + a.h.i + "&source=desktop", b.style.display = "block")
        })
    }
    m(us, w);

    function vs(a, b) {
        w.call(this);
        var c = this;
        this.Eq = a;
        this.Tc = [];
        this.$h = 15E3;
        this.Sg = this.If = !1;
        this.u = b;
        this.a.style.height = "";
        this.a.style.width = "";
        this.a.style.position = "relative";
        this.a.style.cssFloat = "right";
        this.a.style.overflow = "visible";
        this.a.style.fontFamily = "UbuntuMedium, Helvetica, Arial, sans-serif";
        this.rb = (new yp).anchor;
        this.rb.href = "#";
        this.rb.style.display = "inline-block";
        this.rb.style.padding = "6px 3px 6px 5px";
        this.rb.style.textDecoration = "none";
        this.rb.style.fontSize = "10.008px";
        this.rb.style.position = "relative";
        this.rb.style.right = "5px";
        this.rb.style.color = S.jb;
        this.rb.style.backgroundColor = "transparent";
        this.rb.onmouseenter = function () {
            c.rb.style.textDecoration = "underline"
        };
        this.rb.onmouseleave = function () {
            c.rb.style.textDecoration = "none"
        };
        this.rb.onclick = function (a) {
            a.preventDefault();
            a.stopPropagation();
            c.If || (a = bb(), a.next_in = (c.$h / 1E3).toString(), a = ab(a), window.history.replaceState(c.Fe.i, c.Fe.ab, "./?" + a), ws(c));
            xs(c)
        };
        this.Rg = document.createElement("span");
        this.Rg.innerText = Ye;
        this.rb.appendChild(this.Rg);
        this.Ta = (new yp).anchor;
        this.Ta.href = "#";
        this.Ta.style.display = "inline-block";
        this.Ta.style.padding = "6px 3px 6px 5px";
        this.Ta.innerText = Ze + " (CTRL-/)";
        this.Ta.style.textDecoration = "none";
        this.Ta.style.fontSize = "10.008px";
        this.Ta.style.position = "relative";
        this.Ta.style.backgroundColor = S.Zn;
        this.Ta.style.border = "1px solid " + S.Yc;
        this.Ta.style.borderRadius = "4px 4px 0 0";
        this.Ta.style.color = S.jb;
        this.Ta.onmouseenter = function () {
            c.Ta.style.textDecoration = "underline"
        };
        this.Ta.onmouseleave = function () {
            c.Ta.style.textDecoration = "none"
        };
        this.Ta.onclick = function (a) {
            a.preventDefault();
            c.If ? ys(c) : xs(c)
        };
        this.a.appendChild(this.rb);
        this.a.appendChild(this.Ta);
        z("keydown", document, function (a) {
            "Control" !== a.key && "Meta" !== a.key && "OS" !== a.key && ("/" !== a.key && 191 !== a.which || !a.ctrlKey && !a.metaKey ? c.If && !c.Sg && ys(c) : (a.preventDefault(), xs(c)))
        }, !0);
        q(T, function (a) {
            c.Ta.href = "/next/" + a.h.i + "/";
            c.rb.href = "/next/" + a.h.i + "/?next_in=15";
            a.h.Xh !== c.rn && (c.rn = a.h.Xh, c.Ye = new sh([zh(c.rn)], 1));
            c.Tc.push(a.h.i);
            c.Fe = a.h;
            a = bb();
            "next_in" in a && (a = parseInt(a.next_in), isFinite(a) && !isNaN(a) && (1 <= a && (c.$h = 1E3 * a), zs(c), As(c), c.If = !0))
        });
        z("mousedown", document, function (a) {
            var b;
            if (!(b = c.Sg)) {
                a: {
                    b = a.target;
                    if (c.u.L instanceof Hm)
                        for (var d = l(c.u.a.getElementsByClassName("vjs-volume-panel")), h = d.next(); !h.done; h = d.next()) {
                            h = h.value;
                            if (b === h) {
                                b = !0;
                                break a
                            }
                            h = l(h.getElementsByTagNameNS("*", "*"));
                            for (var g = h.next(); !g.done; g = h.next())
                                if (b === g.value) {
                                    b = !0;
                                    break a
                                }
                        }
                    b = !1
                }
                if (!(b = b || (c.u.L instanceof Fm ? a.target === c.u.L.M : !1))) a: {
                    b = a.target;d = l(c.u.S.Oa.a.children);
                    for (h = d.next(); !h.done; h = d.next())
                        if (b === h.value) {
                            b = !0;
                            break a
                        } b = b === c.u.S.Ea || b === c.u.S.Oa.a || b === c.u.S.Oa.handle
                }
                b || (b = a.target, b = b === c.rb || b === c.Rg);
                if (!b) a: if (b = a.target, c.u.L instanceof mm && c.u.L.mb instanceof $l) {
                    d = l(c.u.L.mb.Oa.a.children);
                    for (h = d.next(); !h.done; h = d.next())
                        if (b === h.value) {
                            b = !0;
                            break a
                        } b = b === c.u.L.mb.Ea
                } else b = !1
            }
            b || c.If && a.target !== c.Ta && ys(c)
        }, !1)
    }
    m(vs, w);

    function ws(a) {
        a.sq = setTimeout(function () {
            a.Sg = !0;
            clearInterval(a.Vm);
            Bs(a)
        }, 108E5)
    }

    function Bs(a) {
        Fh("Are you still watching?", function () {
            ws(a);
            As(a);
            a.Sg = !1
        }, function () {
            ys(a);
            a.bf = a.$h
        })
    }

    function As(a) {
        a.bf = a.Sg ? a.bf : a.$h;
        a.Vm = window.setInterval(function () {
            a.bf -= 1E3;
            0 >= a.bf / 1E3 && (a.bf = a.$h, xs(a));
            a.Rg.innerText = $e + " (" + a.bf / 1E3 + "s)"
        }, 1E3);
        a.Rg.innerText = $e + " (" + a.bf / 1E3 + "s)";
        a.Ta.innerText = af + " (any key)"
    }

    function zs(a) {
        clearInterval(a.Vm);
        a.Rg.innerText = Ye;
        a.Ta.innerText = Ze + " (CTRL-/)"
    }

    function xs(a) {
        function b(b) {
            a.Xm = b[0];
            O("LoadRoomFromRoomList", {
                username: a.Xm.username
            });
            t(eg, a.Xm.username)
        }
        "key" in a.Ye.rd ? a.Ye.next().then(function (a) {
            b(a)
        })["catch"](function (b) {
            "Session Not Found" === b.trim() ? (delete a.Ye.rd.key, xs(a)) : v("Error calling roomIterator.next: " + b)
        }) : a.Ye.start(a.Tc).then(function (a) {
            b(a)
        })["catch"](function (a) {
            v("Error calling roomIterator.start: " + a)
        })
    }

    function ys(a) {
        if (a.If) {
            clearTimeout(a.sq);
            zs(a);
            a.If = !1;
            a.Sg = !1;
            var b = bb();
            delete b.next_in;
            b = ab(b);
            var c = "";
            "" !== b && (c = "?" + b);
            window.history.replaceState(a.Fe.i, a.Fe.ab, "./" + c)
        } else v("Attempted to stop cam scanning when cams were not scanning")
    }
    vs.prototype.C = function () {
        var a = this.Eq.getBoundingClientRect(),
            b = this.a.getBoundingClientRect(),
            c = 0;
        null !== this.a.style.top && 2 <= this.a.style.top.length && (c = parseInt(this.a.style.top.split("px")[0]));
        b = b.bottom - c;
        this.a.style.top = Math.round(a.bottom < b ? a.bottom - b : b - a.bottom) + "px"
    };

    function Cs(a, b) {
        var c = this;
        this.J = a;
        this.Cb = b;
        this.lj = !1;
        this.Hn = !0;
        this.T = "default";
        setTimeout(function () {
            c.Hn = !1;
            Ds(c)
        }, 5E3);
        this.Cb.a.onmouseenter = function () {
            Es(c)
        };
        q(this.J.Qk, function (a) {
            a !== c.J.X ? Ds(c) : Es(c)
        });
        q(this.J.Bm, function (a) {
            a === c.J.X ? Es(c) : Ds(c)
        });
        q(zl, function () {
            Es(c)
        });
        q(mg, function () {
            Ds(c)
        });
        q(Mj, function (a) {
            c.T = a.Wa;
            Ds(c)
        })
    }

    function Ds(a) {
        "theater" !== a.T && "fullscreen" !== a.T || a.Hn || (a.lj ? a.J.X.ia.Ya() !== a.J.X.ia.ba || a.J.Jb === a.J.X || a.J.fj === a.J.X || kk(a.J.X.ia.ba.w) || (a.Cb.a.style.display = "block", a.lj = !1, Ui(a.J.X.ia, a.J.X.ia.ba), a.J.X.ia.ba.w.Ma.scrollLeft = 0, a.J.X.ia.fl = !0, a.J.X.B(), ph(a.J.X), a.Cb.clear(), mk(a.J.X.ia.ba.w), setTimeout(function () {
            a.Cb.oa()
        }, 0)) : a.Cb.a.style.display = "block")
    }

    function Es(a) {
        a.lj || (a.lj = !0, a.J.X.ia.fl = !1, a.J.X.show(), nh(a.J.X), a.Cb.a.style.display = "none", a.J.X.ia.ba.w.oa())
    };

    function Fs(a) {
        if (void 0 !== window.history && void 0 !== window.history.pushState)
            if ("theatermode" === window.location.pathname.replace(/\//g, "")) {
                var b = bb();
                b.b = a.i;
                b.from_tube !== a.i && delete b.from_tube;
                Gs && delete b.join_overlay;
                b = ab(b);
                Gs ? window.history.pushState(a.i, a.ab, "./?" + b) : window.history.replaceState(a.i, a.ab, "./?" + b)
            } else {
                b = bb();
                b.from_tube !== a.i && delete b.from_tube;
                Gs && delete b.join_overlay;
                b = ab(b);
                var c = "";
                "" !== b && (c = "?" + b);
                Gs ? window.history.pushState(a.i, a.ab, "/" + a.i + "/" + c) : window.history.replaceState(a.i, a.ab, "/" + a.i + "/" + c)
            }
    }
    var Gs = !1;

    function Hs(a, b) {
        function c() {
            Gs && ("default" === d.T ? d.H.ia.ba.w.oa() : "theater" === d.T && d.Cb.oa(), setTimeout(function () {
                var a = d.u.a.getBoundingClientRect();
                if (d.H.xb.getBoundingClientRect().bottom > document.documentElement.clientHeight || a.bottom < .6 * a.height) Va().scrollTop = d.de.a.offsetTop + d.To.a.offsetHeight;
                x(d)
            }, 0))
        }
        w.call(this);
        var d = this;
        this.T = "default";
        this.sg = new So;
        this.Tg = new lp;
        this.Ca = new wa;
        var e = document.getElementById("main");
        S.gl && (e.style.backgroundColor = S.Li);
        e.style.color = S.Ed;
        e.style.font = "1em 'UbuntuRegular',Arial,Helvetica,sans-serif";
        e.appendChild(this.a);
        var f = new qp;
        e.appendChild(f.a);
        q(f.qk, function () {
            e.removeChild(f.a)
        });
        this.a.style.position = "static";
        this.a.style.minWidth = "1000px";
        this.a.style.boxSizing = "border-box";
        this.a.focus();
        var h = new Zr;
        this.J = new Vl("theater", this.Tg);
        this.J.a.style.left = "0";
        this.J.X.a.style.zIndex = "";
        this.J.a.style.position = "fixed";
        this.J.a.style.width = "100%";
        this.Cb = new ns(this.J.X.ia.ba.w);
        new Cs(this.J, this.Cb);
        this.To = this.N(new ss);
        q(this.To.Un, function () {
            d.C()
        });
        this.de = this.N(new Sp(a));
        this.N(new us);
        this.u = new ks(b, this.de.a);
        this.J.a.onclick = function () {
            d.u.S.toggle();
            d.J.Jb === d.J.X && d.J.fj !== d.J.X && lh(d.J, void 0)
        };
        this.de.N(new vs(this.de.a, this.u));
        this.Zd = this.N(new bs(h));
        this.Zd.a.style.cssFloat = "right";
        this.H = this.N(new Wr(this.u, this.J, this.Cb));
        this.u.H = this.H;
        this.u.S.pn = this.H.Na.a;
        this.H.Na.N(this.Cb);
        this.J.a.style.visibility = "hidden";
        this.H.xb.style.position = "fixed";
        this.H.xb.style.top = "999999px";
        this.Cl = this.N(new ts);
        this.ti = this.N(new cs(h));
        this.N(new rj);
        var g;
        q(qj, function (a) {
            void 0 === g && (g = new rj);
            g.show(a)
        });
        var p;
        q(rp, function (a) {
            void 0 === p && (p = new up);
            p.show(a)
        });
        q(kg, function () {
            void 0 !== Bl && void 0 !== Bl.show_login_box && Bl.show_login_box()
        });
        Hh = function () {
            t(kg, void 0)
        };
        rs(this.J, this.H.ia);
        var u = this.N(new ms("theater", this.u, this.H.xb, this.H.Na.D));
        q(jg, function (a) {
            u.me ? u.B() : u.show(a);
            x(u)
        });
        q(u.ff, function () {
            u.B()
        });
        q(Mj, function (a) {
            d.T = a.Wa;
            c();
            switch (d.T) {
                case "default":
                    void 0 !== d.J.ac && t(dg, {});
                    void 0 !== d.J.Gd && t(fg, void 0);
                    d.u.a.appendChild(d.u.mg.P);
                    d.u.a.appendChild(d.u.mg.a);
                    d.Tg.Lm(u);
                    d.u.L.Ad();
                    break;
                case "theater":
                    void 0 !== d.J.Gd && t(fg, void 0);
                    d.J.a.appendChild(d.u.mg.P);
                    d.J.a.appendChild(d.u.mg.a);
                    d.u.L.Vd();
                    break;
                case "fullscreen":
                    d.J.a.appendChild(d.u.mg.P);
                    d.J.a.appendChild(d.u.mg.a);
                    d.u.L.Vd();
                    u.B();
                    break;
                default:
                    v("Unexpected VideoMode: " + d.T, {}, "VIDEO_")
            }
            x(d)
        });
        t(Mj, {
            Tf: "default",
            Wa: this.T
        });
        var F = new Xg(function () {
                x(d)
            }, {
                tg: 20,
                Ni: Zg.qm
            }),
            C = new Xg(function () {
                t(mg, void 0)
            }, {
                tg: 250,
                Ni: Zg.qm
            });
        window.onresize = function () {
            Yg(C);
            Yg(F)
        };
        window.onorientationchange = function () {
            Ag();
            x(d)
        };
        z("scroll", window, function () {
            x(d.Cb)
        }, !1, !0);
        z("popstate", window, function (a) {
            void 0 !== a.state && null !== a.state && Is(d, a.state, !1)
        });
        q(eg, function (a) {
            Is(d, a, !0)
        });
        q(T, function (a) {
            u.B();
            document.title = ub(a.h.i);
            d.H.a.style.display = "block";
            a.h.Lf || a.h.Gg || "" === a.h.ui.header ? (d.Zd.a.style.display = "none", d.ti.a.style.display = "none") : (d.Zd.a.style.display = "block", d.ti.a.style.display = "block");
            d.ye = a.h.pa.ye;
            if (d.u.L instanceof mm) {
                var b = function () {
                    void 0 === window.xmovie.SetTipVol ? setTimeout(function () {
                        b()
                    }, 100) : window.xmovie.SetTipVol(d.ye)
                };
                b()
            }
            qi(a.h.Va);
            x(d);
            Gs || (Gs = !0);
            c()
        });
        q(li, function (a) {
            d.H.Na.Va.innerText = "" + a.qc;
            d.H.Na.ii.innerText = " " + vb(a.qc);
            qi(a.qc)
        });
        this.J.a.ontouchstart = function () {
            d.Wh = !0;
            setTimeout(function () {
                d.Wh = !1
            }, 500)
        };
        this.J.a.onmousemove = function () {
            d.Wh || d.u.S.Ud()
        };
        $a("click", this.J.X.ia.ba.w.ef, gk);
        this.J.X.ia.ba.w.ef.onclick = function (a) {
            a.stopPropagation();
            a.preventDefault();
            t(dg, {})
        };
        this.u.L instanceof
        rm && (this.u.L.a.ontouchstart = function () {
            "default" === d.T && (d.Wh = !0, setTimeout(function () {
                d.Wh = !1
            }, 500))
        }, this.u.L.a.onmousemove = function () {
            "default" === d.T && (d.Wh || d.u.S.Ud())
        });
        Is(this, a, !0);
        x(this);
        this.mh();
        q(lg, function (a) {
            d.ye = a.ye
        });
        To(this.sg, "huge", "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/huge.mp3");
        To(this.sg, "large", "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/large.mp3");
        To(this.sg, "medium", "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/medium.mp3");
        To(this.sg, "small", "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/small.mp3");
        To(this.sg, "tiny", "https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/tiny.mp3");
        this.u.L instanceof mm && q(ql.pp, function (a) {
            void 0 !== window.xmovie.SetTipVol && window.xmovie.SetTipVol(a)
        })
    }
    m(Hs, w);
    Hs.prototype.C = function () {
        switch (this.T) {
            case "default":
                var a = this.a.clientWidth - 32 - 12 - 2 * this.H.bg;
                "none" !== this.Zd.a.style.display && (a = a - this.Zd.a.offsetWidth - 6);
                this.H.a.style.width = a + "px";
                this.J.a.style.top = "0";
                break;
            case "theater":
                a = this.a.clientWidth - 8 - 2 * this.H.bg;
                "none" !== this.Zd.a.style.display && (a = a - this.Zd.a.offsetWidth - 18);
                this.H.a.style.width = a + "px";
                Yq(this.H.ag, a);
                this.J.a.style.top = "0";
                this.u.up = this.H.oc.offsetHeight + this.H.tl.offsetHeight + this.H.uh.a.offsetHeight + this.H.Wq.Zb.offsetHeight +
                    this.de.a.offsetHeight;
                break;
            case "fullscreen":
                break;
            default:
                v("Unexpected VideoMode: " + this.T, {}, "VIDEO_")
        }
    };

    function Is(a, b, c) {
        b !== a.yq && (a.yq = b, (Gs ? jl(b) : il(window.initialRoomDossier)).then(function (b) {
            O("LoadRoom", {
                version: 2
            });
            void 0 !== a.Um && a.Um();
            var d = b.Lp ? new Fn(b) : new Jo(b);
            a.Tg.Jp(d);
            a.u.L instanceof mm ? q(d.event.pe, function (a) {
                window.xmovie.PlayBeep(a)
            }) : q(d.event.pe, function (b) {
                a.sg.pe(b, a.ye * a.u.L.Ag() / 100)
            });
            document.title = ub(b.i);
            void 0 !== b.xc ? ls(a.u, b.xc) : v("isWidescreen is not defined.", {}, "VIDEO_");
            var f = {
                    h: b,
                    j: d
                },
                h, g;
            a.Um = function () {
                clearInterval(h);
                window.clearTimeout(g);
                d.disconnect();
                a.u.L.stop();
                t(ng, void 0)
            };
            a.u.L.Zi(f);
            c && Fs(b);
            "offline" === f.h.Za ? (a.H.xb.style.position = "fixed", a.H.xb.style.top = "999999px", a.H.uh.a.style.display = "none", a.H.oc.style.display = "none", a.H.tl.style.display = "none", a.H.qd.style.display = "block", a.H.qd.insertAdjacentElement("afterend", a.H.Na.D)) : (a.H.xb.style.position = "", a.H.xb.style.top = "", a.H.xb.style.display = "block", a.H.uh.a.style.display = "block", a.H.oc.style.display = "block", a.H.tl.style.display = "block", a.H.qd.style.display = "none", a.H.Na.Zl.insertAdjacentElement("afterend", a.H.Na.D));
            t(T, f);
            a.Cl.B();
            a.Ca.add(q(d.event.ib, function (b) {
                "notconnected" === b.Qc && (h = setInterval(function () {
                    d.tm()
                }, 3E4));
                var c = ["privatewatching", "groupwatching"];
                c = 0 <= c.indexOf(b.Qc) || 0 <= c.indexOf(b.ya);
                if ("notconnected" === b.Qc || c) g = setTimeout(function () {
                    d.tm()
                }, 2E3);
                switch (b.ya) {
                    case "passwordprotected":
                        a.Cl.show(d.i()), a.H.a.style.display = "none", a.Zd.a.style.display = "none", a.ti.a.style.display = "none", Vp(a.de, d.i()), a.u.L.stop()
                }
            }));
            a.Ca.add(q(lg, function (a) {
                d.mp(a.ud, a.vd)
            }));
            a.Ca.add(q(ng, function () {
                xa(a.Ca)
            }));
            x(a)
        })["catch"](function (c) {
            if (void 0 !== c.ad && void 0 !== c.ad.responseText && "" !== c.ad.responseText)
                if ("application/json" !== c.ad.getResponseHeader("Content-Type")) v("Error reading room dossier error", {
                    room: b,
                    error: c.ad.responseText
                });
                else {
                    var d = new D(c.ad.responseText);
                    switch (H(d, "code", !1)) {
                        case "access-denied":
                            V("Access Denied for room: " + b + "\n\n" + I(d, "detail"));
                            break;
                        case "unauthorized":
                        case "password-required":
                            Fs({
                                i: b,
                                ab: "Chat with " + b
                            });
                            a.Cl.show(b);
                            a.H.a.style.display = "none";
                            a.Zd.a.style.display = "none";
                            a.ti.a.style.display = "none";
                            Vp(a.de, b);
                            break;
                        default:
                            v("Error parsing room dossier error", {
                                room: b,
                                error: c.ad.responseText
                            })
                    }
                }
            else v("Error occurred while processing room dossier: " + c, {
                room: b
            })
        }), hb())
    };
    var Js = window.newrelic;

    function Ks(a, b, c) {
        c = void 0 === c ? {} : c;
        try {
            if (void 0 !== Js) {
                var d = {};
                d["attributes.level"] = a;
                for (var e in c) d["attributes." + e] = c[e];
                Js.noticeError(b, d)
            }
        } catch (f) {
            v("New Relic Error in reportError: " + f.toString())
        }
    }

    function Pg(a) {
        void 0 !== window.console && console.info(a, "")
    }

    function r(a, b, c) {
        c = void 0 === c ? "" : c;
        void 0 !== window.console && console.warn(c.concat("WARN "), a, void 0 === b ? "" : b);
        try {
            var d = "object" === typeof a ? JSON.stringify(a) : a.toString()
        } catch (e) {
            d = "" + a
        }
        Ks(c.concat("WARN"), Error(d), b)
    }

    function v(a, b, c) {
        c = void 0 === c ? "" : c;
        void 0 !== window.console && console.error(c.concat("ERROR "), a, void 0 === b ? "" : b);
        try {
            var d = "object" === typeof a ? JSON.stringify(a) : a.toString()
        } catch (e) {
            d = "" + a
        }
        Ks(c.concat("ERROR"), Error(d), b)
    }

    function Hn() {}
    window.onerror = function (a, b, c, d, e) {
        try {
            var f = JSON.stringify(e)
        } catch (h) {
            f = "" + e
        }
        v(['"Message: " ' + a, '"URL: "  ' + b, '"Line: " ' + c, '"Column: " ' + d, '"Error object: " ' + f].join("\n"), {}, "");
        return !1
    };

    function Ls(a) {
        w.call(this);
        var b = this;
        this.lp = [];
        this.jp = a;
        this.a.style.position = "relative";
        this.a.style.overflow = "visible";
        this.a.style.display = "none";
        this.a.style.position = "absolute";
        this.a.style.top = "0";
        this.a.style.left = "0";
        this.a.style.right = "auto";
        this.a.style.bottom = "auto";
        this.a.style.width = "100%";
        this.a.style.display = "none";
        void 0 !== a && z("click", a, function () {
            "none" === b.a.style.display ? b.show() : b.B()
        }, !1);
        Ms(this)
    }
    m(Ls, w);
    Ls.prototype.show = function () {
        this.a.style.display = "block";
        Ns(this, !0)
    };
    Ls.prototype.B = function () {
        this.a.style.display = "none";
        Ns(this, !1)
    };

    function Ms(a) {
        z("click", document, function (b) {
            b = b.target;
            !(b instanceof Element) || a.a.contains(b) || void 0 !== a.jp && a.jp.contains(b) || a.B()
        }, !1)
    }

    function Os(a, b) {
        a.lp.push(b)
    }

    function Ns(a, b) {
        a.lp.forEach(function (a) {
            return a(b)
        })
    }
    Ls.prototype.appendChild = function (a) {
        this.a.appendChild(a)
    };

    function Ps() {
        w.call(this);
        this.a.style.overflow = "";
        this.a.style.position = "static";
        this.a.style.overflowX = "hidden";
        this.a.style.overflowY = "auto";
        Qs(this)
    }
    m(Ps, w);

    function Qs(a) {
        if (/iPad|iPhone|iPod/.test(navigator.platform)) {
            a.a.style["-webkit-overflow-scrolling"] = "touch";
            var b = function () {
                a.a.style.overflowY = "scroll";
                $a("scroll", a.a, b)
            };
            z("scroll", a.a, b)
        }
    };

    function Rs(a) {
        A("notifications/updates/").then(function (b) {
            b = kb(new D(b.responseText));
            void 0 !== b && (b = b.map(function (a) {
                return {
                    text: I(a, "text"),
                    url: I(a, "url"),
                    timestamp: L(a, "timestamp"),
                    lm: I(a, "time_since"),
                    Wl: K(a, "seen")
                }
            }), a(b))
        })["catch"]()
    }

    function Ss(a, b) {
        A("notifications/record_last_seen/?timestamp=" + a).then(function () {
            b()
        })
    };
    var Ts = new n("dropDownToggle"),
        Us = new n("updatesAreRead");

    function Vs(a) {
        w.call(this);
        this.a.style.fontFamily = "Ubuntu, Helvetica, Arial, sans-serif";
        this.a.style.fontStyle = "normal";
        this.a.style.fontWeight = "normal";
        this.a.style.position = "relative";
        this.a.style.height = "";
        this.a.style.width = "";
        this.a.style.margin = "7px";
        this.a.style.padding = "6px";
        Ws(this, a.Wl);
        this.a.style.borderRadius = "4px";
        this.a.appendChild(Xs(a.text));
        "" !== a.lm && this.a.appendChild(Ys(a.lm));
        "" !== a.url && this.a.appendChild(Zs(a.url))
    }
    m(Vs, w);

    function Ws(a, b) {
        a.a.style.backgroundColor = b ? "#EFEFEF" : "#FFE5BE";
        a.a.style.border = "1px solid " + (b ? "#C1C1C1" : "#DABB95")
    }

    function Xs(a) {
        var b = document.createElement("div");
        b.innerHTML = a;
        $s(b);
        b.style.fontSize = "12px";
        b.style.lineHeight = "14px";
        b.style.whiteSpace = "pre-wrap";
        b.style.color = "#494949";
        b.style.marginBottom = "6px";
        b.style["word-wrap"] = b.style["word-break"] = "break-word";
        b.style.overflow = "hidden";
        return b
    }

    function $s(a) {
        Array.from(a.querySelectorAll("a")).forEach(function (a) {
            a.target = "_blank";
            a.style.outline = "none";
            a.style.color = "#e45900";
            a.style.fontSize = "12px";
            a.style.lineHeight = "14px";
            null !== a.firstChild && a.firstChild instanceof Text && null !== a.firstChild.textContent && (a.firstChild.textContent = a.firstChild.textContent.replace(/^http(s)?:\/\//, "").replace(/^www\./, ""))
        })
    }

    function Ys(a) {
        var b = document.createElement("div");
        b.appendChild(document.createTextNode(a));
        b.style.fontSize = "9px";
        b.style.lineHeight = "13px";
        b.style.color = "#7F7F7F";
        b.style.cssFloat = "left";
        return b
    }

    function Zs(a) {
        var b = document.createElement("a");
        b.href = a;
        b.target = "_blank";
        b.appendChild(document.createTextNode(Zf));
        b.style.fontSize = "9px";
        b.style.lineHeight = "13px";
        b.style.textAlign = "right";
        b.style.color = "#0A5A83";
        b.style.cssFloat = "right";
        return b
    };

    function at() {
        Ps.call(this);
        this.a.style.maxHeight = "307px";
        this.a.style.backgroundColor = "#FFFFFF";
        this.a.style["-webkit-transform"] = "translateZ(0)";
        this.N(new Vs({
            text: nd + "...",
            Wl: !0,
            timestamp: 0,
            lm: "",
            url: ""
        }))
    }
    m(at, Ps);

    function bt(a, b) {
        Da(a);
        b.forEach(function (b) {
            a.N(new Vs(b))
        })
    }

    function ct(a) {
        a.children().forEach(function (a) {
            a instanceof Vs && Ws(a, !0)
        })
    };

    function dt() {
        X.call(this);
        var a = this;
        this.O = 0;
        this.Kn = !1;
        this.pl = void 0;
        this.a.style.overflow = "";
        this.Gk = new at;
        this.N(this.Gk);
        q(Ts, function (b) {
            (a.vq = b) ? et(a): void 0 !== a.pl && clearTimeout(a.pl)
        })
    }
    m(dt, X);
    dt.prototype.Je = function () {
        return 99 < this.O ? ag + " (99+)" : 0 < this.O ? ag + " (" + this.O + ")" : ag
    };
    dt.prototype.ee = function () {
        return "updates-tab"
    };
    dt.prototype.show = function () {
        X.prototype.show.call(this);
        this.Db();
        this.C()
    };

    function et(a) {
        a.Kn ? ft(a) : Rs(function (b) {
            a.items = b;
            bt(a.Gk, b);
            a.O = b.filter(function (a) {
                return !a.Wl
            }).length;
            a.Db();
            a.Kn = !0;
            ft(a)
        })
    }

    function ft(a) {
        0 < a.O && (a.pl = setTimeout(function () {
            a.vq && Ss(a.items[0].timestamp, function () {
                t(Us, void 0);
                ct(a.Gk);
                a.O = 0;
                a.Db()
            })
        }, 3E3))
    };

    function gt() {
        Oi.call(this);
        this.qp = new dt;
        Vi(this, {
            fontSize: "12px",
            padding: "5px 10px"
        });
        Wi(this, {
            color: "#DC5500"
        });
        this.a.style.overflow = "hidden";
        this.a.style.position = "static";
        this.a.style.backgroundColor = "#FFFFFF";
        this.a.style.border = "1px solid #2C6990";
        this.a.style.borderTop = "none";
        this.a.style.borderRadius = "0 0 4px 4px";
        this.ub.style.borderBottom = "none";
        this.ub.style.backgroundColor = "#747474";
        this.ub.style.padding = "4px 0 0 6px";
        this.ub.style.marginBottom = "4px";
        this.window.style.position = "static";
        Pi(this, this.qp);
        Ui(this, this.qp);
        var a = document.createElement("A");
        a.href = Ph.ym;
        a.target = "_blank";
        a.innerText = $f;
        a.style.fontSize = "11px";
        a.style.color = "12px";
        a.style.color = "#0A5A83";
        a.style.textAlign = "center";
        a.style.width = "100%";
        a.style.display = "block";
        a.style.cssFloat = "right";
        a.style.padding = "5px 0";
        this.a.appendChild(a)
    }
    m(gt, Oi);
    gt.prototype.C = function () {};

    function ht(a) {
        function b() {
            Ls.call(this, a);
            this.a.style.maxHeight = "368px";
            this.a.style.height = "";
            this.a.style.width = "100%";
            this.a.style.zIndex = "1001";
            this.a.style.backgroundColor = "#FFFFFF";
            this.a.style.fontFamily = "UbuntuBold, Helvetica, Arial, sans-serif";
            this.a.style.left = "-1px";
            this.a.style.top = "24px";
            this.a.appendChild(c.a);
            Os(this, function (a) {
                t(Ts, a)
            });
            q(Us, function () {
                a.className = a.className.replace("has_unseen", "")
            })
        }
        var c = new gt;
        m(b, Ls);
        return new b
    };

    function it(a, b) {
        Ls.call(this, a);
        var c = this;
        this.a.style.display = "none";
        this.a.style.height = "auto";
        this.a.style.left = "-1px";
        this.a.style.top = "24px";
        this.a.style.zIndex = "1001";
        this.a.style.backgroundColor = S.sp;
        this.a.style.border = "1px solid #2C6990";
        this.a.style.borderTop = "none";
        this.a.style.borderRadius = "0 0 5px 5px";
        this.a.style.fontFamily = "UbuntuBold, Helvetica, Arial, sans-serif";
        this.a.style.padding = "5px 0";
        this.a.style.position = "absolute";
        this.Bc = document.createElement("a");
        this.Bc.style.textDecoration = "none";
        this.Bc.innerText = nc;
        this.Bc.style.display = "block";
        this.Bc.style.fontSize = "14px";
        this.Bc.style.padding = "5px 0 5px 10px";
        this.Bc.style.color = S.xm;
        this.Bc.onmouseenter = function () {
            c.Bc.style.backgroundColor = S.wm
        };
        this.Bc.onmouseleave = function () {
            c.Bc.style.backgroundColor = "transparent"
        };
        this.Bc.onclick = function () {
            c.B()
        };
        this.a.appendChild(this.Bc);
        var d = document.createElement("form");
        d.method = "post";
        d.action = "/auth/logout/";
        d.style.display = "none";
        var e = document.createElement("input");
        e.type = "hidden";
        e.name = "csrfmiddlewaretoken";
        e.value = db("csrftoken");
        d.appendChild(e);
        this.a.appendChild(d);
        var f = document.createElement("a");
        f.style.textDecoration = "none";
        f.innerText = oc;
        f.style.display = "block";
        f.style.fontSize = "14px";
        f.style.padding = "5px 0 5px 10px";
        f.href = "#";
        f.style.color = S.xm;
        f.onmouseenter = function () {
            f.style.backgroundColor = S.wm
        };
        f.onmouseleave = function () {
            f.style.backgroundColor = "transparent"
        };
        f.href = "/auth/logout/";
        f.onclick = function (a) {
            a.preventDefault();
            c.B();
            Fh("Are you sure you want to log out?", function () {
                e.value = db("csrftoken");
                d.submit()
            })
        };
        this.a.appendChild(f);
        void 0 !== b && (this.Bc.href = "/p/" + b + "/?tab=bio")
    }
    m(it, Ls);

    function jt(a) {
        var b = a.logged_in_user;
        b = null !== b ? {
            username: b.username,
            zg: b.gender,
            Lf: b.is_supporter,
            Va: b.token_balance
        } : void 0;
        this.context = {
            Iq: a.no_ads,
            Nh: b
        };
        this.$k()
    }
    jt.prototype.$k = function () {
        var a = document.querySelector("#userInfoPanelMenuDropdownRoot"),
            b = document.querySelector("#user_information_profile_container"),
            c = document.querySelector("#userUpdatesMenuDropdownRoot"),
            d = document.querySelector("#userUpdatesBellRoot");
        null !== a && null !== b && (b = new it(b, void 0 !== this.context.Nh ? this.context.Nh.username : ""), a.appendChild(b.a), null !== d && null !== c && (a = ht(d), c.appendChild(a.a)));
        c = l(document.querySelectorAll(".purchase_tokens a, a.purchase_tokens"));
        for (a = c.next(); !a.done; a = c.next()) ri(a.value);
        c = document.getElementById("followed_tab");
        a = document.getElementById("followed_anchor");
        null !== c && null !== a && Rp(c, a, void 0 !== this.context.Nh ? this.context.Nh.username : "", void 0 === this.context.Nh, !1);
        this.context.Iq || kt()
    };

    function kt() {
        for (var a = l(document.querySelectorAll(".remove_ads a")), b = a.next(); !b.done; b = a.next()) b.value.onclick = function () {
            O("HideAds_Click")
        }
    }
    window.TS = jt;

    function lt(a) {
        jt.apply(this, arguments)
    }
    m(lt, jt);
    lt.prototype.$k = function () {
        jt.prototype.$k.call(this);
        mt()
    };

    function mt() {
        var a = window.location.pathname.replace(/\//g, "");
        document.title = ub(a);
        ep().then(function (b) {
            new Hs(a, b)
        });
        q(T, function (a) {
            ga("set", "page", a.h.i);
            ga("send", "pageview");
            cp(a.j);
            try {
                void 0 !== pb && pb.setCustomAttribute("attributes.room_user", a.h.i)
            } catch (c) {
                v("New Relic Error in setCustomAttribute: " + c)
            }
        });
        Zo();
        Bp()
    }
    window.TS = lt;
}).call(this);